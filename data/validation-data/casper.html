<!doctype html>

<html lang="en" dir="ltr">
  <head>
<!-- Start of Shoplift scripts -->
<!-- 2026-01-20T17:54:49.8905011Z -->
<style>.shoplift-hide { opacity: 0 !important; }</style>
<style id="sl-preview-bar-hide">#preview-bar-iframe, #PBarNextFrameWrapper { display: none !important; }</style>
<script async crossorigin fetchpriority="high" src="/cdn/shopifycloud/importmap-polyfill/es-modules-shim.2.4.0.js"></script>
<script type="text/javascript">(function(rootPath, template, themeRole, themeId, isThemePreview){ /* Generated on 2026-02-06T19:27:57.2654172Z */(function(){"use strict";var $=document.createElement("style");$.textContent=`#shoplift-preview-control{position:fixed;max-width:332px;height:56px;background-color:#141414;z-index:9999;bottom:20px;display:flex;border-radius:8px;box-shadow:13px 22px 7px #0000,9px 14px 7px #00000003,5px 8px 6px #0000000d,2px 4px 4px #00000017,1px 1px 2px #0000001a,0 0 #0000001a;align-items:center;margin:0 auto;left:16px;right:16px;opacity:0;transform:translateY(20px);visibility:hidden;transition:opacity .4s ease-in-out,transform .4s ease-in-out,visibility 0s .4s}#shoplift-preview-control.visible{opacity:1;transform:translateY(0);visibility:visible;transition:opacity .4s ease-in-out,transform .4s ease-in-out,visibility 0s 0s}#shoplift-preview-control *{font-family:Inter,sans-serif;color:#fff;box-sizing:border-box;font-size:16px}#shoplift-preview-variant-title{font-weight:400;line-height:140%;font-size:16px;text-align:start;letter-spacing:-.16px;flex-grow:1;text-wrap:nowrap;overflow:hidden;text-overflow:ellipsis}#shoplift-preview-variant-selector{position:relative;display:block;padding:6px 0;height:100%;min-width:0;flex:1 1 auto}#shoplift-preview-variant-menu-trigger{border:none;cursor:pointer;width:100%;background-color:transparent;padding:0 16px;border-left:1px solid #333;border-right:1px solid #333;height:100%;display:flex;align-items:center;justify-content:start;gap:8px}#shoplift-preview-variant-selector .menu-variant-label{width:24px;height:24px;border-radius:50%;padding:6px;display:flex;justify-content:center;align-items:center;font-size:12px;font-style:normal;font-weight:600;line-height:100%;letter-spacing:-.12px;flex-shrink:0}#shoplift-preview-variant-selector .preview-variant-menu{position:absolute;bottom:110%;transform:translate3d(0,20px,0);visibility:hidden;pointer-events:none;opacity:0;cursor:pointer;background-color:#141414;border:1px solid #141414;border-radius:6px;width:100%;max-height:156px;overflow-y:auto;box-shadow:0 8px 16px #0003;z-index:1;transition:opacity .3s ease-in-out,transform .3s ease-in-out,visibility 0s .3s}#shoplift-preview-variant-selector .preview-variant-menu.preview-variant-menu__visible{visibility:visible;pointer-events:auto;opacity:100;transform:translateZ(0);transition:opacity .3s ease-in-out,transform .3s ease-in-out,visibility 0s 0s}@media screen and (max-width:400px){#shoplift-preview-variant-selector .preview-variant-menu{position:fixed;left:0;right:0;width:auto;bottom:110%}}#shoplift-preview-variant-selector .preview-variant-menu .preview-variant-menu--item{padding:12px 16px;display:flex;overflow:hidden}#shoplift-preview-variant-selector .preview-variant-menu .preview-variant-menu--item .menu-variant-label{margin-right:6px}#shoplift-preview-variant-selector .preview-variant-menu .preview-variant-menu--item span{overflow:hidden;text-overflow:ellipsis;text-wrap:nowrap;white-space:nowrap;color:#f6f6f6;font-size:14px;font-style:normal;font-weight:500}#shoplift-preview-variant-selector .preview-variant-menu .preview-variant-menu--item:hover{background-color:#545454}#shoplift-preview-variant-selector .preview-variant-menu .preview-variant-menu--item:last-of-type{border-bottom-left-radius:6px;border-bottom-right-radius:6px}#shoplift-preview-variant-selector .preview-variant-menu .preview-variant-menu--item:first-of-type{border-top-left-radius:6px;border-top-right-radius:6px}#shoplift-preview-control div:has(#shoplift-exit-preview-button){padding:0 16px}#shoplift-exit-preview-button{padding:6px 8px;font-weight:500;line-height:75%;border-radius:4px;background-color:transparent;border:none;text-decoration:none}#shoplift-exit-preview-button:hover{cursor:pointer;background-color:#333}/*$vite$:1*/`,document.head.appendChild($);var B=" daum[ /]| deusu/| yadirectfetcher|(?:^|[^g])news(?!sapphire)|(?<! (?:channel/|google/))google(?!(app|/google| pixel))|(?<! cu)bots?(?:\\b|_)|(?<!(?: ya| yandex|^job|inapp;) ?)search|(?<!(?:lib))http|(?<![hg]m)score|@[a-z][\\w-]+\\.|\\(\\)|\\.com|\\b\\d{13}\\b|^<|^[\\w \\.\\-\\(?:\\):]+(?:/v?\\d+(?:\\.\\d+)?(?:\\.\\d{1,10})*?)?(?:,|$)|^[^ ]{50,}$|^\\d+\\b|^\\w+/[\\w\\(\\)]*$|^active|^ad muncher|^amaya|^avsdevicesdk/|^biglotron|^bot|^bw/|^clamav[ /]|^client/|^cobweb/|^custom|^ddg[_-]android|^discourse|^dispatch/\\d|^downcast/|^duckduckgo|^facebook|^getright/|^gozilla/|^hobbit|^hotzonu|^hwcdn/|^jeode/|^jetty/|^jigsaw|^microsoft bits|^movabletype|^mozilla/\\d\\.\\d \\(compatible;?\\)$|^mozilla/\\d\\.\\d \\w*$|^navermailapp|^netsurf|^offline|^owler|^postman|^python|^rank|^read|^reed|^rest|^rss|^snapchat|^space bison|^svn|^swcd |^taringa|^thumbor/|^track|^valid|^w3c|^webbandit/|^webcopier|^wget|^whatsapp|^wordpress|^xenu link sleuth|^yahoo|^yandex|^zdm/\\d|^zoom marketplace/|^{{.*}}$|admin|analyzer|archive|ask jeeves/teoma|bit\\.ly/|bluecoat drtr|browsex|burpcollaborator|capture|catch|check|chrome-lighthouse|chromeframe|classifier|clean|cloud|crawl|cypress/|dareboost|datanyze|dejaclick|detect|dmbrowser|download|evc-batch/|feed|firephp|gomezagent|headless|httrack|hubspot marketing grader|hydra|ibisbrowser|images|insight|inspect|iplabel|ips-agent|java(?!;)|library|mail\\.ru/|manager|measure|neustar wpm|node|nutch|offbyone|optimize|pageburst|pagespeed|parser|perl|phantomjs|pingdom|powermarks|preview|proxy|ptst[ /]\\d|reputation|resolver|retriever|rexx;|rigor|rss\\b|scan|scrape|server|sogou|sparkler/|speedcurve|spider|splash|statuscake|synapse|synthetic|tools|torrent|trace|transcoder|url|virtuoso|wappalyzer|watch|webglance|webkit2png|whatcms/|zgrab",G=/bot|spider|crawl|http|lighthouse/i,V;function K(){if(V instanceof RegExp)return V;try{V=new RegExp(B,"i")}catch{V=G}return V}function j(l){return!!l&&K().test(l)}class L{timestamp;constructor(){this.timestamp=new Date}}class W extends L{type;testId;hypothesisId;constructor(t,e,i){super(),this.type=3,this.testId=t,this.hypothesisId=e,this.timestamp=i}}class J extends L{type;path;constructor(t){super(),this.type=4,this.path=t}}class Y extends L{type;cart;constructor(t){super(),this.type=5,this.cart=t}}class D extends Error{isBot;constructor(){super(),this.isBot=!0}}function Z(l,t,e){for(const i of t.selectors){const s=l.querySelectorAll(i.cssSelector);for(let r=0;r<s.length;r++)e(t.testId,t.hypothesisId)}H(l,t,(i,s,r,o,n)=>n(s,r),e)}function x(l,t,e){for(const i of t.selectors)F(l,t.testId,t.hypothesisId,i,e??(()=>{}));H(l,t,F,e??(()=>{}))}function M(l){return l.urlPatterns.reduce((t,e)=>{switch(e.operator){case"contains":return t+`.*${e}.*`;case"endsWith":return t+`.*${e}`;case"startsWith":return t+`${e}.*`}},"")}function H(l,t,e,i){new MutationObserver(()=>{for(const r of t.selectors)e(l,t.testId,t.hypothesisId,r,i)}).observe(l.documentElement,{childList:!0,subtree:!0})}function F(l,t,e,i,s){const r=l.querySelectorAll(i.cssSelector);for(let o=0;o<r.length;o++){let n=r.item(o);if(n instanceof HTMLElement&&n.dataset.shoplift!==""){n.dataset.shoplift="";for(const a of i.actions.sort(ot))n=Q(l,i.cssSelector,n,a)}}return r.length>0&&s?(s(t,e),!0):!1}function Q(l,t,e,i){switch(i.type){case"innerHtml":e.innerHTML=i.value;break;case"attribute":X(e,i.scope,i.value);break;case"css":tt(l,t,i.value);break;case"js":et(l,e,i);break;case"copy":return it(e);case"remove":st(e);break;case"move":rt(e,parseInt(i.value));break}return e}function X(l,t,e){l.setAttribute(t,e)}function tt(l,t,e){const i=l.createElement("style");i.innerHTML=`${t} { ${e} }`,l.getElementsByTagName("head")[0]?.appendChild(i)}function et(l,t,e){Function("document","element",`"use strict"; ${e.value}`)(l,t)}function it(l){const t=l.cloneNode(!0);if(!l.parentNode)throw"Can't copy node outside of DOM";return l.parentNode.insertBefore(t,l.nextSibling),t}function st(l){l.remove()}function rt(l,t){if(t===0)return;const e=Array.prototype.slice.call(l.parentElement.children).indexOf(l),i=Math.min(Math.max(e+t,0),l.parentElement.children.length-1);l.parentElement.children.item(i).insertAdjacentElement(t>0?"afterend":"beforebegin",l)}function ot(l,t){return N(l)-N(t)}function N(l){return l.type==="copy"||l.type==="remove"?0:1}var P=(l=>(l[l.Template=0]="Template",l[l.Theme=1]="Theme",l[l.UrlRedirect=2]="UrlRedirect",l[l.Script=3]="Script",l[l.Dom=4]="Dom",l[l.Price=5]="Price",l))(P||{});const nt="data:image/svg+xml,%3csvg%20width='12'%20height='12'%20viewBox='0%200%2012%2012'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9.96001%207.90004C9.86501%207.90004%209.77001%207.86504%209.69501%207.79004L6.43501%204.53004C6.19501%204.29004%205.80501%204.29004%205.56501%204.53004L2.30501%207.79004C2.16001%207.93504%201.92001%207.93504%201.77501%207.79004C1.63001%207.64504%201.63001%207.40504%201.77501%207.26004L5.03501%204.00004C5.56501%203.47004%206.43001%203.47004%206.96501%204.00004L10.225%207.26004C10.37%207.40504%2010.37%207.64504%2010.225%207.79004C10.15%207.86004%2010.055%207.90004%209.96001%207.90004Z'%20fill='white'/%3e%3c/svg%3e",at="data:image/svg+xml,%3csvg%20width='14'%20height='24'%20viewBox='0%200%2014%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12.3976%2014.5255C12.2833%2013.8788%2012.0498%2013.3024%2011.6952%2012.7961C11.3416%2012.2898%2010.9209%2011.8353%2010.4353%2011.4317C9.94868%2011.0291%209.43546%2010.6488%208.89565%2010.292C8.48487%2010.049%208.09577%209.78565%207.72637%209.50402C7.35697%209.2224%207.08016%208.89503%206.89694%208.51987C6.71273%208.14471%206.67826%207.69533%206.79055%207.1697C6.86345%206.83216%206.97476%206.54647%207.12351%206.31162C7.27324%206.07778%207.47124%205.89986%207.7175%205.77684C7.96377%205.65483%208.21989%205.59383%208.48389%205.59383C8.88087%205.59383%209.17639%205.7016%209.3734%205.91714C9.56943%206.13268%209.68271%206.42345%209.71424%206.78946C9.74576%207.15547%209.72015%207.55401%209.63839%207.98509C9.55663%208.41617%209.43645%208.84724%209.27687%209.27934L13.5127%208.80149C13.9638%207.52656%2014.1017%206.42447%2013.9264%205.49725C13.751%204.56901%2013.2664%203.85122%2012.4724%203.34491C12.239%203.19648%2011.9779%203.07041%2011.6893%202.96569L12.0026%201.50979L9.86397%200L7.3875%201.50979L7.11169%202.78878C6.65166%202.8874%206.21724%203.01957%205.8114%203.19038C4.85292%203.594%204.06684%204.15115%203.45117%204.86385C2.83452%205.57655%202.42571%206.40108%202.22378%207.33847C2.06616%208.06947%202.04942%208.70796%202.17551%209.25087C2.30061%209.7948%202.52028%2010.2828%202.8355%2010.7139C3.14974%2011.145%203.51816%2011.5344%203.93977%2011.881C4.36039%2012.2288%204.782%2012.5521%205.20164%2012.851C5.68334%2013.1702%206.13844%2013.5169%206.56497%2013.8921C6.99052%2014.2672%207.31954%2014.7125%207.55004%2015.228C7.78055%2015.7445%207.81502%2016.3769%207.65347%2017.1262C7.56482%2017.5389%207.43676%2017.8765%207.27028%2018.1388C7.10381%2018.4011%206.89596%2018.5983%206.64772%2018.7295C6.3985%2018.8606%206.12071%2018.9267%205.8114%2018.9267C5.21641%2018.9267%204.79776%2018.6034%204.62833%2018.1632C4.4589%2017.7229%204.47367%2017.2583%204.60075%2016.5639C4.72782%2015.8705%205.05092%2015.1395%205.37107%2014.3699H1.17665C1.17665%2014.3699%200.207341%2016.1115%200.0310135%2017.6762C-0.0655232%2018.5302%200.0635208%2019.2653%200.41519%2019.8844C0.76686%2020.5036%201.33032%2020.9814%202.10655%2021.319C2.39222%2021.443%202.7104%2021.5447%203.05813%2021.623L2.54589%2024H7.17473L7.7047%2021.5386C8.08493%2021.442%208.43857%2021.3231%208.76562%2021.1787C9.73985%2020.7476%2010.52%2020.1427%2011.1071%2019.3649C11.6932%2018.5871%2012.0873%2017.7291%2012.2892%2016.7917C12.4744%2015.9295%2012.5099%2015.1741%2012.3966%2014.5275L12.3976%2014.5255Z'%20fill='white'/%3e%3c/svg%3e";async function lt(l){let t=l.replace(/-/g,"+").replace(/_/g,"/");for(;t.length%4;)t+="=";const e=atob(t),i=Uint8Array.from(e,o=>o.charCodeAt(0)),s=new Blob([i]).stream().pipeThrough(new DecompressionStream("gzip")),r=await new Response(s).text();return JSON.parse(r)}function _(l,t){return typeof t=="string"&&/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d+(?:Z|[+-]\d+)/.test(t)?new Date(t):t}function O(l,t){return t}function k(l,t=!1,e=!1,i=","){const s=l/100;if(e){const o=Math.round(s).toLocaleString("en-US");return i!==","?o.replace(/,/g,i):o}else{const r=t?",":".",o=s.toFixed(2).split("."),n=parseInt(o[0],10),a=o[1]??"00",c=n.toLocaleString("en-US");return i!==","?`${c.replace(/,/g,i)}${r}${a}`:t?`${c.replace(/,/g,".")}${r}${a}`:`${c}${r}${a}`}}function R(l,t,e,i){const s=t.replace("{{amount}}",k(l,!1,!1)).replace("{{amount_no_decimals}}",k(l,!1,!0)).replace("{{amount_with_comma_separator}}",k(l,!0,!1)).replace("{{amount_no_decimals_with_comma_separator}}",k(l,!0,!0)).replace("{{amount_with_space_separator}}",k(l,!1,!1," ")).replace("{{amount_no_decimals_with_space_separator}}",k(l,!1,!0," ")).replace("{{amount_with_apostrophe_separator}}",k(l,!1,!1,"'")).replace("{{amount_no_decimals_with_apostrophe_separator}}",k(l,!1,!0,"'")).replace("{{amount_with_period_and_space_separator}}",k(l,!1,!1,". ")).replace("{{amount_no_decimals_with_period_and_space_separator}}",k(l,!1,!0,". "));return i?`${s} ${e}`:s}function q(l){return l.replace(/[^\d.,\s-]/g,"").trim()}function ct(l){const t=new Map;for(const[e,i,s]of l.v)t.set(e,{priceInCents:i,compareAtPriceInCents:s});return t}function dt(l,t,e,i){const{priceInCents:s,compareAtPriceInCents:r}=e,{mf:o,c:n,cce:a}=i;if(l.getAttribute("data-sl-attribute-p")===t)l.innerHTML=R(s,o,n,a);else if(l.getAttribute("data-sl-attribute-cap")===t)r<=0||r<=s?l.remove():l.innerHTML=R(r,o,n,a);else if(l.getAttribute("data-sl-attribute-discount")===t&&!(r<=0||r<=s)){const h=Math.round((r-s)/r*100),u=q(R(r-s,o,n,!1)),p=l.getAttribute("data-sl-format")||"percent";p==="percent"?l.textContent=`-${h}%`:p==="amount"?l.textContent=`-${u}`:p==="both"&&(l.textContent=`-${h}% (-${u})`)}}function ht(l){const t=[],e={id:"url-pattern",operator:"contains",value:"/"};for(const[i,s,r]of l.v){t.push({id:`p-${i}`,cssSelector:`[data-sl-attribute-p="${i}"]`,urlPatterns:[e],actions:[{id:`p-action-${i}`,type:"innerHtml",scope:"price",value:R(s,l.mf,l.c,l.cce)}]});const o=r<=0||r<=s;if(t.push({id:`cap-${i}`,cssSelector:`[data-sl-attribute-cap="${i}"]`,urlPatterns:[e],actions:[{id:`cap-action-${i}`,type:o?"remove":"innerHtml",scope:"compare-at-price",value:o?"":R(r,l.mf,l.c,l.cce)}]}),!o&&r>s){const n=Math.round((r-s)/r*100),a=q(R(r-s,l.mf,l.c,!1));t.push({id:`d-${i}`,cssSelector:`[data-sl-attribute-discount="${i}"]`,urlPatterns:[e],actions:[{id:`d-action-${i}`,type:"js",scope:null,value:`(function(doc, el) {              var format = el.getAttribute('data-sl-format') || 'percent';              if (format === 'percent') {                el.textContent = '-${n}%';              } else if (format === 'amount') {                el.textContent = '-${a}';              } else if (format === 'both') {                el.textContent = '-${n}% (-${a})';              }            })`}]})}}return t}let U=!1;class pt{constructor(t,e,i,s,r,o,n,a,c,h,u){this.shop=t,this.host=e,this.eventHost=i,this.disableReferrerOverride=a,this.logHistory=[],this.legacySessionKey=`SHOPLIFT_SESSION_${this.shop}`,this.cssHideClass=s?"shoplift-hide":"",this.testConfigs=h.map(d=>({...d,startAt:new Date(d.startAt),statusHistory:d.statusHistory.map(v=>({...v,createdAt:new Date(v.createdAt)}))})),this.inactiveTestConfigs=u,this.sendPageView=!!r,this.shopliftDebug=o===!0,this.gaConfig=n!=={"sendEvents":true,"mode":"gtag"}?n:{sendEvents:!1},this.fetch=window.fetch.bind(window),this.localStorageSet=window.localStorage.setItem.bind(window.localStorage),this.localStorageGet=window.localStorage.getItem.bind(window.localStorage);const p=this.getDeviceType();this.device=p!=="tablet"?p:"mobile",this.state=this.loadState(),this.shopifyAnalyticsId=this.getShopifyAnalyticsId(),this.testsFilteredByAudience=h.filter(d=>d.status=="active"),this.getCountryTimeout=c===1000?1e3:c,this.log("State Loaded",JSON.stringify(this.state))}DATA_SL_ATTRIBUTE_P="data-sl-attribute-p";DATA_SL_TEST_ID="data-sl-test-id";VIEWPORT_TRACK_THRESHOLD=.5;temporarySessionKey="Shoplift_Session";essentialSessionKey="Shoplift_Essential";analyticsSessionKey="Shoplift_Analytics";priceSelectorsSessionKey="Shoplift_PriceSelectors";legacySessionKey;cssHideClass;testConfigs;inactiveTestConfigs;testsFilteredByAudience;sendPageView;shopliftDebug;gaConfig;getCountryTimeout;state;shopifyAnalyticsId;cookie=document.cookie;isSyncing=!1;isSyncingGA=!1;fetch;localStorageSet;localStorageGet;sessionStorageSet=window.sessionStorage.setItem.bind(window.sessionStorage);sessionStorageGet=window.sessionStorage.getItem.bind(window.sessionStorage);urlParams=new URLSearchParams(window.location.search);device;logHistory;activeViewportObservers=new Map;deriveCategoryFromExistingTests(){if(!this.state.temporary.testCategory&&this.state.essential.visitorTests.length>0){const t=this.state.essential.visitorTests.some(e=>{if(!e.hypothesisId)return!1;const i=this.getHypothesis(e.hypothesisId);return i&&["theme","basicScript","price"].includes(i.type)});this.state.temporary.testCategory=t?"global":"conditional",this.persistTemporaryState(),this.log("Derived test category from existing visitorTests: %s",this.state.temporary.testCategory)}}async init(){try{if(this.log("Shoplift script initializing"),window.Shopify&&window.Shopify.designMode){this.log("Skipping script for design mode");return}if(window.location.href.includes("slScreenshot=true")){this.log("Skipping script for screenshot");return}if(window.location.hostname.endsWith(".edgemesh.com")){this.log("Skipping script for preview");return}if(window.location.href.includes("isShopliftMerchant")){const e=this.urlParams.get("isShopliftMerchant")==="true";this.log("Setting merchant session to %s",e),this.state.temporary.isMerchant=e,this.persistTemporaryState()}if(this.state.temporary.isMerchant){this.log("Setting up preview for merchant"),typeof window.shoplift!="object"&&this.setShopliftStub(),this.state.temporary.previewConfig||this.hidePage(),await this.initPreview(),document.querySelector("#sl-preview-bar-hide")?.remove();return}if(this.state.temporary.previewConfig=void 0,j(navigator.userAgent))return;if(navigator.userAgent.includes("Chrome/118")){this.log("Random: %o",[Math.random(),Math.random(),Math.random()]);const e=await this.makeRequest({url:`${this.eventHost}/api/v0/events/ip`,method:"get"}).then(i=>i?.json());this.log(`IP: ${e}`),this.makeRequest({url:`${this.eventHost}/api/v0/logs`,method:"post",data:JSON.stringify(this.debugState(),O)}).catch()}if(this.shopifyAnalyticsId=this.getShopifyAnalyticsId(),this.monitorConsentChange(),this.checkForThemePreview())return;if(!this.disableReferrerOverride&&this.state.temporary.originalReferrer!=null){this.log(`Overriding referrer from '${document.referrer}' to '${this.state.temporary.originalReferrer}'`);const e=this.state.temporary.originalReferrer;delete this.state.temporary.originalReferrer,this.persistTemporaryState(),Object.defineProperty(document,"referrer",{get:()=>e,enumerable:!0,configurable:!0})}if(await this.refreshVisitor(this.shopifyAnalyticsId),await this.handleVisitorTest()){this.log("Redirecting for visitor test");return}this.setShoplift(),this.showPage(),this.ensureCartAttributesForExistingPriceTests(!1),await this.finalize(),console.log("SHOPLIFT SCRIPT INITIALIZED!")}catch(t){if(t instanceof D)return;throw t}finally{typeof window.shoplift!="object"&&this.setShopliftStub()}}getVariantColor(t){switch(t){case"a":return{text:"#141414",bg:"#E2E2E2"};case"b":return{text:"rgba(255, 255, 255, 1)",bg:"rgba(37, 99, 235, 1)"}}}getDefaultVariantTitle(t){return t.title?t.title:t.type==="price"?t.isControl?"Original prices":"Variant prices":t.isControl?"Original":"Untitled variant "+t.label.toUpperCase()}async initPreview(){const t=this.urlParams.get("previewConfig");if(t){this.state.temporary.previewConfig=void 0,this.log("Setting up the preview"),this.log("Found preview config, writing to temporary state");const e=await lt(t);if(this.state.temporary.previewConfig=e,this.state.temporary.previewConfig.testTypeCategory===P.Price){this.hidePage(!0);const s=this.state.temporary.previewConfig;let r=`${this.host}/api/dom-selectors/${s.storeId}/${s.testId}/${s.isDraft||!1}`;s.shopifyProductId&&(r+=`?productId=${s.shopifyProductId}`);const o=await this.makeJsonRequest({method:"get",url:r}).catch(n=>(this.log("Error getting domSelectors",n),null));s.variants.forEach(n=>n.domSelectors=o[n.id]?.domSelectors)}this.persistTemporaryState();const i=new URL(window.location.toString());i.searchParams.delete("previewConfig"),this.queueRedirect(i)}else if(this.state.temporary.previewConfig){this.showPage();const e=this.state.temporary.previewConfig;e.testTypeCategory===P.Template&&this.handleTemplatePreview(e)&&this.initPreviewControls(e),e.testTypeCategory===P.UrlRedirect&&this.handleUrlPreview(e)&&this.initPreviewControls(e),e.testTypeCategory===P.Script&&this.handleScriptPreview(e)&&this.initPreviewControls(e),e.testTypeCategory===P.Price&&await this.handlePricePreview(e)&&this.initPreviewControls(e)}}initPreviewControls(t){document.addEventListener("DOMContentLoaded",()=>{const e=t.variants.find(v=>v.id===t.currentVariant),i=e?.label||"a",s=t.variants,r=document.createElement("div");r.id="shoplift-preview-control";const o=document.createElement("div"),n=document.createElement("img");n.src=at,n.height=24,n.width=14,o.style.padding="0 16px",o.style.lineHeight="100%",o.appendChild(n),r.appendChild(o);const a=document.createElement("div");a.id="shoplift-preview-variant-selector";const c=document.createElement("button");c.id="shoplift-preview-variant-menu-trigger";const h=document.createElement("div");h.className="menu-variant-label",h.style.backgroundColor=this.getVariantColor(i).bg,h.style.color=this.getVariantColor(i).text,h.innerText=i.toUpperCase(),c.appendChild(h);const u=document.createElement("span");if(u.id="shoplift-preview-variant-title",u.innerText=e?this.getDefaultVariantTitle(e):"Untitled variant "+i.toUpperCase(),c.appendChild(u),s.length>1){const v=document.createElement("img");v.src=nt,v.width=12,v.height=12,v.style.height="12px",v.style.width="12px",c.appendChild(v);const T=document.createElement("div");T.className="preview-variant-menu";for(const m of t.variants.filter(S=>S.id!==t.currentVariant)){const S=document.createElement("div");S.className="preview-variant-menu--item";const A=document.createElement("div");A.className="menu-variant-label",A.style.backgroundColor=this.getVariantColor(m.label).bg,A.style.color=this.getVariantColor(m.label).text,A.style.flexShrink="0",A.innerText=m.label.toUpperCase(),S.appendChild(A);const y=document.createElement("span");y.innerText=this.getDefaultVariantTitle(m),S.appendChild(y),S.addEventListener("click",()=>{this.pickVariant(m.id)}),T.appendChild(S)}a.appendChild(T),c.addEventListener("click",()=>{T.className!=="preview-variant-menu preview-variant-menu__visible"?T.classList.add("preview-variant-menu__visible"):T.classList.remove("preview-variant-menu__visible")}),document.addEventListener("click",m=>{m.target instanceof Element&&!c.contains(m.target)&&T.className==="preview-variant-menu preview-variant-menu__visible"&&T.classList.remove("preview-variant-menu__visible")})}else c.style.pointerEvents="none",h.style.margin="0";a.appendChild(c),r.appendChild(a);const p=document.createElement("div"),d=document.createElement("button");d.id="shoplift-exit-preview-button",d.innerText="Exit",p.appendChild(d),d.addEventListener("click",()=>{this.exitPreview()}),r.appendChild(p),document.body.appendChild(r),requestAnimationFrame(()=>{r.classList.add("visible")})}),this.ensureCartAttributesForExistingPriceTests(!0)}pickVariant(t){if(this.state.temporary.previewConfig){const e=this.state.temporary.previewConfig,i=new URL(window.location.toString());if(e.testTypeCategory===P.UrlRedirect){const s=e.variants.find(r=>r.id===e.currentVariant)?.redirectUrl;if(i.pathname===s){const r=e.variants.find(o=>o.id===t)?.redirectUrl;r&&(i.pathname=r)}}if(e.testTypeCategory===P.Template){const s=e.variants.find(r=>r.id===e.currentVariant)?.pathName;if(s&&i.pathname===s){const r=e.variants.find(o=>o.id===t)?.pathName;r&&r!==s&&(i.pathname=r)}}e.currentVariant=t,this.persistTemporaryState(),this.queueRedirect(i)}}exitPreview(){const t=new URL(window.location.toString());if(this.state.temporary.previewConfig?.testTypeCategory===P.Template&&t.searchParams.delete("view"),this.state.temporary.previewConfig?.testTypeCategory===P.Script&&t.searchParams.delete("slVariant"),this.state.temporary.previewConfig?.testTypeCategory===P.UrlRedirect){const i=this.state.temporary.previewConfig.variants.filter(r=>!r.isControl&&r.redirectUrl!==null).map(r=>r.redirectUrl),s=this.state.temporary.previewConfig.variants.find(r=>r.label==="a")?.redirectUrl;i.includes(t.pathname)&&s&&(t.pathname=s)}this.state.temporary.isMerchant=!1,t.searchParams.delete("isShopliftMerchant"),this.state.temporary.previewConfig=void 0,this.persistTemporaryState(),this.hidePage(),this.queueRedirect(t)}handleTemplatePreview(t){const e=t.currentVariant,i=t.variants.find(a=>a.id===e);if(!i)return!1;const s=t.variants.find(a=>a.isControl);if(!s)return!1;this.log("Setting up template preview for type",s.type);const r=new URL(window.location.toString()),o=r.searchParams.get("view"),n=i.type===s.type;return!n&&!i.isControl&&template.suffix===s.affix&&this.typeFromTemplate()===s.type&&i.pathName!==null?(this.log("Hit control template type, redirecting to the variant url"),this.hidePage(),r.pathname=i.pathName,this.queueRedirect(r),!0):(!i.isControl&&this.typeFromTemplate()==i.type&&template.suffix===s.affix&&n&&o!==(i.affix||"__DEFAULT__")&&(this.log("Template type and affix match control, updating the view param"),r.searchParams.delete("view"),this.log("Setting the new viewParam to",i.affix||"__DEFAULT__"),this.hidePage(),r.searchParams.set("view",i.affix||"__DEFAULT__"),this.queueRedirect(r)),o!==null&&o!==i.affix&&(r.searchParams.delete("view"),this.hidePage(),this.queueRedirect(r)),!0)}handleUrlPreview(t){const e=t.currentVariant,i=t.variants.find(o=>o.id===e),s=t.variants.find(o=>o.isControl)?.redirectUrl;if(!i)return!1;this.log("Setting up URL redirect preview");const r=new URL(window.location.toString());return r.pathname===s&&!i.isControl&&i.redirectUrl!==null&&(this.log("Url matches control, redirecting"),this.hidePage(),r.pathname=i.redirectUrl,this.queueRedirect(r)),!0}handleScriptPreview(t){const e=t.currentVariant,i=t.variants.find(o=>o.id===e);if(!i)return!1;this.log("Setting up script preview");const s=new URL(window.location.toString());return s.searchParams.get("slVariant")!==i.id&&(this.log("current id doesn't match the variant, redirecting"),s.searchParams.delete("slVariant"),this.log("Setting the new slVariantParam"),this.hidePage(),s.searchParams.set("slVariant",i.id),this.queueRedirect(s)),!0}async handlePricePreview(t){const e=t.currentVariant,i=t.variants.find(s=>s.id===e);return i?(this.log("Setting up price preview"),i.domSelectors&&i.domSelectors.length>0&&(x(document,{testId:t.testId,hypothesisId:i.id,selectors:i.domSelectors}),this.ensureCartAttributesForExistingPriceTests(!0)),!0):!1}async finalize(){const t=await this.getCartState();t!==null&&this.queueCartUpdate(t),this.pruneStateAndSave(),await this.syncAllEvents()}setShoplift(){this.log("Setting up public API");const e=this.urlParams.get("slVariant")==="true",i=e?null:this.urlParams.get("slVariant");window.shoplift={isHypothesisActive:async s=>{if(this.log("Script checking variant for hypothesis '%s'",s),e)return this.log("Forcing variant for hypothesis '%s'",s),!0;if(i!==null)return this.log("Forcing hypothesis '%s'",i),s===i;const r=this.testConfigs.find(n=>n.hypotheses.some(a=>a.id===s));if(!r)return this.log("No test found for hypothesis '%s'",s),!1;const o=this.state.essential.visitorTests.find(n=>n.testId===r.id);return o?(this.log("Active visitor test found",s),o.hypothesisId===s):(await this.manuallySplitVisitor(r),this.testConfigs.some(n=>n.hypotheses.some(a=>a.id===s&&this.state.essential.visitorTests.some(c=>c.hypothesisId===a.id))))},setAnalyticsConsent:async s=>{await this.onConsentChange(s,!0)},getVisitorData:()=>({visitor:this.state.analytics.visitor,visitorTests:this.state.essential.visitorTests.filter(s=>!s.isInvalid).map(s=>{const{shouldSendToGa:r,savedAt:o,...n}=s;return n})})}}setShopliftStub(){this.log("Setting up stubbed public API");const e=this.urlParams.get("slVariant")==="true",i=e?null:this.urlParams.get("slVariant");window.shoplift={isHypothesisActive:s=>Promise.resolve(e||s===i),setAnalyticsConsent:()=>Promise.resolve(),getVisitorData:()=>({visitor:null,visitorTests:[]})}}async manuallySplitVisitor(t){this.log("Starting manual split for test '%s'",t.id),await this.handleVisitorTest([t]);const e=this.getReservationForTest(t.id);e&&!e.isRealized&&e.entryCriteriaKey&&(this.log("Realizing manual API reservation for test '%s'",t.id),this.realizeReservationForCriteria(e.entryCriteriaKey)),this.saveState(),this.syncAllEvents()}async handleVisitorTest(t){await this.filterTestsByAudience(this.testConfigs,this.state.analytics.visitor??this.buildBaseVisitor(),this.state.essential.visitorTests),this.deriveCategoryFromExistingTests(),this.clearStaleReservations();let e=t?t.filter(i=>this.testsFilteredByAudience.some(s=>s.id===i.id)):[...this.testsForUrl(this.testsFilteredByAudience),...this.domTestsForUrl(this.testsFilteredByAudience)];try{if(e.length===0)return this.log("No tests found"),!1;this.log("Checking for existing visitor test on page");const i=this.getCurrentVisitorHypothesis(e);if(i){this.log("Found current visitor test");const a=this.considerRedirect(i);return a&&(this.log("Redirecting for current visitor test"),this.redirect(i)),a}const s=this.getReservationForCurrentPage();if(s){this.log("Found matching reservation for current page: %s",s.testId);const a=this.getHypothesis(s.hypothesisId);if(a){a.type!=="price"&&this.realizeReservationForCriteria(s.entryCriteriaKey);const c=this.considerRedirect(a);return c&&this.redirect(a),c}}this.log("No active test relation for test page");const r=this.testsForUrl(this.inactiveTestConfigs.filter(a=>this.testIsPaused(a)&&a.hypotheses.some(c=>this.state.essential.visitorTests.some(h=>h.hypothesisId===c.id)))).map(a=>a.id);if(r.length>0)return this.log("Visitor has paused tests for test page, skipping test assignment: %o",r),!1;if(!this.state.temporary.testCategory){const a=this.testsFilteredByAudience.filter(h=>this.isGlobalEntryCriteria(this.getEntryCriteriaKey(h))),c=this.testsFilteredByAudience.filter(h=>!this.isGlobalEntryCriteria(this.getEntryCriteriaKey(h)));if(this.log("Category dice roll - global tests: %o, conditional tests: %o",a.map(h=>({id:h.id,title:h.title,criteria:this.getEntryCriteriaKey(h)})),c.map(h=>({id:h.id,title:h.title,criteria:this.getEntryCriteriaKey(h)}))),a.length>0&&c.length>0){const h=a.length,u=c.length,p=h+u,d=Math.random()*p;this.state.temporary.testCategory=d<h?"global":"conditional",this.log("Category dice roll: rolled %.2f of %d (global weight: %d, conditional weight: %d), selected '%s'",d,p,h,u,this.state.temporary.testCategory)}else a.length>0?(this.state.temporary.testCategory="global",this.log("Only global tests available, setting category to global")):(this.state.temporary.testCategory="conditional",this.log("Only conditional tests available, setting category to conditional"));this.persistTemporaryState()}const o=this.state.temporary.testCategory;if(this.log("Visitor test category: %s",o),o==="global"){const a=this.testsFilteredByAudience.filter(c=>!this.isGlobalEntryCriteria(this.getEntryCriteriaKey(c)));for(const c of a)this.markTestAsBlocked(c,"category:global");e=e.filter(c=>this.isGlobalEntryCriteria(this.getEntryCriteriaKey(c)))}else{const a=this.testsFilteredByAudience.filter(c=>this.isGlobalEntryCriteria(this.getEntryCriteriaKey(c)));for(const c of a)this.markTestAsBlocked(c,"category:conditional");e=e.filter(c=>!this.isGlobalEntryCriteria(this.getEntryCriteriaKey(c)))}if(e.length===0)return this.log("No tests remaining after category filter"),!1;this.createReservations(e);const n=this.getReservationForCurrentPage();if(n&&!n.isRealized){const a=this.getHypothesis(n.hypothesisId);if(a){a.type!=="price"&&this.realizeReservationForCriteria(n.entryCriteriaKey);const c=this.considerRedirect(a);return c&&(this.log("Redirecting for new test"),this.redirect(a)),c}}return!1}finally{this.includeInDomTests(),this.saveState()}}includeInDomTests(){this.applyControlForAudienceFilteredPriceTests();const t=this.getDomTestsForCurrentUrl(),e=this.getVisitorDomHypothesis(t);for(const i of t){this.log("Evaluating dom test '%s'",i.id);const s=i.hypotheses.some(d=>d.type==="price");if(this.state.essential.visitorTests.find(d=>d.testId===i.id&&d.isInvalid&&!d.hypothesisId)){if(this.log("Visitor is blocked from test '%s', applying control prices if price test",i.id),s){const d=i.hypotheses.find(v=>v.isControl);d?.priceData&&(this.applyPriceTestWithMapLookup(i.id,d,[d],()=>{this.log("Control prices applied for blocked visitor, no metrics tracked")}),this.updatePriceTestHiddenInputs(i.id,"control",!1))}continue}const o=this.getReservationForTest(i.id);let n=null,a=!1;const c=e.find(d=>i.hypotheses.some(v=>d.id===v.id));if(o)n=this.getHypothesis(o.hypothesisId)??null,this.log("Using reserved hypothesis '%s' for test '%s'",o.hypothesisId,i.id);else if(c)n=c,this.log("Using existing hypothesis assignment for test '%s'",i.id);else if(s){const d=this.visitorActiveTestTypeWithReservations();d?(a=!0,this.log("Visitor already in test type '%s', treating as non-test for price test '%s'",d,i.id)):n=this.pickHypothesis(i)}else n=this.pickHypothesis(i);if(a&&s){const d=i.hypotheses.find(v=>v.isControl);d?.priceData&&(this.log("Applying control prices for non-test visitor on price test '%s' (Map-based)",i.id),this.applyPriceTestWithMapLookup(i.id,d,[d],()=>{this.log("Control prices applied for non-test visitor, no metrics tracked")}),this.updatePriceTestHiddenInputs(i.id,"control",!1));continue}if(!n){this.log("Failed to pick hypothesis for test");continue}const h=i.bayesianRevision??4,u=n.type==="price",p=h>=5;if(u&&p){if(this.log(`Price test with Map-based lookup (v${h}): ${i.id}`),!n.priceData){this.log("No price data for hypothesis '%s', skipping",n.id);continue}const d=n.isControl?"control":"variant";this.log(`Setting up Map-based price test for ${d} (test: ${i.id})`),this.applyPriceTestWithMapLookup(i.id,n,i.hypotheses,v=>{const T=this.getReservationForTest(v);T&&!T.isRealized&&T.entryCriteriaKey?this.realizeReservationForCriteria(T.entryCriteriaKey):this.queueAddVisitorToTest(v,n),this.saveState(),this.queuePageView(window.location.pathname),this.syncAllEvents()});continue}if(u&&!p){this.log(`Price test without viewport tracking (v${h}): ${i.id}`);const d=this.getDomSelectorsForHypothesis(n);if(d.length===0)continue;x(document,{testId:i.id,hypothesisId:n.id,selectors:d},v=>{this.queueAddVisitorToTest(v,n),this.saveState(),this.queuePageView(window.location.pathname),this.syncAllEvents()});continue}if(!n.domSelectors||n.domSelectors.length===0){this.log("No selectors found, skipping hypothesis");continue}x(document,{testId:i.id,hypothesisId:n.id,selectors:n.domSelectors},d=>{this.queueAddVisitorToTest(d,n),this.saveState(),this.queuePageView(window.location.pathname),this.syncAllEvents()})}}considerRedirect(t){if(this.log("Considering redirect for hypothesis '%s'",t.id),t.isControl)return this.log("Skipping redirect for control"),!1;if(t.type==="basicScript"||t.type==="manualScript")return this.log("Skipping redirect for script test"),!1;const e=this.state.essential.visitorTests.find(o=>o.hypothesisId===t.id),i=new URL(window.location.toString()),r=new URLSearchParams(window.location.search).get("view");if(t.type==="theme"){if(!(t.themeId===themeId)){if(this.log("Theme id '%s' is not hypothesis theme ID '%s'",t.themeId,themeId),this.isAppProxyPath())return this.log("On App Proxy path, skipping theme redirect to avoid infinite loop"),!1;if(e&&e.themeId!==t.themeId&&(e.themeId===themeId||!this.isThemePreview()))this.log("On old theme, redirecting and updating local visitor"),e.themeId=t.themeId;else if(this.isThemePreview())return this.log("On non-test theme, skipping redirect"),!1;return this.log("Hiding page to redirect for theme test"),this.hidePage(),!0}return!1}else if(t.type!=="dom"&&t.type!=="price"&&t.affix!==template.suffix&&t.affix!==r||t.redirectPath&&!i.pathname.endsWith(t.redirectPath))return this.log("Hiding page to redirect for template test"),this.hidePage(),!0;return this.log("Not redirecting"),!1}redirect(t){if(this.log("Redirecting to hypothesis '%s'",t.id),t.isControl)return;const e=new URL(window.location.toString());if(e.searchParams.delete("view"),t.redirectPath){const i=RegExp("^(/w{2}-w{2})/").exec(e.pathname);if(i&&i.length>1){const s=i[1];e.pathname=`${s}${t.redirectPath}`}else e.pathname=t.redirectPath}else t.type==="theme"?(e.searchParams.set("_ab","0"),e.searchParams.set("_fd","0"),e.searchParams.set("_sc","1"),e.searchParams.set("preview_theme_id",t.themeId.toString())):t.type!=="urlRedirect"&&e.searchParams.set("view",t.affix);this.queueRedirect(e)}async refreshVisitor(t){if(t===null||!this.state.essential.isFirstLoad||!this.testConfigs.some(i=>i.visitorOption!=="all"))return;this.log("Refreshing visitor"),this.hidePage();const e=await this.getVisitor(t);e&&e.id&&this.updateLocalVisitor(e)}buildBaseVisitor(){return{shopifyAnalyticsId:this.shopifyAnalyticsId,device:this.device,country:null,...this.state.essential.initialState}}getInitialState(){const t=this.getUTMValue("utm_source")??"",e=this.getUTMValue("utm_medium")??"",i=this.getUTMValue("utm_campaign")??"",s=this.getUTMValue("utm_content")??"",r=window.document.referrer,o=this.device;return{createdAt:new Date,utmSource:t,utmMedium:e,utmCampaign:i,utmContent:s,referrer:r,device:o}}checkForThemePreview(){return this.log("Checking for theme preview"),window.location.hostname.endsWith(".shopifypreview.com")?(this.log("on shopify preview domain"),this.clearThemeBar(!0,!1,this.state),document.querySelector("#sl-preview-bar-hide")?.remove(),!1):this.isThemePreview()?this.state.essential.visitorTests.some(t=>t.isThemeTest&&t.hypothesisId!=null&&this.getHypothesis(t.hypothesisId)&&t.themeId===themeId)?(this.log("On active theme test, removing theme bar"),this.clearThemeBar(!1,!0,this.state),!1):this.state.essential.visitorTests.some(t=>t.isThemeTest&&t.hypothesisId!=null&&!this.getHypothesis(t.hypothesisId)&&t.themeId===themeId)?(this.log("Visitor is on an inactive theme test, redirecting to main theme"),this.redirectToMainTheme(),!0):this.state.essential.isFirstLoad?(this.log("No visitor found on theme preview, redirecting to main theme"),this.redirectToMainTheme(),!0):this.inactiveTestConfigs.some(t=>t.hypotheses.some(e=>e.themeId===themeId))?(this.log("Current theme is an inactive theme test, redirecting to main theme"),this.redirectToMainTheme(),!0):this.testConfigs.some(t=>t.hypotheses.some(e=>e.themeId===themeId))?(this.log("Falling back to clearing theme bar"),this.clearThemeBar(!1,!0,this.state),!1):(this.log("No tests on current theme, skipping script"),this.clearThemeBar(!0,!1,this.state),document.querySelector("#sl-preview-bar-hide")?.remove(),!0):(this.log("Not on theme preview"),this.clearThemeBar(!0,!1,this.state),!1)}redirectToMainTheme(){this.hidePage();const t=new URL(window.location.toString());t.searchParams.set("preview_theme_id",""),this.queueRedirect(t)}testsForUrl(t){const e=new URL(window.location.href),i=this.typeFromTemplate();return t.filter(s=>s.hypotheses.some(r=>r.type!=="dom"&&r.type!=="price"&&(r.isControl&&r.type===i&&r.affix===template.suffix||r.type==="theme"||r.isControl&&r.type==="urlRedirect"&&r.redirectPath&&e.pathname.endsWith(r.redirectPath)||r.type==="basicScript"))&&(s.ignoreTestViewParameterEnforcement||!e.searchParams.has("view")||s.hypotheses.map(r=>r.affix).includes(e.searchParams.get("view")??"")))}domTestsForUrl(t){const e=new URL(window.location.href);return t.filter(i=>i.hypotheses.some(s=>s.type!=="dom"&&s.type!=="price"?!1:s.type==="price"&&s.priceData&&s.priceData.v.length>0?!0:s.domSelectors&&s.domSelectors.some(r=>new RegExp(M(r)).test(e.toString()))))}async filterTestsByAudience(t,e,i){const s=[];let r=e.country;!r&&t.some(o=>o.requiresCountry&&!i.some(n=>n.testId===o.id))&&(this.log("Hiding page to check geoip"),this.hidePage(),r=await this.makeJsonRequest({method:"get",url:`${this.eventHost}/api/v0/visitors/get-country`,signal:AbortSignal.timeout(this.getCountryTimeout)}).catch(o=>(this.log("Error getting country",o),null)));for(const o of t){if(this.log("Checking audience for test '%s'",o.id),this.state.essential.visitorTests.some(c=>c.testId===o.id&&c.hypothesisId==null)){console.log(`Skipping blocked test '${o.id}'`);continue}const n=this.visitorCreatedDuringTestActive(o.statusHistory);(i.some(c=>c.testId===o.id&&(o.device==="all"||o.device===e.device&&o.device===this.device))||this.isTargetAudience(o,e,n,r))&&(this.log("Visitor is in audience for test '%s'",o.id),s.push(o))}this.testsFilteredByAudience=s}isTargetAudience(t,e,i,s){const r=this.getChannel(e);return(t.device==="all"||t.device===e.device&&t.device===this.device)&&(t.visitorOption==="all"||t.visitorOption==="new"&&i||t.visitorOption==="returning"&&!i)&&(t.targetAudiences.length===0||t.targetAudiences.reduce((o,n)=>o||n.reduce((a,c)=>a&&c(e,i,r,s),!0),!1))}visitorCreatedDuringTestActive(t){let e="";for(const i of t){if(this.state.analytics.visitor!==null&&this.state.analytics.visitor.createdAt<i.createdAt||this.state.essential.initialState.createdAt<i.createdAt)break;e=i.status}return e==="active"}getDomTestsForCurrentUrl(){return this.domTestsForUrl(this.testsFilteredByAudience)}getCurrentVisitorHypothesis(t){return t.flatMap(e=>e.hypotheses).find(e=>e.type!=="dom"&&e.type!=="price"&&this.state.essential.visitorTests.some(i=>i.hypothesisId===e.id))}getVisitorDomHypothesis(t){return t.flatMap(e=>e.hypotheses).filter(e=>(e.type==="dom"||e.type==="price")&&this.state.essential.visitorTests.some(i=>i.hypothesisId===e.id))}getHypothesis(t){return this.testConfigs.filter(e=>e.hypotheses.some(i=>i.id===t)).map(e=>e.hypotheses.find(i=>i.id===t))[0]}getDomSelectorsForHypothesis(t){if(!t)return[];if(t.domSelectors&&t.domSelectors.length>0)return t.domSelectors;if(t.priceData){const e=`${this.priceSelectorsSessionKey}_${t.id}`;try{const s=sessionStorage.getItem(e);if(s){const r=JSON.parse(s);return t.domSelectors=r,this.log("Loaded %d price selectors from cache for hypothesis '%s'",r.length,t.id),r}}catch{}const i=ht(t.priceData);t.domSelectors=i;try{sessionStorage.setItem(e,JSON.stringify(i)),this.log("Generated and cached %d price selectors for hypothesis '%s'",i.length,t.id)}catch{this.log("Generated %d price selectors for hypothesis '%s' (cache unavailable)",i.length,t.id)}return i}return[]}hasThemeTest(t){return t.some(e=>e.hypotheses.some(i=>i.type==="theme"))}hasTestThatIsNotThemeTest(t){return t.some(e=>e.hypotheses.some(i=>i.type!=="theme"&&i.type!=="dom"&&i.type!=="price"))}hasThemeAndOtherTestTypes(t){return this.hasThemeTest(t)&&this.hasTestThatIsNotThemeTest(t)}testIsPaused(t){return t.status==="paused"||t.status==="incompatible"||t.status==="suspended"}visitorActiveTestType(){const t=this.state.essential.visitorTests.filter(e=>this.testConfigs.some(i=>i.hypotheses.some(s=>s.id==e.hypothesisId)));return t.length===0?null:t.some(e=>e.isThemeTest)?"theme":"templateOrUrlRedirect"}getReservationType(t){return t==="price"||this.isTemplateTestType(t)?"deferred":"immediate"}isTemplateTestType(t){return["product","collection","landing","index","cart","search","blog","article","collectionList"].includes(t)}getEntryCriteriaKey(t){const e=t.hypotheses.find(i=>i.isControl);if(!e)return`unknown:${t.id}`;switch(e.type){case"theme":return"global:theme";case"basicScript":return"global:autoApi";case"price":return"global:price";case"manualScript":return`conditional:manualApi:${t.id}`;case"urlRedirect":return`conditional:url:${e.redirectPath||"unknown"}`;default:return`conditional:template:${e.type}`}}isGlobalEntryCriteria(t){return t.startsWith("global:")}groupTestsByEntryCriteria(t){const e=new Map;for(const i of t){const s=this.getEntryCriteriaKey(i),r=e.get(s)||[];r.push(i),e.set(s,r)}return e}doesCurrentPageMatchEntryCriteria(t){if(this.isGlobalEntryCriteria(t))return!0;if(t==="conditional:manualApi")return!1;if(t.startsWith("conditional:url:")){const e=t.replace("conditional:url:","");return window.location.pathname.endsWith(e)}if(t.startsWith("conditional:template:")){const e=t.replace("conditional:template:","");return this.typeFromTemplate()===e}return!1}hasActiveReservation(){const t=this.getActiveReservations();return Object.values(t).some(e=>!e.isRealized)}getActiveReservation(){const t=this.getActiveReservations();return Object.values(t).find(e=>!e.isRealized)??null}clearStaleReservations(){const t=this.state.temporary.testReservations;if(!t)return;let e=!1;for(const[i,s]of Object.entries(t)){const r=this.testConfigs.find(n=>n.id===s.testId);if(!r){this.log("Test '%s' no longer in config, clearing reservation for criteria '%s'",s.testId,i),delete t[i],e=!0;continue}if(r.status!=="active"){this.log("Test '%s' status is '%s', clearing reservation for criteria '%s'",s.testId,r.status,i),delete t[i],e=!0;continue}this.testsFilteredByAudience.some(n=>n.id===s.testId)||(this.log("Visitor no longer passes audience for test '%s', clearing reservation for criteria '%s'",s.testId,i),delete t[i],e=!0)}e&&this.persistTemporaryState()}createReservations(t){if(this.state.temporary.testReservations||(this.state.temporary.testReservations={}),this.state.temporary.rolledEntryCriteria||(this.state.temporary.rolledEntryCriteria=[]),this.state.temporary.testCategory==="global"){this.createSingleReservation(t,"global");return}const i=t.filter(n=>this.doesCurrentPageMatchEntryCriteria(this.getEntryCriteriaKey(n))),s=t.filter(n=>!this.doesCurrentPageMatchEntryCriteria(this.getEntryCriteriaKey(n)));this.log("Conditional tests split - matching current page: %d, not matching: %d",i.length,s.length),i.length>0&&this.log("Tests matching current page (same pool): %o",i.map(n=>({id:n.id,title:n.title,criteria:this.getEntryCriteriaKey(n)})));const r=`conditional:current-page:${this.typeFromTemplate()}`;if(i.length>0&&!this.state.temporary.rolledEntryCriteria.includes(r)){this.createSingleReservation(i,r);for(const n of i){const a=this.getEntryCriteriaKey(n);this.state.temporary.rolledEntryCriteria.includes(a)||this.state.temporary.rolledEntryCriteria.push(a)}}const o=this.groupTestsByEntryCriteria(s);for(const[n,a]of o){if(this.state.temporary.rolledEntryCriteria.includes(n)){this.log("Already rolled for criteria '%s', skipping",n);continue}if(a.some(m=>this.state.essential.visitorTests.some(S=>S.testId===m.id))){this.log("Visitor already has VT for criteria '%s', skipping",n),this.state.temporary.rolledEntryCriteria.push(n);continue}const h=[...a].sort((m,S)=>m.id.localeCompare(S.id));this.log("Test dice roll for criteria '%s' - available tests: %o",n,h.map(m=>({id:m.id,title:m.title})));const u=Math.floor(Math.random()*h.length),p=h[u];this.log("Test dice roll: picked index %d of %d, selected test '%s' (%s)",u+1,a.length,p.id,p.title);const d=this.pickHypothesis(p);if(!d){this.log("No hypothesis picked for test '%s'",p.id);continue}const v=this.getReservationType(d.type),T={testId:p.id,hypothesisId:d.id,testType:d.type,reservationType:v,isThemeTest:d.type==="theme",themeId:d.themeId,createdAt:new Date,isRealized:!1,entryCriteriaKey:n};this.state.temporary.testReservations[n]=T,this.state.temporary.rolledEntryCriteria.push(n),this.log("Created %s reservation for test '%s' (criteria: %s)",v,p.id,n);for(const m of a)m.id!==p.id&&this.markTestAsBlocked(m,n)}this.persistTemporaryState()}createSingleReservation(t,e){if(this.state.temporary.rolledEntryCriteria.includes(e)){this.log("Already rolled for pool '%s', skipping",e);return}if(t.some(u=>this.state.essential.visitorTests.some(p=>p.testId===u.id&&!p.isInvalid))){this.log("Visitor already has VT for pool '%s', skipping",e),this.state.temporary.rolledEntryCriteria.push(e);return}if(t.length===0){this.log("No tests in pool '%s'",e);return}const s=[...t].sort((u,p)=>u.id.localeCompare(p.id));this.log("Test dice roll for pool '%s' - available tests: %o",e,s.map(u=>({id:u.id,title:u.title,criteria:this.getEntryCriteriaKey(u)})));const r=Math.floor(Math.random()*s.length),o=s[r];this.log("Test dice roll: picked index %d of %d, selected test '%s' (%s)",r,t.length,o.id,o.title);const n=this.pickHypothesis(o);if(!n){this.log("No hypothesis picked for test '%s'",o.id);return}const a=this.getReservationType(n.type),c=this.getEntryCriteriaKey(o),h={testId:o.id,hypothesisId:n.id,testType:n.type,reservationType:a,isThemeTest:n.type==="theme",themeId:n.themeId,createdAt:new Date,isRealized:!1,entryCriteriaKey:c};this.state.temporary.testReservations[c]=h,this.state.temporary.rolledEntryCriteria.push(e),this.log("Created %s reservation for test '%s' from pool '%s' (criteria: %s)",a,o.id,e,c);for(const u of t)u.id!==o.id&&this.markTestAsBlocked(u,`pool:${e}`);this.persistTemporaryState()}markTestAsBlocked(t,e){this.state.essential.visitorTests.some(i=>i.testId===t.id)||(this.log("Blocking visitor from test '%s' (reason: %s)",t.id,e),this.state.essential.visitorTests.push({createdAt:new Date,testId:t.id,hypothesisId:null,isThemeTest:t.hypotheses.some(i=>i.type==="theme"),shouldSendToGa:!1,isSaved:!0,isInvalid:!0,themeId:void 0}))}realizeReservationForCriteria(t){const e=this.state.temporary.testReservations?.[t];if(!e)return this.log("No reservation found for criteria '%s'",t),!1;if(e.isRealized)return this.log("Reservation already realized for criteria '%s'",t),!1;if(this.state.essential.visitorTests.some(s=>s.testId===e.testId&&!s.isInvalid))return this.log("Visitor already assigned to test '%s'",e.testId),!1;const i=this.getHypothesis(e.hypothesisId);return i?(e.isRealized=!0,this.persistTemporaryState(),this.queueAddVisitorToTest(e.testId,i),this.saveState(),this.log("Realized reservation for test '%s' (criteria: %s)",e.testId,t),!0):(this.log("Hypothesis '%s' not found",e.hypothesisId),!1)}getActiveReservations(){return this.state.temporary.testReservations??{}}getReservationForCurrentPage(){const t=this.getActiveReservations();for(const[e,i]of Object.entries(t)){if(i.isRealized)continue;const s=this.testConfigs.find(r=>r.id===i.testId);if(!(!s||s.status!=="active")&&this.doesCurrentPageMatchEntryCriteria(e))return i}return null}getReservationForTest(t){const e=this.getActiveReservations();return Object.values(e).find(i=>i.testId===t)??null}getReservationTestType(){const t=this.getActiveReservations(),e=Object.values(t);if(e.length===0)return null;for(const i of e)if(i.isThemeTest)return"theme";for(const i of e)if(i.testType==="price")return"price";return e.some(i=>!i.isRealized)?"templateOrUrlRedirect":null}hasPriceTests(t){return t.some(e=>e.hypotheses.some(i=>i.type==="price"))}_priceTestProductIds=null;getPriceTestProductIds(){if(this._priceTestProductIds)return this._priceTestProductIds;const t=new Set;for(const e of this.testConfigs)for(const i of e.hypotheses)if(i.type==="price"){for(const s of i.domSelectors||[]){const r=s.cssSelector.match(/data-sl-attribute-(?:p|cap)="(\d+)"/);r?.[1]&&t.add(r[1])}if(i.priceData?.v)for(const[s]of i.priceData.v)t.add(s)}return this._priceTestProductIds=t,this.log("Built price test product ID cache with %d products",t.size),t}isProductInAnyPriceTest(t){return this.getPriceTestProductIds().has(t)}visitorActiveTestTypeWithReservations(){const t=this.getActiveReservations();for(const r of Object.values(t)){if(r.isThemeTest)return"theme";if(r.testType==="price")return"price"}if(Object.values(t).some(r=>!r.isRealized)){if(this.state.temporary.testCategory==="global")for(const o of Object.values(t)){if(o.testType==="theme")return"theme";if(o.testType==="price")return"price";if(o.testType==="basicScript")return"theme"}return"templateOrUrlRedirect"}const i=this.state.essential.visitorTests.filter(r=>!r.isInvalid&&this.testConfigs.some(o=>o.hypotheses.some(n=>n.id===r.hypothesisId)));return i.length===0?null:i.some(r=>this.getHypothesis(r.hypothesisId)?.type==="price")?"price":i.some(r=>r.isThemeTest)?"theme":"templateOrUrlRedirect"}applyControlForAudienceFilteredPriceTests(){const t=this.testConfigs.filter(s=>s.status==="active"&&s.hypotheses.some(r=>r.type==="price"));if(t.length===0)return;const e=this.testsFilteredByAudience.filter(s=>s.hypotheses.some(r=>r.type==="price")),i=t.filter(s=>!e.some(r=>r.id===s.id));if(i.length!==0){this.log("Found %d price tests filtered by audience, applying control selectors",i.length);for(const s of i){const r=s.hypotheses.find(c=>c.isControl),o=this.getDomSelectorsForHypothesis(r);if(o.length===0){this.log("No control selectors for audience-filtered price test '%s'",s.id);continue}const n=new URL(window.location.href);o.some(c=>{try{return new RegExp(M(c)).test(n.toString())}catch{return!1}})&&(this.log("Applying control selectors for audience-filtered price test '%s'",s.id),x(document,{testId:s.id,hypothesisId:r.id,selectors:o},()=>{this.log("Control selectors applied for audience-filtered visitor, no metrics tracked")}),this.updatePriceTestHiddenInputs(s.id,"control",!1))}}}pickHypothesis(t){let e=Math.random();const i=t.hypotheses.reduce((r,o)=>r+o.visitorCount,0);return t.hypotheses.sort((r,o)=>r.isControl?o.isControl?0:-1:o.isControl?1:0).reduce((r,o)=>{if(r!==null)return r;const a=t.hypotheses.reduce((c,h)=>c&&h.visitorCount>20,!0)?o.visitorCount/i-o.trafficPercentage:0;return e<=o.trafficPercentage-a?o:(e-=o.trafficPercentage,null)},null)}typeFromTemplate(){switch(template.type){case"list-collections":return"collectionList";case"page":return"landing";case"article":case"blog":case"cart":case"collection":case"index":case"product":case"search":return template.type;default:return null}}queueRedirect(t){this.saveState(),this.disableReferrerOverride||(this.log(`Saving temporary referrer override '${document.referrer}'`),this.state.temporary.originalReferrer=document.referrer,this.persistTemporaryState()),window.setTimeout(()=>window.location.assign(t),0),window.setTimeout(()=>{this.syncAllEvents()},2e3)}async syncAllEvents(){const t=async()=>{if(this.isSyncing){window.setTimeout(()=>{(async()=>await t())()},500);return}try{this.isSyncing=!0,this.syncGAEvents(),await this.syncEvents()}finally{this.isSyncing=!1}};await t()}async syncEvents(){if(!this.state.essential.consentApproved||!this.shopifyAnalyticsId||this.state.analytics.queue.length===0)return;const t=this.state.analytics.queue.length,e=this.state.analytics.queue.splice(0,t);this.log("Syncing %s events",t);try{const i={shop:this.shop,visitorDetails:{shopifyAnalyticsId:this.shopifyAnalyticsId,device:this.state.analytics.visitor?.device??this.device,country:this.state.analytics.visitor?.country??null,...this.state.essential.initialState},events:this.state.essential.visitorTests.filter(r=>!r.isInvalid&&!r.isSaved&&r.hypothesisId!=null).map(r=>new W(r.testId,r.hypothesisId,r.createdAt)).concat(e)};await this.sendEvents(i);const s=await this.getVisitor(this.shopifyAnalyticsId);s!==null&&this.updateLocalVisitor(s);for(const r of this.state.essential.visitorTests.filter(o=>!o.isInvalid&&!o.isSaved))r.isSaved=!0,r.savedAt=Date.now()}catch{this.state.analytics.queue.splice(0,0,...e)}finally{this.saveState()}}syncGAEvents(){if(!this.gaConfig.sendEvents){if(U)return;U=!0,this.log("UseGtag is false  skipping GA Events");return}if(this.isSyncingGA){this.log("Already syncing GA - skipping GA events");return}const t=this.state.essential.visitorTests.filter(e=>e.shouldSendToGa);t.length!==0&&(this.isSyncingGA=!0,this.log("Syncing %s GA Events",t.length),Promise.allSettled(t.map(e=>this.sendGAEvent(e))).then(()=>this.log("All gtag events sent")).finally(()=>this.isSyncingGA=!1))}sendGAEvent(t){return new Promise(e=>{this.log("Sending GA Event for test %s, hypothesis %s",t.testId,t.hypothesisId);const i=()=>{this.log("GA acknowledged event for hypothesis %s",t.hypothesisId),t.shouldSendToGa=!1,this.persistEssentialState(),e()},s={exp_variant_string:`SL-${t.testId}-${t.hypothesisId}`};this.shopliftDebug&&Object.assign(s,{debug_mode:!0});function r(o,n,a){window.dataLayer=window.dataLayer||[],window.dataLayer.push(arguments)}this.gaConfig.mode==="gtag"?r("event","experience_impression",{...s,event_callback:i}):(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"experience_impression",...s,eventCallback:i}))})}updateLocalVisitor(t){let e;({visitorTests:e,...this.state.analytics.visitor}=t),this.log("updateLocalVisitor - server returned %d tests: %o",e.length,e.map(s=>({testId:s.testId,hypothesisId:s.hypothesisId,isInvalid:s.isInvalid}))),this.log("updateLocalVisitor - local has %d tests: %o",this.state.essential.visitorTests.length,this.state.essential.visitorTests.map(s=>({testId:s.testId,hypothesisId:s.hypothesisId,isSaved:s.isSaved,isInvalid:s.isInvalid})));const i=300*1e3;for(const s of this.state.essential.visitorTests.filter(r=>r.isSaved&&(!r.savedAt||Date.now()-r.savedAt>i)&&!e.some(o=>o.testId===r.testId)))this.log("updateLocalVisitor - marking LOCAL test as INVALID (isSaved && not in server): testId=%s, hypothesisId=%s",s.testId,s.hypothesisId),s.isInvalid=!0;for(const s of e){const r=this.state.essential.visitorTests.findIndex(n=>n.testId===s.testId);if(!(r!==-1))this.log("updateLocalVisitor - ADDING server test (not found locally): testId=%s, hypothesisId=%s",s.testId,s.hypothesisId),this.state.essential.visitorTests.push(s);else{const n=this.state.essential.visitorTests.at(r);this.log("updateLocalVisitor - REPLACING local test with server test: testId=%s, local hypothesisId=%s -> server hypothesisId=%s, local isInvalid=%s -> false",s.testId,n?.hypothesisId,s.hypothesisId,n?.isInvalid),s.isInvalid=!1,s.shouldSendToGa=n?.shouldSendToGa??!1,s.testType=n?.testType,s.assignedTo=n?.assignedTo,s.testTitle=n?.testTitle,this.state.essential.visitorTests.splice(r,1,s)}}this.log("updateLocalVisitor - FINAL local tests: %o",this.state.essential.visitorTests.map(s=>({testId:s.testId,hypothesisId:s.hypothesisId,isSaved:s.isSaved,isInvalid:s.isInvalid}))),this.state.analytics.visitor.storedAt=new Date}async getVisitor(t){try{return await this.makeJsonRequest({method:"get",url:`${this.eventHost}/api/v0/visitors/by-key/${this.shop}/${t}`})}catch{return null}}async sendEvents(t){await this.makeRequest({method:"post",url:`${this.eventHost}/api/v0/events`,data:JSON.stringify(t)})}getUTMValue(t){const i=decodeURIComponent(window.location.search.substring(1)).split("&");for(let s=0;s<i.length;s++){const r=i[s].split("=");if(r[0]===t)return r[1]||null}return null}hidePage(t){this.log("Hiding page"),this.cssHideClass&&!window.document.documentElement.classList.contains(this.cssHideClass)&&(window.document.documentElement.classList.add(this.cssHideClass),t||setTimeout(this.removeAsyncHide(this.cssHideClass),2e3))}showPage(){this.cssHideClass&&this.removeAsyncHide(this.cssHideClass)()}getDeviceType(){function t(){let i=!1;return(function(s){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(s)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(s.substr(0,4)))&&(i=!0)})(navigator.userAgent||navigator.vendor),i}function e(){let i=!1;return(function(s){(/android|ipad|playbook|silk/i.test(s)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(s.substr(0,4)))&&(i=!0)})(navigator.userAgent||navigator.vendor),i}return t()?"mobile":e()?"tablet":"desktop"}removeAsyncHide(t){return()=>{t&&window.document.documentElement.classList.remove(t)}}async getCartState(){try{let t=await this.makeJsonRequest({method:"get",url:`${window.location.origin}/cart.js`});return t===null||(t.note===null&&(t=await this.makeJsonRequest({method:"post",url:`${window.location.origin}/cart/update.js`,data:JSON.stringify({note:""})})),t==null)?null:{token:t.token,total_price:t.total_price,total_discount:t.total_discount,currency:t.currency,items_subtotal_price:t.items_subtotal_price,items:t.items.map(e=>({quantity:e.quantity,variant_id:e.variant_id,key:e.key,price:e.price,final_line_price:e.final_line_price,sku:e.sku,product_id:e.product_id}))}}catch(t){return this.log("Error sending cart info",t),null}}ensureCartAttributesForExistingPriceTests(t){try{if(this.log("Checking visitor assignments for active price tests"),t&&this.state.temporary.previewConfig){const e=this.state.temporary.previewConfig;this.log("Using preview config for merchant:",e.testId);let i="variant";if(e.variants&&e.variants.length>0){const s=e.variants.find(r=>r.id===e.currentVariant);s&&s.isControl&&(i="control")}this.log("Merchant preview - updating hidden inputs:",e.testId,i),this.updatePriceTestHiddenInputs(e.testId,i,!0);return}for(const e of this.state.essential.visitorTests){const i=this.testConfigs.find(o=>o.id===e.testId);if(!i){this.log("Test config not found:",e.testId);continue}const s=i.hypotheses.find(o=>o.id===e.hypothesisId);if(!s||s.type!=="price")continue;const r=s.isControl?"control":"variant";this.log("Updating hidden inputs for price test:",e.testId,r),this.updatePriceTestHiddenInputs(e.testId,r,t)}}catch(e){this.log("Error ensuring cart attributes for existing price tests:",e)}}updatePriceTestHiddenInputs(t,e,i){try{this.cleanupPriceTestObservers();const s=`${t}:${e}:${i?"t":"f"}`,r=y=>{const f=y.getAttribute("data-sl-pid");if(!f)return!0;if(i&&this.state.temporary.previewConfig){const g=this.state.temporary.previewConfig,b=e==="control"?"a":"b",C=g.variants.find(I=>I.label===b);if(!C)return!1;for(const I of C.domSelectors||[]){const E=I.cssSelector.match(/data-sl-attribute-(?:p|cap)="(\d+)"/);if(E){const z=E[1];if(this.log(`Extracted ID from selector: ${z}, comparing to: ${f}`),z===f)return this.log("Product ID match found in preview config:",f,"variant:",C.label),!0}else this.log(`Could not extract ID from selector: ${I.cssSelector}`)}return this.log("No product ID match in preview config for:",f,"variant:",b),!1}const w=this.testConfigs.find(g=>g.id===t);if(!w)return this.log("Test config not found for testId:",t),!1;for(const g of w.hypotheses||[]){for(const b of g.domSelectors||[]){const C=b.cssSelector.match(/data-sl-attribute-(?:p|cap)="(\d+)"/);if(C&&C[1]===f)return this.log("Product ID match found in domSelectors:",f,"for test:",t),!0}if(g.priceData?.v){for(const b of g.priceData.v)if(b[0]===f)return this.log("Product ID match found in priceData:",f,"for test:",t),!0}}return this.log("No product ID match for:",f,"in test:",t),!1},o=new Set;let n=!1,a=null;const c=(y,f)=>{if(document.querySelectorAll("[data-sl-attribute-p]").forEach(g=>{if(g instanceof Element&&g.nodeType===Node.ELEMENT_NODE&&g.isConnected&&document.contains(g))try{y.observe(g,{childList:!0,subtree:!0,characterData:!0,characterDataOldValue:!0,attributes:!1})}catch(b){this.log(`Failed to observe element (${f}):`,b)}}),document.body&&document.body.isConnected)try{y.observe(document.body,{childList:!0,subtree:!0,characterData:!0,characterDataOldValue:!0,attributes:!1})}catch(g){this.log(`Failed to observe document.body (${f}):`,g)}},h=(y,f,w,g)=>{const b=y.filter(C=>{const I=C.cssSelector.match(/data-sl-attribute-(?:p|cap)="(\d+)"/);return I&&I[1]===g});this.log(`Applying ${w} DOM selectors, total: ${y.length}, filtered: ${b.length}`),b.length>0&&x(document,{testId:t,hypothesisId:f,selectors:b})},u=(y,f)=>{this.log(`Applying DOM selector changes for product ID: ${y}`),f.disconnect(),n=!0;try{if(i&&this.state.temporary.previewConfig){const w=e==="control"?"a":"b",g=this.state.temporary.previewConfig.variants.find(b=>b.label===w);if(!g?.domSelectors){this.log(`No DOM selectors found for preview variant: ${w}`);return}h(g.domSelectors,g.id,"preview config",y)}else{const w=this.testConfigs.find(b=>b.id===t);if(!w){this.log(`No test config found for testId: ${t}`);return}const g=w.hypotheses.find(b=>e==="control"?b.isControl:!b.isControl);if(!g?.domSelectors){this.log(`No DOM selectors found for assignment: ${e}`);return}h(g.domSelectors,g.id,"live config",y)}}finally{a!==null&&clearTimeout(a),a=window.setTimeout(()=>{n=!1,a=null,c(f,"reconnection"),this.log("Re-established innerHTML observer after DOM changes")},50)}},p=new MutationObserver(y=>{if(!n)for(const f of y){if(f.type!=="childList"&&f.type!=="characterData")continue;let w=f.target;f.type==="characterData"&&(w=f.target.parentElement||f.target.parentNode);let g=w,b=g.getAttribute("data-sl-attribute-p");for(;!b&&g.parentElement;)g=g.parentElement,b=g.getAttribute("data-sl-attribute-p");if(!b)continue;const C=g.innerHTML||g.textContent||"";let I="";f.type==="characterData"&&f.oldValue!==null&&(I=f.oldValue),this.log(`innerHTML changed on element with data-sl-attribute-p="${b}"`),I&&this.log(`Previous content: "${I}"`),this.log(`Current content: "${C}"`),u(b,p)}});c(p,"initial setup"),o.add(p);const d=new MutationObserver(y=>{y.forEach(f=>{f.addedNodes.forEach(w=>{if(w.nodeType===Node.ELEMENT_NODE){const g=w;T(g);const b=g.matches('input[name="properties[_slpt]"]')?[g]:g.querySelectorAll('input[name="properties[_slpt]"]');b.length>0&&this.log(`MutationObserver found ${b.length} new hidden input(s)`),b.forEach(C=>{const I=C.getAttribute("data-sl-pid");if(this.log(`MutationObserver checking new input with data-sl-pid="${I}"`),r(C))C.value!==s&&(C.value=s,this.log("Updated newly added hidden input:",s)),m(C);else{const E=C.getAttribute("data-sl-pid");E&&this.isProductInAnyPriceTest(E)?this.log("Preserving hidden input for product ID '%s' - belongs to a different price test",E):(C.remove(),this.log("Removed newly added non-matching hidden input for product ID:",E))}})}})})});o.add(d);const v=new MutationObserver(y=>{y.forEach(f=>{if(f.type==="attributes"&&f.attributeName==="data-sl-pid"){const w=f.target;if(this.log("AttributeObserver detected data-sl-pid attribute change on:",w.tagName),w.matches('input[name="properties[_slpt]"]')){const g=w,b=f.oldValue,C=g.getAttribute("data-sl-pid");this.log(`data-sl-pid changed from "${b}" to "${C}" - triggering payment placement updates`),r(g)?(g.value!==s&&(g.value=s,this.log("Updated hidden input after data-sl-pid change:",s)),C&&u(C,p),this.log("Re-running payment placement updates after variant change"),T(document.body)):C&&this.isProductInAnyPriceTest(C)?this.log("Preserving hidden input for product ID '%s' - belongs to a different price test",C):(g.remove(),this.log("Removed non-matching hidden input after data-sl-pid change:",C))}}})});o.add(v);const T=y=>{y.tagName==="SHOPIFY-PAYMENT-TERMS"&&(this.log("MutationObserver found new shopify-payment-terms element"),this.updateShopifyPaymentTerms(t,e));const f=y.querySelectorAll("shopify-payment-terms");f.length>0&&(this.log(`MutationObserver found ${f.length} shopify-payment-terms in added node`),this.updateShopifyPaymentTerms(t,e)),y.tagName==="AFTERPAY-PLACEMENT"&&(this.log("MutationObserver found new afterpay-placement element"),this.updateAfterpayPlacements(t,e,"afterpay"));const w=y.querySelectorAll("afterpay-placement");w.length>0&&(this.log(`MutationObserver found ${w.length} afterpay-placement in added node`),this.updateAfterpayPlacements(t,e,"afterpay")),y.tagName==="SQUARE-PLACEMENT"&&(this.log("MutationObserver found new square-placement element"),this.updateAfterpayPlacements(t,e,"square"));const g=y.querySelectorAll("square-placement");g.length>0&&(this.log(`MutationObserver found ${g.length} square-placement in added node`),this.updateAfterpayPlacements(t,e,"square")),y.tagName==="KLARNA-PLACEMENT"&&(this.log("MutationObserver found new klarna-placement element"),this.updateKlarnaPlacements(t,e));const b=y.querySelectorAll("klarna-placement");b.length>0&&(this.log(`MutationObserver found ${b.length} klarna-placement in added node`),this.updateKlarnaPlacements(t,e))},m=y=>{v.observe(y,{attributes:!0,attributeFilter:["data-sl-pid"],attributeOldValue:!0,subtree:!1});const f=y.getAttribute("data-sl-pid");this.log(`Started AttributeObserver on specific input with data-sl-pid="${f}"`)},S=()=>{const y=document.querySelectorAll('input[name="properties[_slpt]"]');this.log(`Found ${y.length} existing hidden inputs to check`),y.forEach(f=>{const w=f.getAttribute("data-sl-pid");this.log(`Checking existing input with data-sl-pid="${w}"`),r(f)?(f.value=s,this.log("Updated existing hidden input:",s),w&&(this.log("Applying initial DOM selector changes for existing product"),u(w,p)),m(f)):w&&this.isProductInAnyPriceTest(w)?this.log("Preserving hidden input for product ID '%s' - belongs to a different price test",w):(f.remove(),this.log("Removed non-matching hidden input for product ID:",w))})},A=()=>{document.body?(d.observe(document.body,{childList:!0,subtree:!0}),this.log("Started MutationObserver on document.body"),S(),T(document.body)):document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{document.body&&(d.observe(document.body,{childList:!0,subtree:!0}),this.log("Started MutationObserver after DOMContentLoaded"),S(),T(document.body))}):(this.log("Set timeout on observer"),setTimeout(A,10))};A(),window.__shopliftPriceTestObservers=o,window.__shopliftPriceTestValue=s,this.log("Set up DOM observer for price test hidden inputs")}catch(s){this.log("Error updating price test hidden inputs:",s)}}updateKlarnaPlacements(t,e){this.updatePlacementElements(t,e,"klarna-placement",(i,s)=>{i.setAttribute("data-purchase-amount",s.toString())})}cleanupPriceTestObservers(){const t=window.__shopliftPriceTestObservers;t&&(t.forEach(e=>{e.disconnect()}),t.clear(),this.log("Cleaned up existing price test observers")),delete window.__shopliftPriceTestObservers,delete window.__shopliftPriceTestValue}updateAfterpayPlacements(t,e,i="afterpay"){const s=i==="square"?"square-placement":"afterpay-placement";if(document.querySelectorAll(s).length===0){this.log(`No ${s} elements found on page - early return`);return}this.updatePlacementElements(t,e,s,(o,n)=>{if(i==="afterpay"){const a=(n/100).toFixed(2);o.setAttribute("data-amount",a)}else o.setAttribute("data-amount",n.toString())}),this.log("updateAfterpayPlacements completed")}updatePlacementElements(t,e,i,s){const r=document.querySelectorAll(i);if(r.length===0){this.log(`No ${i} elements found - early return`);return}let o;if(this.state.temporary.isMerchant&&this.state.temporary.previewConfig){const a=e==="control"?"a":"b",c=this.state.temporary.previewConfig.variants.find(h=>h.label===a);if(!c?.domSelectors){this.log(`No variant found for label ${a} in preview config for ${i}`);return}o=c.domSelectors,this.log(`Using preview config for ${i} in merchant mode, variant: ${a}`)}else{const a=this.testConfigs.find(h=>h.id===t);if(!a){this.log(`No testConfig found for id: ${t} - early return`);return}const c=a.hypotheses.find(h=>e==="control"?h.isControl:!h.isControl);if(!c?.domSelectors){this.log(`No hypothesis or domSelectors found for assignment: ${e} - early return`);return}o=c.domSelectors}const n=new RegExp(`${this.DATA_SL_ATTRIBUTE_P}=["'](\\d+)["']`);r.forEach(a=>{let c=null;const h=a.parentElement;if(h&&(c=h.querySelector('input[name="properties[_slpt]"]')),c||(c=a.querySelector('input[name="properties[_slpt]"]')),!c){this.log(`No hidden input found for ${i} element`);return}const u=c.getAttribute("data-sl-pid");if(!u){this.log("Hidden input has no data-sl-pid attribute - skipping");return}const p=o.find(m=>{const S=m.cssSelector.match(n);return S&&S[1]===u});if(!p){this.log(`No matching selector found for productId: ${u} - skipping element`);return}const d=p.actions.find(m=>m.scope==="price");if(!d?.value){this.log("No price action or value found - skipping element");return}const v=parseFloat(d.value.replace(/[^0-9.]/g,""));if(Number.isNaN(v)){this.log(`Invalid price "${d.value}" for product ${u} - skipping`);return}const T=Math.round(v*100);s(a,T)}),this.log(`updatePlacementElements completed for ${i}`)}updateShopifyPaymentTerms(t,e){const i=document.querySelectorAll("shopify-payment-terms");if(i.length===0)return;this.log("Store using shopify payments");let s;if(this.state.temporary.isMerchant&&this.state.temporary.previewConfig){const o=e==="control"?"a":"b",n=this.state.temporary.previewConfig.variants.find(a=>a.label===o);if(!n||!n.domSelectors){this.log(`No variant found for label ${o} in preview config`);return}s=n.domSelectors,this.log(`Using preview config for shopify-payment-terms in merchant mode, variant: ${o}`)}else{const o=this.testConfigs.find(a=>a.id===t);if(!o)return;const n=o.hypotheses.find(a=>e==="control"?a.isControl===!0:a.isControl===!1);if(!n||!n.domSelectors)return;s=n.domSelectors}const r=new RegExp(`${this.DATA_SL_ATTRIBUTE_P}=["'](\\d+)["']`);i.forEach(o=>{const n=o.getAttribute("variant-id");if(!n)return;const a=s.find(c=>{const h=c.cssSelector.match(r);return h&&h[1]===n});if(a){const c=a.actions.find(h=>h.scope==="price");if(c&&c.value){const h=o.getAttribute("shopify-meta");if(h)try{const u=JSON.parse(h);if(u.variants&&Array.isArray(u.variants)){const p=u.variants.find(d=>d.id?.toString()===n);if(p){p.full_price=c.value;const d=parseFloat(c.value.replace(/[^0-9.]/g,""));if(p.number_of_payment_terms&&p.number_of_payment_terms>1){const v=d/p.number_of_payment_terms;p.price_per_term=`$${v.toFixed(2)}`}o.setAttribute("shopify-meta",JSON.stringify(u))}}}catch(u){this.log("Error parsing/updating shoplift-meta:",u)}}}})}async makeJsonRequest(t){const e=await this.makeRequest(t);return e===null?null:JSON.parse(await e.text(),_)}async makeRequest(t){const{url:e,method:i,headers:s,data:r,signal:o}=t,n=new Headers;if(s)for(const c in s)n.append(c,s[c]);(!s||!s.Accept)&&n.append("Accept","application/json"),(!s||!s["Content-Type"])&&n.append("Content-Type","application/json"),(this.eventHost.includes("ngrok.io")||this.eventHost.includes("ngrok-free.app"))&&n.append("ngrok-skip-browser-warning","1234");const a=await this.fetch(e,{method:i,headers:n,body:r,signal:o});if(!a.ok){if(a.status===204)return null;if(a.status===422){const c=await a.json();if(typeof c<"u"&&c.isBot)throw new D}throw new Error(`Error sending shoplift request ${a.status}`)}return a}queueAddVisitorToTest(t,e){if(this.state.essential.visitorTests.some(s=>s.testId===t))return;const i=this.testConfigs.find(s=>s.id===t);if(this.state.essential.visitorTests.push({createdAt:new Date,testId:t,hypothesisId:e.id,isThemeTest:e.type==="theme",themeId:e.themeId,isSaved:!1,isInvalid:!1,shouldSendToGa:!0,testType:e.type,assignedTo:e.isControl?"control":"variant",testTitle:i?.title}),e.type==="price"){const s=e.isControl?"control":"variant";this.log("Price test assignment detected, updating cart attributes:",t,s),this.updatePriceTestHiddenInputs(t,s,!1)}}queueCartUpdate(t){this.queueEvent(new Y(t))}queuePageView(t){this.queueEvent(new J(t))}queueEvent(t){!this.state.essential.consentApproved&&this.state.essential.hasConsentInteraction||this.state.analytics.queue.length>10||this.state.analytics.queue.push(t)}legacyGetLocalStorageVisitor(){const t=this.localStorageGet(this.legacySessionKey);if(t)try{return JSON.parse(t,_)}catch{}return null}pruneStateAndSave(){this.state.essential.visitorTests=this.state.essential.visitorTests.filter(t=>this.testConfigs.some(e=>e.id==t.testId)||this.inactiveTestConfigs.filter(e=>this.testIsPaused(e)).some(e=>e.id===t.testId)),this.saveState()}saveState(){this.persistEssentialState(),this.persistAnalyticsState()}loadState(){const t=this.loadAnalyticsState(),e={analytics:t,essential:this.loadEssentialState(t),temporary:this.loadTemporaryState()},i=this.legacyGetLocalStorageVisitor(),s=this.legacyGetCookieVisitor(),r=[i,s].filter(o=>o!==null).sort((o,n)=>+n.storedAt-+o.storedAt)[0];return e.analytics.visitor===null&&r&&({visitorTests:e.essential.visitorTests,...e.analytics.visitor}=r,e.essential.isFirstLoad=!1,e.essential.initialState={createdAt:r.createdAt,referrer:r.referrer,utmCampaign:r.utmCampaign,utmContent:r.utmContent,utmMedium:r.utmMedium,utmSource:r.utmSource,device:r.device},this.deleteCookie("SHOPLIFT"),this.deleteLocalStorage(this.legacySessionKey)),!e.essential.consentApproved&&e.essential.hasConsentInteraction&&this.deleteLocalStorage(this.analyticsSessionKey),e}loadEssentialState(t){const e=this.loadLocalStorage(this.essentialSessionKey),i=this.loadCookie(this.essentialSessionKey),s=this.getInitialState();t.visitor?.device&&(s.device=t.visitor.device);const r={timestamp:new Date,consentApproved:!1,hasConsentInteraction:!1,debugMode:!1,initialState:s,visitorTests:[],isFirstLoad:!0},o=[e,i].filter(n=>n!==null).sort((n,a)=>+a.timestamp-+n.timestamp)[0]??r;return o.initialState||(t.visitor!==null?o.initialState=t.visitor:(o.initialState=s,o.initialState.createdAt=o.timestamp)),o}loadAnalyticsState(){const t=this.loadLocalStorage(this.analyticsSessionKey),e=this.loadCookie(this.analyticsSessionKey),i={timestamp:new Date,visitor:null,queue:[]},s=[t,e].filter(r=>r!==null).sort((r,o)=>+o.timestamp-+r.timestamp)[0]??i;return s.queue.length===0&&t&&t.queue.length>1&&(s.queue=t.queue),s}loadTemporaryState(){const t=this.sessionStorageGet(this.temporarySessionKey),e=t?JSON.parse(t,_):null,i=this.loadCookie(this.temporarySessionKey);return e??i??{isMerchant:!1,timestamp:new Date}}persistEssentialState(){this.log("Persisting essential state"),this.state.essential.isFirstLoad=!1,this.state.essential.timestamp=new Date,this.persistLocalStorageState(this.essentialSessionKey,this.state.essential),this.persistCookieState(this.essentialSessionKey,this.state.essential)}persistAnalyticsState(){this.log("Persisting analytics state"),this.state.essential.consentApproved&&(this.state.analytics.timestamp=new Date,this.persistLocalStorageState(this.analyticsSessionKey,this.state.analytics),this.persistCookieState(this.analyticsSessionKey,{...this.state.analytics,queue:[]}))}persistTemporaryState(){this.log("Setting temporary session state"),this.state.temporary.timestamp=new Date,this.sessionStorageSet(this.temporarySessionKey,JSON.stringify(this.state.temporary)),this.persistCookieState(this.temporarySessionKey,this.state.temporary,!0)}loadLocalStorage(t){const e=this.localStorageGet(t);if(e===null)return null;try{return JSON.parse(e,_)}catch{return null}}loadCookie(t){const e=this.getCookie(t);if(e===null)return null;try{return JSON.parse(e,_)}catch{return null}}persistLocalStorageState(t,e){this.localStorageSet(t,JSON.stringify(e))}persistCookieState(t,e,i=!1){const s=JSON.stringify(e),r=i?"":`expires=${new Date(new Date().getTime()+864e5*365).toUTCString()};`;document.cookie=`${t}=${s};domain=.${window.location.hostname};path=/;SameSite=Strict;${r}`}deleteCookie(t){const e=new Date(0).toUTCString();document.cookie=`${t}=;domain=.${window.location.hostname};path=/;expires=${e};`}deleteLocalStorage(t){window.localStorage.removeItem(t)}getChannel(t){return[{"name":"cross-network","test":(v) => new RegExp(".*cross-network.*", "i").test(v.utmCampaign)},{"name":"direct","test":(v) => v.utmSource === "" && v.utmMedium === ""},{"name":"paid-shopping","test":(v) => (new RegExp("^(?:Google|IGShopping|aax-us-east\.amazon-adsystem\.com|aax\.amazon-adsystem\.com|alibaba|alibaba\.com|amazon|amazon\.co\.uk|amazon\.com|apps\.shopify\.com|checkout\.shopify\.com|checkout\.stripe\.com|cr\.shopping\.naver\.com|cr2\.shopping\.naver\.com|ebay|ebay\.co\.uk|ebay\.com|ebay\.com\.au|ebay\.de|etsy|etsy\.com|m\.alibaba\.com|m\.shopping\.naver\.com|mercadolibre|mercadolibre\.com|mercadolibre\.com\.ar|mercadolibre\.com\.mx|message\.alibaba\.com|msearch\.shopping\.naver\.com|nl\.shopping\.net|no\.shopping\.net|offer\.alibaba\.com|one\.walmart\.com|order\.shopping\.yahoo\.co\.jp|partners\.shopify\.com|s3\.amazonaws\.com|se\.shopping\.net|shop\.app|shopify|shopify\.com|shopping\.naver\.com|shopping\.yahoo\.co\.jp|shopping\.yahoo\.com|shopzilla|shopzilla\.com|simplycodes\.com|store\.shopping\.yahoo\.co\.jp|stripe|stripe\.com|uk\.shopping\.net|walmart|walmart\.com)$", "i").test(v.utmSource) || new RegExp("^(.*(([^a-df-z]|^)shop|shopping).*)$", "i").test(v.utmCampaign)) && new RegExp("^(.*cp.*|ppc|retargeting|paid.*)$", "i").test(v.utmMedium)},{"name":"paid-search","test":(v) => new RegExp("^(?:360\.cn|alice|aol|ar\.search\.yahoo\.com|ask|at\.search\.yahoo\.com|au\.search\.yahoo\.com|auone|avg|babylon|baidu|biglobe|biglobe\.co\.jp|biglobe\.ne\.jp|bing|br\.search\.yahoo\.com|ca\.search\.yahoo\.com|centrum\.cz|ch\.search\.yahoo\.com|cl\.search\.yahoo\.com|cn\.bing\.com|cnn|co\.search\.yahoo\.com|comcast|conduit|daum|daum\.net|de\.search\.yahoo\.com|dk\.search\.yahoo\.com|dogpile|dogpile\.com|duckduckgo|ecosia\.org|email\.seznam\.cz|eniro|es\.search\.yahoo\.com|espanol\.search\.yahoo\.com|exalead\.com|excite\.com|fi\.search\.yahoo\.com|firmy\.cz|fr\.search\.yahoo\.com|globo|go\.mail\.ru|google|google-play|hk\.search\.yahoo\.com|id\.search\.yahoo\.com|in\.search\.yahoo\.com|incredimail|it\.search\.yahoo\.com|kvasir|lens\.google\.com|lite\.qwant\.com|lycos|m\.baidu\.com|m\.naver\.com|m\.search\.naver\.com|m\.sogou\.com|mail\.rambler\.ru|mail\.yandex\.ru|malaysia\.search\.yahoo\.com|msn|msn\.com|mx\.search\.yahoo\.com|najdi|naver|naver\.com|news\.google\.com|nl\.search\.yahoo\.com|no\.search\.yahoo\.com|ntp\.msn\.com|nz\.search\.yahoo\.com|onet|onet\.pl|pe\.search\.yahoo\.com|ph\.search\.yahoo\.com|pl\.search\.yahoo\.com|play\.google\.com|qwant|qwant\.com|rakuten|rakuten\.co\.jp|rambler|rambler\.ru|se\.search\.yahoo\.com|search-results|search\.aol\.co\.uk|search\.aol\.com|search\.google\.com|search\.smt\.docomo\.ne\.jp|search\.ukr\.net|secureurl\.ukr\.net|seznam|seznam\.cz|sg\.search\.yahoo\.com|so\.com|sogou|sogou\.com|sp-web\.search\.auone\.jp|startsiden|startsiden\.no|suche\.aol\.de|terra|th\.search\.yahoo\.com|tr\.search\.yahoo\.com|tut\.by|tw\.search\.yahoo\.com|uk\.search\.yahoo\.com|ukr|us\.search\.yahoo\.com|virgilio|vn\.search\.yahoo\.com|wap\.sogou\.com|webmaster\.yandex\.ru|websearch\.rakuten\.co\.jp|yahoo|yahoo\.co\.jp|yahoo\.com|yandex|yandex\.by|yandex\.com|yandex\.com\.tr|yandex\.fr|yandex\.kz|yandex\.ru|yandex\.ua|yandex\.uz|zen\.yandex\.ru)$", "i").test(v.utmSource) && new RegExp("^(.*cp.*|ppc|retargeting|paid.*)$", "i").test(v.utmMedium)},{"name":"paid-social","test":(v) => new RegExp("^(?:43things|43things\.com|51\.com|5ch\.net|Hatena|ImageShack|academia\.edu|activerain|activerain\.com|activeworlds|activeworlds\.com|addthis|addthis\.com|airg\.ca|allnurses\.com|allrecipes\.com|alumniclass|alumniclass\.com|ameba\.jp|ameblo\.jp|americantowns|americantowns\.com|amp\.reddit\.com|ancestry\.com|anobii|anobii\.com|answerbag|answerbag\.com|answers\.yahoo\.com|aolanswers|aolanswers\.com|apps\.facebook\.com|ar\.pinterest\.com|artstation\.com|askubuntu|askubuntu\.com|asmallworld\.com|athlinks|athlinks\.com|away\.vk\.com|awe\.sm|b\.hatena\.ne\.jp|baby-gaga|baby-gaga\.com|babyblog\.ru|badoo|badoo\.com|bebo|bebo\.com|beforeitsnews|beforeitsnews\.com|bharatstudent|bharatstudent\.com|biip\.no|biswap\.org|bit\.ly|blackcareernetwork\.com|blackplanet|blackplanet\.com|blip\.fm|blog\.com|blog\.feedspot\.com|blog\.goo\.ne\.jp|blog\.naver\.com|blog\.yahoo\.co\.jp|blogg\.no|bloggang\.com|blogger|blogger\.com|blogher|blogher\.com|bloglines|bloglines\.com|blogs\.com|blogsome|blogsome\.com|blogspot|blogspot\.com|blogster|blogster\.com|blurtit|blurtit\.com|bookmarks\.yahoo\.co\.jp|bookmarks\.yahoo\.com|br\.pinterest\.com|brightkite|brightkite\.com|brizzly|brizzly\.com|business\.facebook\.com|buzzfeed|buzzfeed\.com|buzznet|buzznet\.com|cafe\.naver\.com|cafemom|cafemom\.com|camospace|camospace\.com|canalblog\.com|care\.com|care2|care2\.com|caringbridge\.org|catster|catster\.com|cbnt\.io|cellufun|cellufun\.com|centerblog\.net|chat\.zalo\.me|chegg\.com|chicagonow|chicagonow\.com|chiebukuro\.yahoo\.co\.jp|classmates|classmates\.com|classquest|classquest\.com|co\.pinterest\.com|cocolog-nifty|cocolog-nifty\.com|copainsdavant\.linternaute\.com|couchsurfing\.org|cozycot|cozycot\.com|cross\.tv|crunchyroll|crunchyroll\.com|cyworld|cyworld\.com|cz\.pinterest\.com|d\.hatena\.ne\.jp|dailystrength\.org|deluxe\.com|deviantart|deviantart\.com|dianping|dianping\.com|digg|digg\.com|diigo|diigo\.com|discover\.hubpages\.com|disqus|disqus\.com|dogster|dogster\.com|dol2day|dol2day\.com|doostang|doostang\.com|dopplr|dopplr\.com|douban|douban\.com|draft\.blogger\.com|draugiem\.lv|drugs-forum|drugs-forum\.com|dzone|dzone\.com|edublogs\.org|elftown|elftown\.com|epicurious\.com|everforo\.com|exblog\.jp|extole|extole\.com|facebook|facebook\.com|faceparty|faceparty\.com|fandom\.com|fanpop|fanpop\.com|fark|fark\.com|fb|fb\.me|fc2|fc2\.com|feedspot|feministing|feministing\.com|filmaffinity|filmaffinity\.com|flickr|flickr\.com|flipboard|flipboard\.com|folkdirect|folkdirect\.com|foodservice|foodservice\.com|forums\.androidcentral\.com|forums\.crackberry\.com|forums\.imore\.com|forums\.nexopia\.com|forums\.webosnation\.com|forums\.wpcentral\.com|fotki|fotki\.com|fotolog|fotolog\.com|foursquare|foursquare\.com|free\.facebook\.com|friendfeed|friendfeed\.com|fruehstueckstreff\.org|fubar|fubar\.com|gaiaonline|gaiaonline\.com|gamerdna|gamerdna\.com|gather\.com|geni\.com|getpocket\.com|glassboard|glassboard\.com|glassdoor|glassdoor\.com|godtube|godtube\.com|goldenline\.pl|goldstar|goldstar\.com|goo\.gl|gooblog|goodreads|goodreads\.com|google\+|googlegroups\.com|googleplus|govloop|govloop\.com|gowalla|gowalla\.com|gree\.jp|groups\.google\.com|gulli\.com|gutefrage\.net|habbo|habbo\.com|hi5|hi5\.com|hootsuite|hootsuite\.com|houzz|houzz\.com|hoverspot|hoverspot\.com|hr\.com|hu\.pinterest\.com|hubculture|hubculture\.com|hubpages\.com|hyves\.net|hyves\.nl|ibibo|ibibo\.com|id\.pinterest\.com|identi\.ca|ig|imageshack\.com|imageshack\.us|imvu|imvu\.com|in\.pinterest\.com|insanejournal|insanejournal\.com|instagram|instagram\.com|instapaper|instapaper\.com|internations\.org|interpals\.net|intherooms|intherooms\.com|irc-galleria\.net|is\.gd|italki|italki\.com|jammerdirect|jammerdirect\.com|jappy\.com|jappy\.de|kaboodle\.com|kakao|kakao\.com|kakaocorp\.com|kaneva|kaneva\.com|kin\.naver\.com|l\.facebook\.com|l\.instagram\.com|l\.messenger\.com|last\.fm|librarything|librarything\.com|lifestream\.aol\.com|line|line\.me|linkedin|linkedin\.com|listal|listal\.com|listography|listography\.com|livedoor\.com|livedoorblog|livejournal|livejournal\.com|lm\.facebook\.com|lnkd\.in|m\.blog\.naver\.com|m\.cafe\.naver\.com|m\.facebook\.com|m\.kin\.naver\.com|m\.vk\.com|m\.yelp\.com|mbga\.jp|medium\.com|meetin\.org|meetup|meetup\.com|meinvz\.net|meneame\.net|menuism\.com|messages\.google\.com|messages\.yahoo\.co\.jp|messenger|messenger\.com|mix\.com|mixi\.jp|mobile\.facebook\.com|mocospace|mocospace\.com|mouthshut|mouthshut\.com|movabletype|movabletype\.com|mubi|mubi\.com|my\.opera\.com|myanimelist\.net|myheritage|myheritage\.com|mylife|mylife\.com|mymodernmet|mymodernmet\.com|myspace|myspace\.com|netvibes|netvibes\.com|news\.ycombinator\.com|newsshowcase|nexopia|ngopost\.org|niconico|nicovideo\.jp|nightlifelink|nightlifelink\.com|ning|ning\.com|nl\.pinterest\.com|odnoklassniki\.ru|odnoklassniki\.ua|okwave\.jp|old\.reddit\.com|oneworldgroup\.org|onstartups|onstartups\.com|opendiary|opendiary\.com|oshiete\.goo\.ne\.jp|out\.reddit\.com|over-blog\.com|overblog\.com|paper\.li|partyflock\.nl|photobucket|photobucket\.com|pinboard|pinboard\.in|pingsta|pingsta\.com|pinterest|pinterest\.at|pinterest\.ca|pinterest\.ch|pinterest\.cl|pinterest\.co\.kr|pinterest\.co\.uk|pinterest\.com|pinterest\.com\.au|pinterest\.com\.mx|pinterest\.de|pinterest\.es|pinterest\.fr|pinterest\.it|pinterest\.jp|pinterest\.nz|pinterest\.ph|pinterest\.pt|pinterest\.ru|pinterest\.se|pixiv\.net|pl\.pinterest\.com|playahead\.se|plurk|plurk\.com|plus\.google\.com|plus\.url\.google\.com|pocket\.co|posterous|posterous\.com|pro\.homeadvisor\.com|pulse\.yahoo\.com|qapacity|qapacity\.com|quechup|quechup\.com|quora|quora\.com|qzone\.qq\.com|ravelry|ravelry\.com|reddit|reddit\.com|redux|redux\.com|renren|renren\.com|researchgate\.net|reunion|reunion\.com|reverbnation|reverbnation\.com|rtl\.de|ryze|ryze\.com|salespider|salespider\.com|scoop\.it|screenrant|screenrant\.com|scribd|scribd\.com|scvngr|scvngr\.com|secondlife|secondlife\.com|serverfault|serverfault\.com|shareit|sharethis|sharethis\.com|shvoong\.com|sites\.google\.com|skype|skyrock|skyrock\.com|slashdot\.org|slideshare\.net|smartnews\.com|snapchat|snapchat\.com|social|sociallife\.com\.br|socialvibe|socialvibe\.com|spaces\.live\.com|spoke|spoke\.com|spruz|spruz\.com|ssense\.com|stackapps|stackapps\.com|stackexchange|stackexchange\.com|stackoverflow|stackoverflow\.com|stardoll\.com|stickam|stickam\.com|studivz\.net|suomi24\.fi|superuser|superuser\.com|sweeva|sweeva\.com|t\.co|t\.me|tagged|tagged\.com|taggedmail|taggedmail\.com|talkbiznow|talkbiznow\.com|taringa\.net|techmeme|techmeme\.com|tencent|tencent\.com|tiktok|tiktok\.com|tinyurl|tinyurl\.com|toolbox|toolbox\.com|touch\.facebook\.com|tr\.pinterest\.com|travellerspoint|travellerspoint\.com|tripadvisor|tripadvisor\.com|trombi|trombi\.com|trustpilot|tudou|tudou\.com|tuenti|tuenti\.com|tumblr|tumblr\.com|tweetdeck|tweetdeck\.com|twitter|twitter\.com|twoo\.com|typepad|typepad\.com|unblog\.fr|urbanspoon\.com|ushareit\.com|ushi\.cn|vampirefreaks|vampirefreaks\.com|vampirerave|vampirerave\.com|vg\.no|video\.ibm\.com|vk\.com|vkontakte\.ru|wakoopa|wakoopa\.com|wattpad|wattpad\.com|web\.facebook\.com|web\.skype\.com|webshots|webshots\.com|wechat|wechat\.com|weebly|weebly\.com|weibo|weibo\.com|wer-weiss-was\.de|weread|weread\.com|whatsapp|whatsapp\.com|wiki\.answers\.com|wikihow\.com|wikitravel\.org|woot\.com|wordpress|wordpress\.com|wordpress\.org|xanga|xanga\.com|xing|xing\.com|yahoo-mbga\.jp|yammer|yammer\.com|yelp|yelp\.co\.uk|yelp\.com|youroom\.in|za\.pinterest\.com|zalo|zoo\.gr|zooppa|zooppa\.com)$", "i").test(v.utmSource) && new RegExp("^(.*cp.*|ppc|retargeting|paid.*)$", "i").test(v.utmMedium)},{"name":"paid-video","test":(v) => new RegExp("^(?:blog\.twitch\.tv|crackle|crackle\.com|curiositystream|curiositystream\.com|d\.tube|dailymotion|dailymotion\.com|dashboard\.twitch\.tv|disneyplus|disneyplus\.com|fast\.wistia\.net|help\.hulu\.com|help\.netflix\.com|hulu|hulu\.com|id\.twitch\.tv|iq\.com|iqiyi|iqiyi\.com|jobs\.netflix\.com|justin\.tv|m\.twitch\.tv|m\.youtube\.com|music\.youtube\.com|netflix|netflix\.com|player\.twitch\.tv|player\.vimeo\.com|ted|ted\.com|twitch|twitch\.tv|utreon|utreon\.com|veoh|veoh\.com|viadeo\.journaldunet\.com|vimeo|vimeo\.com|wistia|wistia\.com|youku|youku\.com|youtube|youtube\.com)$", "i").test(v.utmSource) && new RegExp("^(.*cp.*|ppc|retargeting|paid.*)$", "i").test(v.utmMedium)},{"name":"display","test":(v) => new RegExp("^(?:display|banner|expandable|interstitial|cpm)$", "i").test(v.utmMedium)},{"name":"paid-other","test":(v) => new RegExp("^(.*cp.*|ppc|retargeting|paid.*)$", "i").test(v.utmMedium)},{"name":"organic-shopping","test":(v) => new RegExp("^(?:360\.cn|alice|aol|ar\.search\.yahoo\.com|ask|at\.search\.yahoo\.com|au\.search\.yahoo\.com|auone|avg|babylon|baidu|biglobe|biglobe\.co\.jp|biglobe\.ne\.jp|bing|br\.search\.yahoo\.com|ca\.search\.yahoo\.com|centrum\.cz|ch\.search\.yahoo\.com|cl\.search\.yahoo\.com|cn\.bing\.com|cnn|co\.search\.yahoo\.com|comcast|conduit|daum|daum\.net|de\.search\.yahoo\.com|dk\.search\.yahoo\.com|dogpile|dogpile\.com|duckduckgo|ecosia\.org|email\.seznam\.cz|eniro|es\.search\.yahoo\.com|espanol\.search\.yahoo\.com|exalead\.com|excite\.com|fi\.search\.yahoo\.com|firmy\.cz|fr\.search\.yahoo\.com|globo|go\.mail\.ru|google|google-play|hk\.search\.yahoo\.com|id\.search\.yahoo\.com|in\.search\.yahoo\.com|incredimail|it\.search\.yahoo\.com|kvasir|lens\.google\.com|lite\.qwant\.com|lycos|m\.baidu\.com|m\.naver\.com|m\.search\.naver\.com|m\.sogou\.com|mail\.rambler\.ru|mail\.yandex\.ru|malaysia\.search\.yahoo\.com|msn|msn\.com|mx\.search\.yahoo\.com|najdi|naver|naver\.com|news\.google\.com|nl\.search\.yahoo\.com|no\.search\.yahoo\.com|ntp\.msn\.com|nz\.search\.yahoo\.com|onet|onet\.pl|pe\.search\.yahoo\.com|ph\.search\.yahoo\.com|pl\.search\.yahoo\.com|play\.google\.com|qwant|qwant\.com|rakuten|rakuten\.co\.jp|rambler|rambler\.ru|se\.search\.yahoo\.com|search-results|search\.aol\.co\.uk|search\.aol\.com|search\.google\.com|search\.smt\.docomo\.ne\.jp|search\.ukr\.net|secureurl\.ukr\.net|seznam|seznam\.cz|sg\.search\.yahoo\.com|so\.com|sogou|sogou\.com|sp-web\.search\.auone\.jp|startsiden|startsiden\.no|suche\.aol\.de|terra|th\.search\.yahoo\.com|tr\.search\.yahoo\.com|tut\.by|tw\.search\.yahoo\.com|uk\.search\.yahoo\.com|ukr|us\.search\.yahoo\.com|virgilio|vn\.search\.yahoo\.com|wap\.sogou\.com|webmaster\.yandex\.ru|websearch\.rakuten\.co\.jp|yahoo|yahoo\.co\.jp|yahoo\.com|yandex|yandex\.by|yandex\.com|yandex\.com\.tr|yandex\.fr|yandex\.kz|yandex\.ru|yandex\.ua|yandex\.uz|zen\.yandex\.ru)$", "i").test(v.utmSource) || new RegExp("^(.*(([^a-df-z]|^)shop|shopping).*)$", "i").test(v.utmCampaign)},{"name":"organic-social","test":(v) => new RegExp("^(?:43things|43things\.com|51\.com|5ch\.net|Hatena|ImageShack|academia\.edu|activerain|activerain\.com|activeworlds|activeworlds\.com|addthis|addthis\.com|airg\.ca|allnurses\.com|allrecipes\.com|alumniclass|alumniclass\.com|ameba\.jp|ameblo\.jp|americantowns|americantowns\.com|amp\.reddit\.com|ancestry\.com|anobii|anobii\.com|answerbag|answerbag\.com|answers\.yahoo\.com|aolanswers|aolanswers\.com|apps\.facebook\.com|ar\.pinterest\.com|artstation\.com|askubuntu|askubuntu\.com|asmallworld\.com|athlinks|athlinks\.com|away\.vk\.com|awe\.sm|b\.hatena\.ne\.jp|baby-gaga|baby-gaga\.com|babyblog\.ru|badoo|badoo\.com|bebo|bebo\.com|beforeitsnews|beforeitsnews\.com|bharatstudent|bharatstudent\.com|biip\.no|biswap\.org|bit\.ly|blackcareernetwork\.com|blackplanet|blackplanet\.com|blip\.fm|blog\.com|blog\.feedspot\.com|blog\.goo\.ne\.jp|blog\.naver\.com|blog\.yahoo\.co\.jp|blogg\.no|bloggang\.com|blogger|blogger\.com|blogher|blogher\.com|bloglines|bloglines\.com|blogs\.com|blogsome|blogsome\.com|blogspot|blogspot\.com|blogster|blogster\.com|blurtit|blurtit\.com|bookmarks\.yahoo\.co\.jp|bookmarks\.yahoo\.com|br\.pinterest\.com|brightkite|brightkite\.com|brizzly|brizzly\.com|business\.facebook\.com|buzzfeed|buzzfeed\.com|buzznet|buzznet\.com|cafe\.naver\.com|cafemom|cafemom\.com|camospace|camospace\.com|canalblog\.com|care\.com|care2|care2\.com|caringbridge\.org|catster|catster\.com|cbnt\.io|cellufun|cellufun\.com|centerblog\.net|chat\.zalo\.me|chegg\.com|chicagonow|chicagonow\.com|chiebukuro\.yahoo\.co\.jp|classmates|classmates\.com|classquest|classquest\.com|co\.pinterest\.com|cocolog-nifty|cocolog-nifty\.com|copainsdavant\.linternaute\.com|couchsurfing\.org|cozycot|cozycot\.com|cross\.tv|crunchyroll|crunchyroll\.com|cyworld|cyworld\.com|cz\.pinterest\.com|d\.hatena\.ne\.jp|dailystrength\.org|deluxe\.com|deviantart|deviantart\.com|dianping|dianping\.com|digg|digg\.com|diigo|diigo\.com|discover\.hubpages\.com|disqus|disqus\.com|dogster|dogster\.com|dol2day|dol2day\.com|doostang|doostang\.com|dopplr|dopplr\.com|douban|douban\.com|draft\.blogger\.com|draugiem\.lv|drugs-forum|drugs-forum\.com|dzone|dzone\.com|edublogs\.org|elftown|elftown\.com|epicurious\.com|everforo\.com|exblog\.jp|extole|extole\.com|facebook|facebook\.com|faceparty|faceparty\.com|fandom\.com|fanpop|fanpop\.com|fark|fark\.com|fb|fb\.me|fc2|fc2\.com|feedspot|feministing|feministing\.com|filmaffinity|filmaffinity\.com|flickr|flickr\.com|flipboard|flipboard\.com|folkdirect|folkdirect\.com|foodservice|foodservice\.com|forums\.androidcentral\.com|forums\.crackberry\.com|forums\.imore\.com|forums\.nexopia\.com|forums\.webosnation\.com|forums\.wpcentral\.com|fotki|fotki\.com|fotolog|fotolog\.com|foursquare|foursquare\.com|free\.facebook\.com|friendfeed|friendfeed\.com|fruehstueckstreff\.org|fubar|fubar\.com|gaiaonline|gaiaonline\.com|gamerdna|gamerdna\.com|gather\.com|geni\.com|getpocket\.com|glassboard|glassboard\.com|glassdoor|glassdoor\.com|godtube|godtube\.com|goldenline\.pl|goldstar|goldstar\.com|goo\.gl|gooblog|goodreads|goodreads\.com|google\+|googlegroups\.com|googleplus|govloop|govloop\.com|gowalla|gowalla\.com|gree\.jp|groups\.google\.com|gulli\.com|gutefrage\.net|habbo|habbo\.com|hi5|hi5\.com|hootsuite|hootsuite\.com|houzz|houzz\.com|hoverspot|hoverspot\.com|hr\.com|hu\.pinterest\.com|hubculture|hubculture\.com|hubpages\.com|hyves\.net|hyves\.nl|ibibo|ibibo\.com|id\.pinterest\.com|identi\.ca|ig|imageshack\.com|imageshack\.us|imvu|imvu\.com|in\.pinterest\.com|insanejournal|insanejournal\.com|instagram|instagram\.com|instapaper|instapaper\.com|internations\.org|interpals\.net|intherooms|intherooms\.com|irc-galleria\.net|is\.gd|italki|italki\.com|jammerdirect|jammerdirect\.com|jappy\.com|jappy\.de|kaboodle\.com|kakao|kakao\.com|kakaocorp\.com|kaneva|kaneva\.com|kin\.naver\.com|l\.facebook\.com|l\.instagram\.com|l\.messenger\.com|last\.fm|librarything|librarything\.com|lifestream\.aol\.com|line|line\.me|linkedin|linkedin\.com|listal|listal\.com|listography|listography\.com|livedoor\.com|livedoorblog|livejournal|livejournal\.com|lm\.facebook\.com|lnkd\.in|m\.blog\.naver\.com|m\.cafe\.naver\.com|m\.facebook\.com|m\.kin\.naver\.com|m\.vk\.com|m\.yelp\.com|mbga\.jp|medium\.com|meetin\.org|meetup|meetup\.com|meinvz\.net|meneame\.net|menuism\.com|messages\.google\.com|messages\.yahoo\.co\.jp|messenger|messenger\.com|mix\.com|mixi\.jp|mobile\.facebook\.com|mocospace|mocospace\.com|mouthshut|mouthshut\.com|movabletype|movabletype\.com|mubi|mubi\.com|my\.opera\.com|myanimelist\.net|myheritage|myheritage\.com|mylife|mylife\.com|mymodernmet|mymodernmet\.com|myspace|myspace\.com|netvibes|netvibes\.com|news\.ycombinator\.com|newsshowcase|nexopia|ngopost\.org|niconico|nicovideo\.jp|nightlifelink|nightlifelink\.com|ning|ning\.com|nl\.pinterest\.com|odnoklassniki\.ru|odnoklassniki\.ua|okwave\.jp|old\.reddit\.com|oneworldgroup\.org|onstartups|onstartups\.com|opendiary|opendiary\.com|oshiete\.goo\.ne\.jp|out\.reddit\.com|over-blog\.com|overblog\.com|paper\.li|partyflock\.nl|photobucket|photobucket\.com|pinboard|pinboard\.in|pingsta|pingsta\.com|pinterest|pinterest\.at|pinterest\.ca|pinterest\.ch|pinterest\.cl|pinterest\.co\.kr|pinterest\.co\.uk|pinterest\.com|pinterest\.com\.au|pinterest\.com\.mx|pinterest\.de|pinterest\.es|pinterest\.fr|pinterest\.it|pinterest\.jp|pinterest\.nz|pinterest\.ph|pinterest\.pt|pinterest\.ru|pinterest\.se|pixiv\.net|pl\.pinterest\.com|playahead\.se|plurk|plurk\.com|plus\.google\.com|plus\.url\.google\.com|pocket\.co|posterous|posterous\.com|pro\.homeadvisor\.com|pulse\.yahoo\.com|qapacity|qapacity\.com|quechup|quechup\.com|quora|quora\.com|qzone\.qq\.com|ravelry|ravelry\.com|reddit|reddit\.com|redux|redux\.com|renren|renren\.com|researchgate\.net|reunion|reunion\.com|reverbnation|reverbnation\.com|rtl\.de|ryze|ryze\.com|salespider|salespider\.com|scoop\.it|screenrant|screenrant\.com|scribd|scribd\.com|scvngr|scvngr\.com|secondlife|secondlife\.com|serverfault|serverfault\.com|shareit|sharethis|sharethis\.com|shvoong\.com|sites\.google\.com|skype|skyrock|skyrock\.com|slashdot\.org|slideshare\.net|smartnews\.com|snapchat|snapchat\.com|social|sociallife\.com\.br|socialvibe|socialvibe\.com|spaces\.live\.com|spoke|spoke\.com|spruz|spruz\.com|ssense\.com|stackapps|stackapps\.com|stackexchange|stackexchange\.com|stackoverflow|stackoverflow\.com|stardoll\.com|stickam|stickam\.com|studivz\.net|suomi24\.fi|superuser|superuser\.com|sweeva|sweeva\.com|t\.co|t\.me|tagged|tagged\.com|taggedmail|taggedmail\.com|talkbiznow|talkbiznow\.com|taringa\.net|techmeme|techmeme\.com|tencent|tencent\.com|tiktok|tiktok\.com|tinyurl|tinyurl\.com|toolbox|toolbox\.com|touch\.facebook\.com|tr\.pinterest\.com|travellerspoint|travellerspoint\.com|tripadvisor|tripadvisor\.com|trombi|trombi\.com|trustpilot|tudou|tudou\.com|tuenti|tuenti\.com|tumblr|tumblr\.com|tweetdeck|tweetdeck\.com|twitter|twitter\.com|twoo\.com|typepad|typepad\.com|unblog\.fr|urbanspoon\.com|ushareit\.com|ushi\.cn|vampirefreaks|vampirefreaks\.com|vampirerave|vampirerave\.com|vg\.no|video\.ibm\.com|vk\.com|vkontakte\.ru|wakoopa|wakoopa\.com|wattpad|wattpad\.com|web\.facebook\.com|web\.skype\.com|webshots|webshots\.com|wechat|wechat\.com|weebly|weebly\.com|weibo|weibo\.com|wer-weiss-was\.de|weread|weread\.com|whatsapp|whatsapp\.com|wiki\.answers\.com|wikihow\.com|wikitravel\.org|woot\.com|wordpress|wordpress\.com|wordpress\.org|xanga|xanga\.com|xing|xing\.com|yahoo-mbga\.jp|yammer|yammer\.com|yelp|yelp\.co\.uk|yelp\.com|youroom\.in|za\.pinterest\.com|zalo|zoo\.gr|zooppa|zooppa\.com)$", "i").test(v.utmSource) || new RegExp("^(?:social|social-network|social-media|sm|social network|social media)$", "i").test(v.utmMedium)},{"name":"organic-video","test":(v) => new RegExp("^(?:blog\.twitch\.tv|crackle|crackle\.com|curiositystream|curiositystream\.com|d\.tube|dailymotion|dailymotion\.com|dashboard\.twitch\.tv|disneyplus|disneyplus\.com|fast\.wistia\.net|help\.hulu\.com|help\.netflix\.com|hulu|hulu\.com|id\.twitch\.tv|iq\.com|iqiyi|iqiyi\.com|jobs\.netflix\.com|justin\.tv|m\.twitch\.tv|m\.youtube\.com|music\.youtube\.com|netflix|netflix\.com|player\.twitch\.tv|player\.vimeo\.com|ted|ted\.com|twitch|twitch\.tv|utreon|utreon\.com|veoh|veoh\.com|viadeo\.journaldunet\.com|vimeo|vimeo\.com|wistia|wistia\.com|youku|youku\.com|youtube|youtube\.com)$", "i").test(v.utmSource) || new RegExp("^(.*video.*)$", "i").test(v.utmMedium)},{"name":"organic-search","test":(v) => new RegExp("^(?:360\.cn|alice|aol|ar\.search\.yahoo\.com|ask|at\.search\.yahoo\.com|au\.search\.yahoo\.com|auone|avg|babylon|baidu|biglobe|biglobe\.co\.jp|biglobe\.ne\.jp|bing|br\.search\.yahoo\.com|ca\.search\.yahoo\.com|centrum\.cz|ch\.search\.yahoo\.com|cl\.search\.yahoo\.com|cn\.bing\.com|cnn|co\.search\.yahoo\.com|comcast|conduit|daum|daum\.net|de\.search\.yahoo\.com|dk\.search\.yahoo\.com|dogpile|dogpile\.com|duckduckgo|ecosia\.org|email\.seznam\.cz|eniro|es\.search\.yahoo\.com|espanol\.search\.yahoo\.com|exalead\.com|excite\.com|fi\.search\.yahoo\.com|firmy\.cz|fr\.search\.yahoo\.com|globo|go\.mail\.ru|google|google-play|hk\.search\.yahoo\.com|id\.search\.yahoo\.com|in\.search\.yahoo\.com|incredimail|it\.search\.yahoo\.com|kvasir|lens\.google\.com|lite\.qwant\.com|lycos|m\.baidu\.com|m\.naver\.com|m\.search\.naver\.com|m\.sogou\.com|mail\.rambler\.ru|mail\.yandex\.ru|malaysia\.search\.yahoo\.com|msn|msn\.com|mx\.search\.yahoo\.com|najdi|naver|naver\.com|news\.google\.com|nl\.search\.yahoo\.com|no\.search\.yahoo\.com|ntp\.msn\.com|nz\.search\.yahoo\.com|onet|onet\.pl|pe\.search\.yahoo\.com|ph\.search\.yahoo\.com|pl\.search\.yahoo\.com|play\.google\.com|qwant|qwant\.com|rakuten|rakuten\.co\.jp|rambler|rambler\.ru|se\.search\.yahoo\.com|search-results|search\.aol\.co\.uk|search\.aol\.com|search\.google\.com|search\.smt\.docomo\.ne\.jp|search\.ukr\.net|secureurl\.ukr\.net|seznam|seznam\.cz|sg\.search\.yahoo\.com|so\.com|sogou|sogou\.com|sp-web\.search\.auone\.jp|startsiden|startsiden\.no|suche\.aol\.de|terra|th\.search\.yahoo\.com|tr\.search\.yahoo\.com|tut\.by|tw\.search\.yahoo\.com|uk\.search\.yahoo\.com|ukr|us\.search\.yahoo\.com|virgilio|vn\.search\.yahoo\.com|wap\.sogou\.com|webmaster\.yandex\.ru|websearch\.rakuten\.co\.jp|yahoo|yahoo\.co\.jp|yahoo\.com|yandex|yandex\.by|yandex\.com|yandex\.com\.tr|yandex\.fr|yandex\.kz|yandex\.ru|yandex\.ua|yandex\.uz|zen\.yandex\.ru)$", "i").test(v.utmSource) || v.utmMedium.toLowerCase() === "organic"},{"name":"referral","test":(v) => new RegExp("^(?:referral|app|link)$", "i").test(v.utmMedium)},{"name":"email","test":(v) => new RegExp("^(?:email|e-mail|e_mail|e mail)$", "i").test(v.utmMedium) || new RegExp("^(?:email|e-mail|e_mail|e mail)$", "i").test(v.utmSource)},{"name":"affiliate","test":(v) => v.utmMedium.toLowerCase() === "affiliate"},{"name":"audio","test":(v) => v.utmMedium.toLowerCase() === "audio"},{"name":"sms","test":(v) => v.utmSource.toLowerCase() === "sms" || v.utmMedium.toLowerCase() === "sms"},{"name":"mobile-push-notification","test":(v) => v.utmSource.toLowerCase() === "firebase" || new RegExp("(?:.*mobile.*|.*notification.*|push$)", "i").test(v.utmMedium)}].find(i=>i.test(t))?.name??"other"}getShopifyAnalyticsId(){return this.getCookie("_shopify_y")}legacyGetCookieVisitor(){const t=this.getCookie("SHOPLIFT");return t===null?null:JSON.parse(t,_)}getCookie(t){const e=this.cookie.split("; ").filter(i=>i.split("=").at(0)===t).at(0);return e===void 0?null:e.split("=").slice(1).join("=")}monitorConsentChange(){document.addEventListener("visitorConsentCollected",t=>{(async()=>await this.onConsentChange(t.detail.analyticsAllowed,!0))()}),document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>this.loadShopifyConsentApiWithRetry()):this.loadShopifyConsentApiWithRetry()}loadShopifyConsentApiWithRetry(){let t=0;const e=()=>{this.loadShopifyConsentApi()||t++<10&&window.setTimeout(e,100)};e()}loadShopifyConsentApi(){if(window.Shopify){this.log("Loading Shopify features");const t=async()=>{if(!window.Shopify){this.log("Shopify object missing... suddenly?");return}if(window.Shopify.customerPrivacy===void 0){this.log("Shopify CustomerPrivacy api still missing, trying again in 1000ms"),e=window.setTimeout(()=>{(async()=>await t())()},1e3);return}const i=window.Shopify.customerPrivacy.getTrackingConsent();await this.onConsentChange(window.Shopify.customerPrivacy.analyticsProcessingAllowed(),i==="yes")};let e=window.setTimeout(()=>{(async()=>await t())()},5e3);return window.Shopify.loadFeatures([{name:"consent-tracking-api",version:"0.1"}],i=>{(async()=>{if(window.clearTimeout(e),i){this.log("Error loading consent tracking",i);return}await t()})()}),!0}return!1}async onConsentChange(t,e){try{if(this.log("Consent change detected",t,e),this.state.essential.consentApproved=t,this.state.essential.hasConsentInteraction=e,!this.state.essential.consentApproved){this.state.essential.hasConsentInteraction&&(this.state.analytics.queue.length=0),this.saveState();return}this.cookie=document.cookie,this.shopifyAnalyticsId=this.getShopifyAnalyticsId();for(const i of this.state.analytics.queue.filter(s=>s.type===1||s.type===2)){const s=i;s.shopifyAnalyticsId=this.shopifyAnalyticsId}this.saveState(),await this.syncAllEvents()}catch(i){this.log("Error syncing on consent change",i)}}isThemePreview(){return isThemePreview||themeRole!=="main"}isAppProxyPath(){const t=["/apps/","/tools/","/a/"],e=window.location.pathname;return t.some(i=>e.startsWith(i))}clearThemeBar(t,e,i){const s=structuredClone(i);this.log("Looking for theme bar"),this.waitForElement(null,"body").then(r=>this.waitForElement(r,"#preview-bar-iframe, #PBarNextFrameWrapper").then(o=>(this.log("Found theme bar"),e&&(this.log("Removing theme bar"),o.remove()),t?this.makeRequest({url:`${this.eventHost}/api/v0/logs`,method:"post",data:JSON.stringify({...this.debugState(),stateAtEvaluation:s},O)}):Promise.resolve(null)))).catch(r=>console.error(r))}waitForElement(t,e){return new Promise(i=>{const s=document.querySelector(e);if(s){i(s);return}const r=new MutationObserver(o=>{const n=document.querySelector(e);if(n){r.disconnect(),i(n);return}});r.observe(t??document.documentElement,{childList:!0})})}setDebug(t){this.state.essential.debugMode=t,this.saveState()}log(t,...e){let i=0;const s=t.replace(/%[sdoOfF]/g,r=>{if(i>=e.length)return r;const o=e[i++];return r==="%o"||r==="%O"?JSON.stringify(o):String(o)});this.logHistory.push(`[${new Date().toISOString()}][SL] ${s}`),!(!this.state.essential.debugMode&&!this.shopliftDebug)&&console.debug(`[SL] ${t}`,...e)}debugState(){return{state:this.state,storage:{essential:this.loadLocalStorage(this.essentialSessionKey),analytics:this.loadLocalStorage(this.analyticsSessionKey)},params:{shop:this.shop,host:this.host,eventHost:this.eventHost,cssHideClass:this.cssHideClass,testConfigs:this.testConfigs,inactiveTestConfigs:this.inactiveTestConfigs,sendPageView:this.sendPageView,isShopifyMerchantCookie:this.getCookie("is_shopify_merchant"),themeId,url:window.location.href,isThemePreview,themeRole,gaConfig:this.gaConfig},logHistory:this.logHistory}}createViewportObserver(t,e={}){const{threshold:i=this.VIEWPORT_TRACK_THRESHOLD,triggerOnce:s=!0}=e,r=new Set;return new IntersectionObserver(o=>{o.forEach(n=>{if(n.isIntersecting&&!r.has(n.target)){const a=n.target,c=a.getAttribute(this.DATA_SL_TEST_ID);c&&(t(c,a),s&&r.add(a))}})},{threshold:i})}applyChangesWithViewport(t,e,i,s){const r=e.selectorsForViewportTracking??e.selectors,o=n=>{if(this.state.essential.visitorTests.some(p=>p.testId===n)||this.activeViewportObservers.has(n))return;const a=[];if(r.forEach(p=>{t.querySelectorAll(p.cssSelector).forEach(v=>a.push(v))}),a.length===0)return;let c=!1;const h=()=>{c||(c=!0,i(n),u.disconnect(),this.activeViewportObservers.delete(n))},u=this.createViewportObserver(()=>{h()},{triggerOnce:!0,...s});this.activeViewportObservers.set(n,u),this.log(`Created viewport observer for test ${n}, observing ${a.length} elements`),a.forEach(p=>{p.setAttribute(this.DATA_SL_TEST_ID,String(n)),u.observe(p)}),setTimeout(()=>{c||a.forEach(p=>{const d=p.getBoundingClientRect(),v=s?.threshold??this.VIEWPORT_TRACK_THRESHOLD,T=Math.min(d.bottom,window.innerHeight)-Math.max(d.top,0),m=Math.min(d.right,window.innerWidth)-Math.max(d.left,0);d.top<window.innerHeight&&d.bottom>0&&d.left<window.innerWidth&&d.right>0&&T>0&&m>0&&T>=d.height*v&&(this.log(`Price element already visible in viewport for test ${n}:`,p),h())})},100)};e.selectors.length>0&&x(t,e,()=>{}),Z(t,{testId:e.testId,hypothesisId:e.hypothesisId,selectors:r},n=>{o(n)})}applyPriceTestWithMapLookup(t,e,i,s){if(!e.priceData){this.log("No price data for hypothesis '%s'",e.id);return}this.log("Hypothesis '%s' isControl=%s, priceData has %d variants",e.id,e.isControl,e.priceData.v.length);const r=e.priceData.v.slice(0,3);for(const[m,S,A]of r)this.log("  Sample priceData: variant=%s, price=%d, compareAt=%d",m,S,A);const o=ct(e.priceData),n=new Set;for(const m of i)if(m.priceData)for(const[S]of m.priceData.v)n.add(S);this.log("Price test Map lookup: %d products in hypothesis, %d total products to track",o.size,n.size);const a=e.priceData,c=new WeakSet;let h=!1;const u="[data-sl-attribute-p], [data-sl-attribute-cap], [data-sl-attribute-discount]",p=m=>{if(c.has(m))return;const S=m.getAttribute("data-sl-attribute-p"),A=m.getAttribute("data-sl-attribute-cap"),y=m.getAttribute("data-sl-attribute-discount"),f=S||A||y;if(!f||!n.has(f))return;c.add(m);const w=o.get(f);w&&(this.log("Applying price for product %s: %d cents (compare at: %d cents)",f,w.priceInCents,w.compareAtPriceInCents),dt(m,f,w,a),this.log("Applied price to element for product %s",f)),!h&&!this.state.essential.visitorTests.some(g=>g.testId===t)&&(m.setAttribute(this.DATA_SL_TEST_ID,String(t)),this.setupElementViewportTracking(m,t,()=>{h||(h=!0,s(t))}))},d=()=>{const m=document.querySelectorAll(u);this.log("Scanning for price elements, found: %d",m.length),m.forEach(p)},v=new MutationObserver(m=>{for(const S of m)S.type==="childList"&&S.addedNodes.forEach(A=>{if(A.nodeType===Node.ELEMENT_NODE){const y=A;(y.hasAttribute("data-sl-attribute-p")||y.hasAttribute("data-sl-attribute-cap")||y.hasAttribute("data-sl-attribute-discount"))&&p(y),y.querySelectorAll(u).forEach(p)}}),S.type==="attributes"&&S.target instanceof Element&&p(S.target)}),T=document.body||document.documentElement;v.observe(T,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-sl-attribute-p","data-sl-attribute-cap","data-sl-attribute-discount"]}),this.log("MutationObserver started for price elements"),d(),document.readyState==="loading"&&document.addEventListener("DOMContentLoaded",()=>{this.log("DOMContentLoaded - rescanning for price elements"),d()}),setTimeout(()=>{this.log("Delayed rescan for price elements"),d()},100),setTimeout(()=>{this.log("Final rescan for price elements"),d()},500)}setupElementViewportTracking(t,e,i){const s=this.VIEWPORT_TRACK_THRESHOLD,r=t.getBoundingClientRect(),o=Math.min(r.bottom,window.innerHeight)-Math.max(r.top,0),n=Math.min(r.right,window.innerWidth)-Math.max(r.left,0);if(r.top<window.innerHeight&&r.bottom>0&&r.left<window.innerWidth&&r.right>0&&o>0&&n>0&&o>=r.height*s){this.log("Price element already visible for test %s",e),i();return}const c=new IntersectionObserver(h=>{for(const u of h)if(u.isIntersecting&&u.intersectionRatio>=s){this.log("Price element entered viewport for test %s",e),c.disconnect(),i();break}},{threshold:s});c.observe(t)}debug(){const t=this.debugState();console.log(JSON.stringify(t,O,2))}}(async function(){window.shopliftInstance||(window.shopliftInstance=new pt("e75063-e5.myshopify.com","https://app.shoplift.ai","https://events.shoplift.ai",true,false,false,{"sendEvents":true,"mode":"gtag"},false,1000,[{"id":"019bdc9b-44ad-7869-b857-a155d1197428","startAt":"2026-01-20T18:12:01.836057Z","requiresCountry":false,"bayesianRevision":5,"device":"mobile","status":"active","visitorOption":"all","ignoreTestViewParameterEnforcement":false,"statusHistory":[{"status":"active","createdAt":"2026-01-20T18:12:01.889718Z"}],"hypotheses":[{"visitorCount":36,"trafficPercentage":0.5,"title":"Original","domSelectors":[],"priceData":null,"id":"019bdc99-9665-7a77-99ee-1e300a97a2b0","type":"product","themeId":187180843374,"affix":"snow-max-mattress","isControl":true,"redirectPath":null},{"visitorCount":34,"trafficPercentage":0.5,"title":"Untitled variant","domSelectors":[],"priceData":null,"id":"019bdc99-ccf5-73ea-840c-eb8f924df113","type":"product","themeId":187180843374,"affix":"sl-22842983","isControl":false,"redirectPath":null}],"targetAudiences":[[(visitor, isNew, channel, country) => channel === "paid-social"],[(visitor, isNew, channel, country) => visitor.referrer.includes("facebook.com")],[(visitor, isNew, channel, country) => visitor.referrer.includes("instagram.com")],[(visitor, isNew, channel, country) => visitor.referrer.includes("youtube.com")],[(visitor, isNew, channel, country) => visitor.referrer.includes("pinterest.com")],[(visitor, isNew, channel, country) => channel === "paid-shopping"],[(visitor, isNew, channel, country) => visitor.referrer.includes("tiktok.com")],[(visitor, isNew, channel, country) => channel === "paid-search"]],"title":"Snow Max PDP | Social LP"},{"id":"019bdc9c-92b1-7e31-ab4a-2197b93accc5","startAt":"2026-01-20T18:13:27.344872Z","requiresCountry":false,"bayesianRevision":5,"device":"mobile","status":"active","visitorOption":"all","ignoreTestViewParameterEnforcement":false,"statusHistory":[{"status":"active","createdAt":"2026-01-20T18:13:27.351018Z"}],"hypotheses":[{"visitorCount":45,"trafficPercentage":0.5,"title":"Original","domSelectors":[],"priceData":null,"id":"019bdc9b-dee3-77ba-b441-49c7595faf46","type":"product","themeId":187180843374,"affix":"snow-mattress","isControl":true,"redirectPath":null},{"visitorCount":48,"trafficPercentage":0.5,"title":"Social LP","domSelectors":[],"priceData":null,"id":"019bdc9b-dee5-7ae2-8b5d-0b3abf67f99c","type":"product","themeId":187180843374,"affix":"sl-EC8E58B2","isControl":false,"redirectPath":null}],"targetAudiences":[[(visitor, isNew, channel, country) => visitor.referrer.includes("facebook.com")],[(visitor, isNew, channel, country) => channel === "paid-social"],[(visitor, isNew, channel, country) => channel === "paid-search"],[(visitor, isNew, channel, country) => visitor.referrer.includes("tiktok.com")],[(visitor, isNew, channel, country) => channel === "paid-shopping"],[(visitor, isNew, channel, country) => visitor.referrer.includes("pinterest.com")],[(visitor, isNew, channel, country) => visitor.referrer.includes("youtube.com")],[(visitor, isNew, channel, country) => visitor.referrer.includes("instagram.com")]],"title":"Snow PDP | Social LP"},{"id":"019bdc9e-0590-7b46-8d12-dbf20880b930","startAt":"2026-01-20T18:15:02.287781Z","requiresCountry":false,"bayesianRevision":5,"device":"mobile","status":"active","visitorOption":"all","ignoreTestViewParameterEnforcement":false,"statusHistory":[{"status":"active","createdAt":"2026-01-20T18:15:02.292725Z"}],"hypotheses":[{"visitorCount":21,"trafficPercentage":0.5,"title":"Original","domSelectors":[],"priceData":null,"id":"019bdc9d-4e1e-7691-9dc7-70ea6301387b","type":"product","themeId":187180843374,"affix":"dream-max-mattress","isControl":true,"redirectPath":null},{"visitorCount":15,"trafficPercentage":0.5,"title":"Untitled variant","domSelectors":[],"priceData":null,"id":"019bdc9d-4e21-76a1-8697-58a85e30d882","type":"product","themeId":187180843374,"affix":"sl-6B9CEAE4","isControl":false,"redirectPath":null}],"targetAudiences":[[(visitor, isNew, channel, country) => channel === "paid-social"],[(visitor, isNew, channel, country) => channel === "paid-search"],[(visitor, isNew, channel, country) => visitor.referrer.includes("tiktok.com")],[(visitor, isNew, channel, country) => channel === "paid-shopping"],[(visitor, isNew, channel, country) => visitor.referrer.includes("pinterest.com")],[(visitor, isNew, channel, country) => visitor.referrer.includes("youtube.com")],[(visitor, isNew, channel, country) => visitor.referrer.includes("instagram.com")],[(visitor, isNew, channel, country) => visitor.referrer.includes("facebook.com")]],"title":"Dream Max PDP | Social LP"},{"id":"019bdc9e-dfc6-7125-9907-acebd74373f5","startAt":"2026-01-20T18:15:58.146825Z","requiresCountry":false,"bayesianRevision":5,"device":"mobile","status":"active","visitorOption":"all","ignoreTestViewParameterEnforcement":false,"statusHistory":[{"status":"active","createdAt":"2026-01-20T18:15:58.2552Z"}],"hypotheses":[{"visitorCount":33,"trafficPercentage":0.5,"title":"Original","domSelectors":[],"priceData":null,"id":"019bdc9e-5e33-7633-87f7-93786e3b6a6a","type":"product","themeId":187180843374,"affix":"dream-mattress","isControl":true,"redirectPath":null},{"visitorCount":26,"trafficPercentage":0.5,"title":"Social LP","domSelectors":[],"priceData":null,"id":"019bdc9e-5e35-7011-8fb2-ba42697d9a8a","type":"product","themeId":187180843374,"affix":"sl-4C7CCA3D","isControl":false,"redirectPath":null}],"targetAudiences":[[(visitor, isNew, channel, country) => channel === "paid-social"],[(visitor, isNew, channel, country) => channel === "paid-search"],[(visitor, isNew, channel, country) => visitor.referrer.includes("tiktok.com")],[(visitor, isNew, channel, country) => channel === "paid-shopping"],[(visitor, isNew, channel, country) => visitor.referrer.includes("pinterest.com")],[(visitor, isNew, channel, country) => visitor.referrer.includes("youtube.com")],[(visitor, isNew, channel, country) => visitor.referrer.includes("instagram.com")],[(visitor, isNew, channel, country) => visitor.referrer.includes("facebook.com")]],"title":"Dream PDP | Social LP"},{"id":"019bdc9f-9c0e-7e09-aab7-b75f4cb31977","startAt":"2026-01-20T18:16:46.349934Z","requiresCountry":false,"bayesianRevision":5,"device":"mobile","status":"active","visitorOption":"all","ignoreTestViewParameterEnforcement":false,"statusHistory":[{"status":"active","createdAt":"2026-01-20T18:16:46.356176Z"}],"hypotheses":[{"visitorCount":48,"trafficPercentage":0.5,"title":"Original","domSelectors":[],"priceData":null,"id":"019bdc9f-1483-7faa-ac67-3e8f68e1df85","type":"product","themeId":187180843374,"affix":"cloud-one-mattress","isControl":true,"redirectPath":null},{"visitorCount":47,"trafficPercentage":0.5,"title":"Social LP","domSelectors":[],"priceData":null,"id":"019bdc9f-1486-776e-aa19-21a22e485347","type":"product","themeId":187180843374,"affix":"sl-61B5340B","isControl":false,"redirectPath":null}],"targetAudiences":[[(visitor, isNew, channel, country) => visitor.referrer.includes("facebook.com")],[(visitor, isNew, channel, country) => channel === "paid-social"],[(visitor, isNew, channel, country) => channel === "paid-search"],[(visitor, isNew, channel, country) => visitor.referrer.includes("tiktok.com")],[(visitor, isNew, channel, country) => channel === "paid-shopping"],[(visitor, isNew, channel, country) => visitor.referrer.includes("pinterest.com")],[(visitor, isNew, channel, country) => visitor.referrer.includes("youtube.com")],[(visitor, isNew, channel, country) => visitor.referrer.includes("instagram.com")]],"title":"Cloud One PDP | Social LP"},{"id":"019bdca0-4f42-7539-9157-942f634c9d1b","startAt":"2026-01-20T18:17:32.225333Z","requiresCountry":false,"bayesianRevision":5,"device":"mobile","status":"active","visitorOption":"new","ignoreTestViewParameterEnforcement":false,"statusHistory":[{"status":"active","createdAt":"2026-01-20T18:17:32.232784Z"}],"hypotheses":[{"visitorCount":98,"trafficPercentage":0.5,"title":"Original","domSelectors":[],"priceData":null,"id":"019bdc9f-ce29-719a-9d73-b585ec9b248c","type":"product","themeId":187180843374,"affix":"the-one-mattress","isControl":true,"redirectPath":null},{"visitorCount":99,"trafficPercentage":0.5,"title":"Social LP","domSelectors":[],"priceData":null,"id":"019bdc9f-ce2b-717a-ab72-42c169b1f2bb","type":"product","themeId":187180843374,"affix":"sl-32D6EC3E","isControl":false,"redirectPath":null}],"targetAudiences":[[(visitor, isNew, channel, country) => channel === "paid-social"],[(visitor, isNew, channel, country) => visitor.referrer.includes("facebook.com")],[(visitor, isNew, channel, country) => visitor.referrer.includes("instagram.com")],[(visitor, isNew, channel, country) => visitor.referrer.includes("youtube.com")],[(visitor, isNew, channel, country) => visitor.referrer.includes("pinterest.com")],[(visitor, isNew, channel, country) => channel === "paid-shopping"],[(visitor, isNew, channel, country) => visitor.referrer.includes("tiktok.com")],[(visitor, isNew, channel, country) => channel === "paid-search"]],"title":"The One PDP | Social LP"},{"id":"019c2e5a-002e-7268-85c8-e02fd80ea9c1","startAt":"2026-02-05T15:09:36.173934Z","requiresCountry":false,"bayesianRevision":5,"device":"all","status":"active","visitorOption":"all","ignoreTestViewParameterEnforcement":false,"statusHistory":[{"status":"active","createdAt":"2026-02-05T15:09:36.181516Z"}],"hypotheses":[{"visitorCount":2183,"trafficPercentage":0.5,"title":"Original","domSelectors":[],"priceData":null,"id":"019c2b27-4445-730c-b50b-531eb48d2e67","type":"index","themeId":187180843374,"affix":"","isControl":true,"redirectPath":null},{"visitorCount":2159,"trafficPercentage":0.5,"title":"Brand Moment ALT CTA","domSelectors":[],"priceData":null,"id":"019c2b27-8ac5-7445-a1ea-9700be6674ad","type":"index","themeId":187180843374,"affix":"sl-EB36DC9F","isControl":false,"redirectPath":null}],"targetAudiences":[],"title":"HP | Brand Moment CTA"},{"id":"3fe07b0e-6db8-4c26-89f1-e6d62ae0ed58","startAt":"2025-05-30T14:41:38.037987Z","requiresCountry":false,"bayesianRevision":3,"device":"all","status":"active","visitorOption":"all","ignoreTestViewParameterEnforcement":false,"statusHistory":[{"status":"active","createdAt":"2025-05-30T14:41:38.039426Z"}],"hypotheses":[{"visitorCount":0,"trafficPercentage":0.0,"title":"Original","domSelectors":[],"priceData":null,"id":"2a7a24b2-ea90-4952-bb2e-d95b57ec6503","type":"product","themeId":187180843374,"affix":"dream-max-mattress","isControl":true,"redirectPath":null},{"visitorCount":8,"trafficPercentage":1.0,"title":"Collection PDP","domSelectors":[],"priceData":null,"id":"e28b6b6a-99f2-4cae-b842-4f8fb47b32f3","type":"product","themeId":187180843374,"affix":"sl-F59E96DB","isControl":false,"redirectPath":null}],"targetAudiences":[[(visitor, isNew, channel, country) => window.location.href.includes("collection=true")]],"title":"Dream Max Collection PDP"},{"id":"4b6292d8-a9f9-40f1-930e-7b7564d5b4c7","startAt":"2025-05-30T19:33:29.799948Z","requiresCountry":false,"bayesianRevision":3,"device":"all","status":"active","visitorOption":"all","ignoreTestViewParameterEnforcement":false,"statusHistory":[{"status":"active","createdAt":"2025-05-30T19:33:29.800758Z"}],"hypotheses":[{"visitorCount":0,"trafficPercentage":0.0,"title":"Original","domSelectors":[],"priceData":null,"id":"a7b6b307-12b0-4c32-989d-718565252fd7","type":"product","themeId":187180843374,"affix":"snow-max-mattress","isControl":true,"redirectPath":null},{"visitorCount":19,"trafficPercentage":1.0,"title":"Collection PDP","domSelectors":[],"priceData":null,"id":"ad4b7130-97b0-4167-9ab8-a72fbafc0694","type":"product","themeId":187180843374,"affix":"sl-CA1FA23A","isControl":false,"redirectPath":null}],"targetAudiences":[[(visitor, isNew, channel, country) => window.location.href.includes("collection=true")]],"title":"Snow Max Collection PDP"},{"id":"6aeac452-69f1-49c6-afcf-5a7566d299e3","startAt":"2025-05-30T19:38:45.618275Z","requiresCountry":false,"bayesianRevision":3,"device":"all","status":"active","visitorOption":"all","ignoreTestViewParameterEnforcement":false,"statusHistory":[{"status":"active","createdAt":"2025-05-30T19:38:45.621371Z"},{"status":"paused","createdAt":"2025-05-30T19:50:57.490722Z"},{"status":"active","createdAt":"2025-05-30T19:51:10.605861Z"}],"hypotheses":[{"visitorCount":0,"trafficPercentage":0.0,"title":"Original","domSelectors":[],"priceData":null,"id":"d57c9f54-c2ed-4e41-bb8d-b98ac8d3c8b0","type":"product","themeId":187180843374,"affix":"snow-mattress","isControl":true,"redirectPath":null},{"visitorCount":815,"trafficPercentage":1.0,"title":"Collection PDP","domSelectors":[],"priceData":null,"id":"8e26621d-0412-49b7-9473-de01ea0c2b40","type":"product","themeId":187180843374,"affix":"sl-AD601147","isControl":false,"redirectPath":null}],"targetAudiences":[[(visitor, isNew, channel, country) => window.location.href.includes("collection=true")]],"title":"Snow Collection PDP"},{"id":"b7ee9fb2-99a5-4c9b-8e02-ab6cb15cc63b","startAt":"2025-05-30T14:41:59.607852Z","requiresCountry":false,"bayesianRevision":3,"device":"all","status":"active","visitorOption":"all","ignoreTestViewParameterEnforcement":false,"statusHistory":[{"status":"active","createdAt":"2025-05-30T14:41:59.611602Z"}],"hypotheses":[{"visitorCount":0,"trafficPercentage":0.0,"title":"Original","domSelectors":[],"priceData":null,"id":"ffc820d3-d0f1-4830-8dbe-b2a43a6f7bfd","type":"product","themeId":187180843374,"affix":"dream-mattress","isControl":true,"redirectPath":null},{"visitorCount":3748,"trafficPercentage":1.0,"title":"Dream Collection Toggle","domSelectors":[],"priceData":null,"id":"571fee98-fba0-4c59-9836-482b1a0615e2","type":"product","themeId":187180843374,"affix":"sl-1F403781","isControl":false,"redirectPath":null}],"targetAudiences":[[(visitor, isNew, channel, country) => window.location.href.includes("collection=true")]],"title":"Dream Collection Toggle"}],[]),await window.shopliftInstance.init())})()})(); })("/", { suffix: "", type: "404" }, "main", 187180843374, false)</script>
<!-- End of Shoplift scripts -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, height=device-height">
    <meta name="theme-color" content="#ffffff">
    
    
    
    
    

    <title>
      
        404 Not Found
      
    </title>

    

    <link rel="canonical" href="https://casper.com/404"><link rel="shortcut icon" href="//casper.com/cdn/shop/files/2019-favicon-Casper-logomark.png?v=1725996262&width=96">
      <link rel="apple-touch-icon" href="//casper.com/cdn/shop/files/2019-favicon-Casper-logomark.png?v=1725996262&width=180"><link href="https://cdn.shopify.com/s/files/1/0608/2268/3729/files/CalibreWeb-Regular.woff2?v=1738856457" as="font" type="font/woff2" crossorigin="anonymous" rel="preload">
    <link href="https://cdn.shopify.com/s/files/1/0608/2268/3729/files/CalibreWeb-Medium.woff2?v=1738856457" as="font" type="font/woff2" crossorigin="anonymous" rel="preload">
<link rel="preconnect" href="https://casper.fides-cdn.ethyca.com">
    <link rel="preconnect" href="https://cdn.instant.so">
    <link rel="preconnect" href="https://staticw2.yotpo.com">
    <link rel="dns-prefetch" href="https://casper.fides-cdn.ethyca.com">
    <link rel="preconnect" href="https://assets.journeyfinder.ai">
    <link rel="dns-prefetch" href="https://assets.journeyfinder.ai"><meta property="og:type" content="website">
  <meta property="og:title" content="404 Not Found"><meta property="og:image" content="http://casper.com/cdn/shop/files/Casper-Social-Logo.jpg?v=1734034029&width=2048">
  <meta property="og:image:secure_url" content="https://casper.com/cdn/shop/files/Casper-Social-Logo.jpg?v=1734034029&width=2048">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="628"><meta property="og:url" content="https://casper.com/404">
<meta property="og:site_name" content="Casper Sleep"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="404 Not Found">
  <meta name="twitter:description" content="404 Not Found"><meta name="twitter:image" content="https://casper.com/cdn/shop/files/Casper-Social-Logo.jpg?crop=center&height=1200&v=1734034029&width=1200">
  <meta name="twitter:image:alt" content=""><script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "name": "Home",
        "item": "https://casper.com"
      }]
  }
</script><style>

  @font-face {
    font-family: "Calibre";
    font-display: swap;
    src: url("https://cdn.shopify.com/s/files/1/0608/2268/3729/files/CalibreWeb-Light.woff2?v=1738856457") format("woff2"),
    url("https://cdn.shopify.com/s/files/1/0608/2268/3729/files/CalibreWeb-Light.woff?v=1743525082") format("woff");
    font-weight: 300;
  }
  @font-face {
    font-family: "Calibre";
    font-display: swap;
    src: url("https://cdn.shopify.com/s/files/1/0608/2268/3729/files/CalibreWeb-Regular.woff2?v=1738856457") format("woff2"),
    url("https://cdn.shopify.com/s/files/1/0608/2268/3729/files/CalibreWeb-Regular.woff?v=1743525082") format("woff");
    font-weight: 400;
  }
  @font-face {
    font-family: "Calibre";
    font-display: swap;
    src: url("https://cdn.shopify.com/s/files/1/0608/2268/3729/files/CalibreWeb-Medium.woff2?v=1738856457") format("woff2"),
    url("https://cdn.shopify.com/s/files/1/0608/2268/3729/files/CalibreWeb-Medium.woff?v=1743525082") format("woff");
    font-weight: 500;
  }
  @font-face {
    font-family: "Calibre";
    font-display: swap;
    src: url("https://cdn.shopify.com/s/files/1/0608/2268/3729/files/CalibreWeb-Medium.woff2?v=1738856457") format("woff2"),
    url("https://cdn.shopify.com/s/files/1/0608/2268/3729/files/CalibreWeb-Medium.woff?v=1743525082") format("woff");
    font-weight: 700;
  }
  @font-face {
    font-family: "Calibre";
    font-style: italic;
    font-display: swap;
    src: url("https://cdn.shopify.com/s/files/1/0608/2268/3729/files/CalibreWeb-Regular.woff2?v=1738856457") format("woff2"),
    url("https://cdn.shopify.com/s/files/1/0608/2268/3729/files/CalibreWeb-Regular.woff?v=1743525082") format("woff");
    font-weight: 400;
  }

  @font-face {
    font-family: "Calibre";
    font-style: italic;
    font-display: swap;
    src: url("https://cdn.shopify.com/s/files/1/0608/2268/3729/files/CalibreWeb-Medium.woff2?v=1738856457") format("woff2"),
    url("https://cdn.shopify.com/s/files/1/0608/2268/3729/files/CalibreWeb-Medium.woff?v=1743525082") format("woff");
    font-weight: 500;
  }

  @font-face {
    font-family: "NewKansas-Thin";
    font-display: swap;
    src: url("https://cdn.shopify.com/s/files/1/0608/2268/3729/files/NewKansas-Thin.woff2?v=1764093912") format("woff2"),
    url("https://cdn.shopify.com/s/files/1/0608/2268/3729/files/NewKansas-Thin.woff?v=1764094132") format("woff");
    font-weight: 300;
  }

  @font-face {
    font-family: "NewKansas-Regular";
    font-display: swap;
    src: url("https://cdn.shopify.com/s/files/1/0608/2268/3729/files/NewKansas-Regular.woff2?v=1764094132") format("woff2"),
    url("https://cdn.shopify.com/s/files/1/0608/2268/3729/files/NewKansas-Regular.woff?v=1764094061") format("woff");
    font-weight: 400;
  }

  @font-face {
    font-family: "NewKansas-Medium";
    font-display: swap;
    src: url("https://cdn.shopify.com/s/files/1/0608/2268/3729/files/NewKansas-Medium.woff2?v=1738856457") format("woff2"),
    url("https://cdn.shopify.com/s/files/1/0608/2268/3729/files/NewKansas-Medium.woff?v=1743525093") format("woff");
    font-weight: 500;
  }

  @font-face {
    font-family: "NewKansas-SemiBold";
    font-display: swap;
    src: url("https://cdn.shopify.com/s/files/1/0608/2268/3729/files/NewKansas-SemiBold.woff2?v=1738856576") format("woff2"),
    url("https://cdn.shopify.com/s/files/1/0608/2268/3729/files/NewKansas-SemiBold.woff?v=1743525093") format("woff");
    font-weight: 600;
  }

  :root {
    /**
     * ---------------------------------------------------------------------
     * SPACING VARIABLES
     *
     * We are using a spacing inspired from frameworks like Tailwind CSS.
     * ---------------------------------------------------------------------
     */
    --spacing-0-5: 0.125rem; /* 2px */
    --spacing-1: 0.25rem; /* 4px */
    --spacing-1-5: 0.375rem; /* 6px */
    --spacing-2: 0.5rem; /* 8px */
    --spacing-2-5: 0.625rem; /* 10px */
    --spacing-3: 0.75rem; /* 12px */
    --spacing-3-5: 0.875rem; /* 14px */
    --spacing-4: 1rem; /* 16px */
    --spacing-4-5: 1.125rem; /* 18px */
    --spacing-5: 1.25rem; /* 20px */
    --spacing-5-5: 1.375rem; /* 22px */
    --spacing-6: 1.5rem; /* 24px */
    --spacing-6-5: 1.625rem; /* 26px */
    --spacing-7: 1.75rem; /* 28px */
    --spacing-7-5: 1.875rem; /* 30px */
    --spacing-8: 2rem; /* 32px */
    --spacing-8-5: 2.125rem; /* 34px */
    --spacing-9: 2.25rem; /* 36px */
    --spacing-9-5: 2.375rem; /* 38px */
    --spacing-10: 2.5rem; /* 40px */
    --spacing-11: 2.75rem; /* 44px */
    --spacing-12: 3rem; /* 48px */
    --spacing-14: 3.5rem; /* 56px */
    --spacing-16: 4rem; /* 64px */
    --spacing-18: 4.5rem; /* 72px */
    --spacing-20: 5rem; /* 80px */
    --spacing-24: 6rem; /* 96px */
    --spacing-28: 7rem; /* 112px */
    --spacing-32: 8rem; /* 128px */
    --spacing-36: 9rem; /* 144px */
    --spacing-40: 10rem; /* 160px */
    --spacing-44: 11rem; /* 176px */
    --spacing-48: 12rem; /* 192px */
    --spacing-52: 13rem; /* 208px */
    --spacing-56: 14rem; /* 224px */
    --spacing-60: 15rem; /* 240px */
    --spacing-64: 16rem; /* 256px */
    --spacing-72: 18rem; /* 288px */
    --spacing-80: 20rem; /* 320px */
    --spacing-96: 24rem; /* 384px */

    /* Container */
    --container-max-width: 1600px;
    --container-narrow-max-width: 1350px;
    --container-gutter: var(--spacing-5);
    --section-outer-spacing-block: var(--spacing-8);
    --section-inner-max-spacing-block: var(--spacing-8);
    --section-inner-spacing-inline: var(--container-gutter);
    --section-stack-spacing-block: var(--spacing-8);

    /* Grid gutter */
    --grid-gutter: var(--spacing-5);

    /* Product list settings */
    --product-list-row-gap: var(--spacing-8);
    --product-list-column-gap: var(--grid-gutter);

    /* Form settings */
    --input-gap: var(--spacing-2);
    --input-height: 2.625rem;
    --input-padding-inline: var(--spacing-4);

    /* Other sizes */
    --sticky-area-height: calc(var(--sticky-announcement-bar-enabled, 0) * var(--announcement-bar-height, 0px) + var(--sticky-header-enabled, 0) * var(--header-height, 0px));

    /* RTL support */
    --transform-logical-flip: 1;
    --transform-origin-start: left;
    --transform-origin-end: right;

    /**
     * ---------------------------------------------------------------------
     * TYPOGRAPHY
     * ---------------------------------------------------------------------
     */

    /* Font properties */
    --heading-font-family: Calibre, sans-serif;
    --heading-font-family-kansas-m: NewKansas-Medium, sans-serif;
    --heading-font-family-kansas-sb: NewKansas-SemiBold, sans-serif;
    --heading-font-weight: 600;
    --heading-font-style: normal;
    --heading-text-transform: normal;
    --heading-letter-spacing: -0.01em;
    --text-font-family: Calibre, sans-serif;
    --text-font-weight: 400;
    --text-font-style: normal;
    --text-letter-spacing: 0.0em;

    /* Font sizes */
    --text-h0: 2.75rem;
    --text-h1: 2rem;
    --text-h2: 1.75rem;
    --text-h3: 1.375rem;
    --text-h4: 1.125rem;
    --text-h5: 1.125rem;
    --text-h6: 1rem;
    --text-xs: 0.8125rem;
    --text-sm: 0.875rem;
    --text-base: 1.0rem;
    --text-lg: 1.25rem;

    /**
     * ---------------------------------------------------------------------
     * COLORS
     * ---------------------------------------------------------------------
     */

    /* Color settings */--accent: 1 33 105;
    --text-primary: 30 48 110;
    --background-primary: 255 255 255;
    --dialog-background: 255 255 255;
    --border-color: var(--text-color, var(--text-primary)) / 0.12;

    /* Button colors */
    --button-background-primary: 1 33 105;
    --button-text-primary: 255 255 255;
    --button-background-secondary: 60 97 158;
    --button-text-secondary: 255 255 255;

    /* Status colors */
    --success-background: 238 241 235;
    --success-text: 112 138 92;
    --warning-background: 252 240 227;
    --warning-text: 227 126 22;
    --error-background: 245 229 229;
    --error-text: 170 40 38;

    /* Product colors */
    --on-sale-text: 0 112 110;
    --on-sale-badge-background: 0 112 110;
    --on-sale-badge-text: 255 255 255;
    --sold-out-badge-background: 82 82 82;
    --sold-out-badge-text: 255 255 255;
    --primary-badge-background: 0 112 111;
    --primary-badge-text: 255 255 255;
    --star-color: 255 183 74;
    --product-card-background: 255 255 255;
    --product-card-text: 21 21 21;

    /* Header colors */
    --header-background: 255 255 255;
    --header-text: 1 33 105;

    /* Footer colors */
    --footer-background: 30 48 110;
    --footer-text: 255 255 255;

    /* Rounded variables (used for border radius) */
    --rounded-xs: 0.25rem;
    --rounded-sm: 0.375rem;
    --rounded: 0.75rem;
    --rounded-lg: 1.5rem;
    --rounded-full: 9999px;

    --rounded-button: 2.0rem;
    --rounded-input: 0.5rem;

    /* Box shadow */
    --shadow-sm: 0 2px 8px rgb(var(--text-primary) / 0.1);
    --shadow: 0 5px 15px rgb(var(--text-primary) / 0.1);
    --shadow-md: 0 5px 30px rgb(var(--text-primary) / 0.1);
    --shadow-block: 0px 18px 50px rgb(var(--text-primary) / 0.1);

    /**
     * ---------------------------------------------------------------------
     * OTHER
     * ---------------------------------------------------------------------
     */

    --cursor-close-svg-url: url(//casper.com/cdn/shop/t/1412/assets/cursor-close.svg?v=147174565022153725511770308590);
    --cursor-zoom-in-svg-url: url(//casper.com/cdn/shop/t/1412/assets/cursor-zoom-in.svg?v=154953035094101115921770308591);
    --cursor-zoom-out-svg-url: url(//casper.com/cdn/shop/t/1412/assets/cursor-zoom-out.svg?v=16155520337305705181770308591);
    --checkmark-svg-url: url(//casper.com/cdn/shop/t/1412/assets/checkmark.svg?v=77552481021870063511770308601);
  }

  [dir="rtl"]:root {
    /* RTL support */
    --transform-logical-flip: -1;
    --transform-origin-start: right;
    --transform-origin-end: left;
  }

  @media screen and (min-width: 700px) {
    :root {
      /* Typography (font size) */
      --text-h0: 3.5rem;
      --text-h1: 2.5rem;
      --text-h2: 2rem;
      --text-h3: 1.625rem;
      --text-h4: 1.375rem;
      --text-h5: 1.125rem;
      --text-h6: 1rem;

      --text-xs: 0.875rem;
      --text-sm: 1.0rem;
      --text-base: 1.125rem;
      --text-lg: 1.375rem;

      /* Spacing */
      --container-gutter: 2rem;
      --section-outer-spacing-block: var(--spacing-12);
      --section-inner-max-spacing-block: var(--spacing-10);
      --section-inner-spacing-inline: var(--spacing-14);
      --section-stack-spacing-block: var(--spacing-10);

      /* Grid gutter */
      --grid-gutter: var(--spacing-6);

      /* Product list settings */
      --product-list-row-gap: var(--spacing-12);

      /* Form settings */
      --input-gap: 1rem;
      --input-height: 3.125rem;
      --input-padding-inline: var(--spacing-5);
    }
  }

  @media screen and (min-width: 1000px) {
    :root {
      /* Spacing settings */
      --container-gutter: var(--spacing-12);
      --section-outer-spacing-block: var(--spacing-14);
      --section-inner-max-spacing-block: var(--spacing-12);
      --section-inner-spacing-inline: var(--spacing-18);
      --section-stack-spacing-block: var(--spacing-10);
    }
  }

  @media screen and (min-width: 1150px) {
    :root {
      /* Spacing settings */
      --container-gutter: var(--spacing-12);
      --section-outer-spacing-block: var(--spacing-14);
      --section-inner-max-spacing-block: var(--spacing-12);
      --section-inner-spacing-inline: var(--spacing-18);
      --section-stack-spacing-block: var(--spacing-12);
    }
  }

  @media screen and (min-width: 1400px) {
    :root {
      /* Typography (font size) */
      --text-h0: 4.5rem;
      --text-h1: 3.5rem;
      --text-h2: 2.75rem;
      --text-h3: 2rem;
      --text-h4: 1.75rem;
      --text-h5: 1.375rem;
      --text-h6: 1.25rem;

      --section-outer-spacing-block: var(--spacing-16);
      --section-inner-max-spacing-block: var(--spacing-14);
      --section-inner-spacing-inline: var(--spacing-20);
    }
  }

  @media screen and (min-width: 1600px) {
    :root {
      --section-outer-spacing-block: var(--spacing-16);
      --section-inner-max-spacing-block: var(--spacing-16);
      --section-inner-spacing-inline: var(--spacing-24);
    }
  }

  /**
   * ---------------------------------------------------------------------
   * LIQUID DEPENDANT CSS
   *
   * Our main CSS is Liquid free, but some very specific features depend on
   * theme settings, so we have them here
   * ---------------------------------------------------------------------
   */@media screen and (pointer: fine) {
        .button:not([disabled]):hover, .btn:not([disabled]):hover, .shopify-payment-button__button--unbranded:not([disabled]):hover {
          --button-background-opacity: 0.85;
        }

        .button--subdued:not([disabled]):hover {
          --button-background: var(--text-color) / .05 !important;
        }
      }</style><script>
  // This allows to expose several variables to the global scope, to be used in scripts
  window.themeVariables = {
    settings: {
      reduceDrawerAnimation: false,
      reduceMenuAnimation: false,
      headingApparition: "none",
      pageType: "404",
      moneyFormat: "${{amount}}",
      moneyWithCurrencyFormat: "${{amount}} USD",
      currencyCodeEnabled: false,
      cartType: "popover",
      showDiscount: true,
      discountMode: "percentage",
      pageBackground: "#ffffff",
      textColor: "#1e306e"
    },

    strings: {
      accessibilityClose: "Close",
      accessibilityNext: "Next",
      accessibilityPrevious: "Previous",
      closeGallery: "Close gallery",
      zoomGallery: "Zoom",
      errorGallery: "Image cannot be loaded",
      searchNoResults: "No results could be found.",
      addOrderNote: "Add order note",
      editOrderNote: "Edit order note",
      shippingEstimatorNoResults: "Sorry, we do not ship to your address.",
      shippingEstimatorOneResult: "There is one shipping rate for your address:",
      shippingEstimatorMultipleResults: "There are several shipping rates for your address:",
      shippingEstimatorError: "One or more error occurred while retrieving shipping rates:"
    },

    breakpoints: {
      'sm': 'screen and (min-width: 700px)',
      'md': 'screen and (min-width: 1000px)',
      'lg': 'screen and (min-width: 1150px)',
      'xl': 'screen and (min-width: 1400px)',

      'sm-max': 'screen and (max-width: 699px)',
      'md-max': 'screen and (max-width: 999px)',
      'lg-max': 'screen and (max-width: 1149px)',
      'xl-max': 'screen and (max-width: 1399px)'
    }
  };

  // For detecting native share
  document.documentElement.classList.add(`native-share--${navigator.share ? 'enabled' : 'disabled'}`);</script><script src="https://assets.journeyfinder.ai/ab/latest/loader.js?jfaisite=casper-com" async></script>  
    <script src="https://assets.journeyfinder.ai/events/latest/event-hub.js?jfaiapp=casper" async></script>

    <script>
      function initAffirm() {
        if (typeof window.affirm === 'undefined') {
          var affirm = affirm || {};
          const _affirm_config = {
            public_api_key: "5JO7RBWNRAZ0F8C1",
            script: "https://cdn1.affirm.com/js/v2/affirm.js",
            locale: "en_US",
            country_code: "USA"
          };
          (function(l,g,m,e,a,f,b){var d,c=l[m]||{},h=document.createElement(f),n=document.getElementsByTagName(f)[0],k=function(a,b,c){return function(){a[b]._.push([c,arguments])}};c[e]=k(c,e,"set");d=c[e];c[a]={};c[a]._=[];d._=[];c[a][b]=k(c,a,b);a=0;for(b="set add save post open empty reset on off trigger ready setProduct".split(" ");a<b.length;a++)d[b[a]]=k(c,e,b[a]);a=0;for(b=["get","token","url","items"];a<b.length;a++)d[b[a]]=function(){};h.async=!0;h.src=g[f];n.parentNode.insertBefore(h,n);delete g[f];d(g);l[m]=c})(window,_affirm_config,"affirm","checkout","ui","script","ready");
        }
      }
    </script>

    <script type="importmap">{
        "imports": {
          "vendor": "//casper.com/cdn/shop/t/1412/assets/vendor.min.js?v=162910149792179071561770308589",
          "cart-drawer-recommendation": "//casper.com/cdn/shop/t/1412/assets/cart-drawer-recommendation.js?v=140800357273323748221770308590",
          "theme": "//casper.com/cdn/shop/t/1412/assets/theme.js?v=13249390223473531461770308590",
          "photoswipe": "//casper.com/cdn/shop/t/1412/assets/photoswipe.min.js?v=13374349288281597431770308590"
        }
      }
    </script>

    <script type="module" src="//casper.com/cdn/shop/t/1412/assets/vendor.min.js?v=162910149792179071561770308589"></script>
    <script type="module" src="//casper.com/cdn/shop/t/1412/assets/theme.js?v=13249390223473531461770308590"></script>
    
    <script>window.performance && window.performance.mark && window.performance.mark('shopify.content_for_header.start');</script><meta id="shopify-digital-wallet" name="shopify-digital-wallet" content="/60822683729/digital_wallets/dialog">
<meta name="shopify-checkout-api-token" content="99a2696f44d6626cd5a1c0644dc4705f">
<meta id="in-context-paypal-metadata" data-shop-id="60822683729" data-venmo-supported="true" data-environment="production" data-locale="en_US" data-paypal-v4="true" data-currency="USD">
<script async="async" src="/checkouts/internal/preloads.js?locale=en-US"></script>
<link rel="preconnect" href="https://shop.app" crossorigin="anonymous">
<script async="async" src="https://shop.app/checkouts/internal/preloads.js?locale=en-US&shop_id=60822683729" crossorigin="anonymous"></script>
<script id="apple-pay-shop-capabilities" type="application/json">{"shopId":60822683729,"countryCode":"US","currencyCode":"USD","merchantCapabilities":["supports3DS"],"merchantId":"gid:\/\/shopify\/Shop\/60822683729","merchantName":"Casper Sleep","requiredBillingContactFields":["postalAddress","email","phone"],"requiredShippingContactFields":["postalAddress","email","phone"],"shippingType":"shipping","supportedNetworks":["visa","masterCard","amex","discover","elo","jcb"],"total":{"type":"pending","label":"Casper Sleep","amount":"1.00"},"shopifyPaymentsEnabled":true,"supportsSubscriptions":true}</script>
<script id="shopify-features" type="application/json">{"accessToken":"99a2696f44d6626cd5a1c0644dc4705f","betas":["rich-media-storefront-analytics"],"domain":"casper.com","predictiveSearch":true,"shopId":60822683729,"locale":"en"}</script>
<script>var Shopify = Shopify || {};
Shopify.shop = "e75063-e5.myshopify.com";
Shopify.locale = "en";
Shopify.currency = {"active":"USD","rate":"1.0"};
Shopify.country = "US";
Shopify.theme = {"name":"Release-26-5-020526-720","id":187180843374,"schema_name":"Impact","schema_version":"6.0.1","theme_store_id":null,"role":"main"};
Shopify.theme.handle = "null";
Shopify.theme.style = {"id":null,"handle":null};
Shopify.cdnHost = "casper.com/cdn";
Shopify.routes = Shopify.routes || {};
Shopify.routes.root = "/";</script>
<script type="module">!function(o){(o.Shopify=o.Shopify||{}).modules=!0}(window);</script>
<script>!function(o){function n(){var o=[];function n(){o.push(Array.prototype.slice.apply(arguments))}return n.q=o,n}var t=o.Shopify=o.Shopify||{};t.loadFeatures=n(),t.autoloadFeatures=n()}(window);</script>
<script>
  window.ShopifyPay = window.ShopifyPay || {};
  window.ShopifyPay.apiHost = "shop.app\/pay";
  window.ShopifyPay.redirectState = null;
</script>
<script id="shop-js-analytics" type="application/json">{"pageType":"404"}</script>
<script defer="defer" async type="module" src="//casper.com/cdn/shopifycloud/shop-js/modules/v2/client.init-shop-cart-sync_DuC_-mRw.en.esm.js"></script>
<script defer="defer" async type="module" src="//casper.com/cdn/shopifycloud/shop-js/modules/v2/chunk.common_DBK3iwbr.esm.js"></script>
<script defer="defer" async type="module" src="//casper.com/cdn/shopifycloud/shop-js/modules/v2/chunk.modal_CCbXmoEs.esm.js"></script>
<script type="module">
  await import("//casper.com/cdn/shopifycloud/shop-js/modules/v2/client.init-shop-cart-sync_DuC_-mRw.en.esm.js");
await import("//casper.com/cdn/shopifycloud/shop-js/modules/v2/chunk.common_DBK3iwbr.esm.js");
await import("//casper.com/cdn/shopifycloud/shop-js/modules/v2/chunk.modal_CCbXmoEs.esm.js");

  window.Shopify.SignInWithShop?.initShopCartSync?.({"fedCMEnabled":true,"windoidEnabled":true});

</script>
<script>
  window.Shopify = window.Shopify || {};
  if (!window.Shopify.featureAssets) window.Shopify.featureAssets = {};
  window.Shopify.featureAssets['shop-js'] = {"init-fed-cm":["modules/v2/client.init-fed-cm_jVZQZ3ye.en.esm.js","modules/v2/chunk.common_DBK3iwbr.esm.js","modules/v2/chunk.modal_CCbXmoEs.esm.js"],"shop-cart-sync":["modules/v2/client.shop-cart-sync_D4mCha6g.en.esm.js","modules/v2/chunk.common_DBK3iwbr.esm.js","modules/v2/chunk.modal_CCbXmoEs.esm.js"],"shop-cash-offers":["modules/v2/client.shop-cash-offers_DexYqPix.en.esm.js","modules/v2/chunk.common_DBK3iwbr.esm.js","modules/v2/chunk.modal_CCbXmoEs.esm.js"],"init-windoid":["modules/v2/client.init-windoid_BTZS7V-R.en.esm.js","modules/v2/chunk.common_DBK3iwbr.esm.js","modules/v2/chunk.modal_CCbXmoEs.esm.js"],"shop-toast-manager":["modules/v2/client.shop-toast-manager_CmnPzgsy.en.esm.js","modules/v2/chunk.common_DBK3iwbr.esm.js","modules/v2/chunk.modal_CCbXmoEs.esm.js"],"shop-login-button":["modules/v2/client.shop-login-button_WD5qbtpC.en.esm.js","modules/v2/chunk.common_DBK3iwbr.esm.js","modules/v2/chunk.modal_CCbXmoEs.esm.js"],"shop-button":["modules/v2/client.shop-button_bcBff9oW.en.esm.js","modules/v2/chunk.common_DBK3iwbr.esm.js","modules/v2/chunk.modal_CCbXmoEs.esm.js"],"checkout-modal":["modules/v2/client.checkout-modal_vl7uBdnc.en.esm.js","modules/v2/chunk.common_DBK3iwbr.esm.js","modules/v2/chunk.modal_CCbXmoEs.esm.js"],"avatar":["modules/v2/client.avatar_BTnouDA3.en.esm.js"],"pay-button":["modules/v2/client.pay-button_B8fJpalZ.en.esm.js","modules/v2/chunk.common_DBK3iwbr.esm.js","modules/v2/chunk.modal_CCbXmoEs.esm.js"],"init-shop-cart-sync":["modules/v2/client.init-shop-cart-sync_DuC_-mRw.en.esm.js","modules/v2/chunk.common_DBK3iwbr.esm.js","modules/v2/chunk.modal_CCbXmoEs.esm.js"],"init-customer-accounts":["modules/v2/client.init-customer-accounts_D0HKOJ9D.en.esm.js","modules/v2/client.shop-login-button_WD5qbtpC.en.esm.js","modules/v2/chunk.common_DBK3iwbr.esm.js","modules/v2/chunk.modal_CCbXmoEs.esm.js"],"shop-follow-button":["modules/v2/client.shop-follow-button_CmVq8Suo.en.esm.js","modules/v2/chunk.common_DBK3iwbr.esm.js","modules/v2/chunk.modal_CCbXmoEs.esm.js"],"init-shop-email-lookup-coordinator":["modules/v2/client.init-shop-email-lookup-coordinator_D7l9b6wu.en.esm.js","modules/v2/chunk.common_DBK3iwbr.esm.js","modules/v2/chunk.modal_CCbXmoEs.esm.js"],"init-customer-accounts-sign-up":["modules/v2/client.init-customer-accounts-sign-up_B-vnoTO1.en.esm.js","modules/v2/client.shop-login-button_WD5qbtpC.en.esm.js","modules/v2/chunk.common_DBK3iwbr.esm.js","modules/v2/chunk.modal_CCbXmoEs.esm.js"],"shop-login":["modules/v2/client.shop-login_BjutCQzO.en.esm.js","modules/v2/chunk.common_DBK3iwbr.esm.js","modules/v2/chunk.modal_CCbXmoEs.esm.js"],"init-shop-for-new-customer-accounts":["modules/v2/client.init-shop-for-new-customer-accounts_DOATPJFR.en.esm.js","modules/v2/client.shop-login-button_WD5qbtpC.en.esm.js","modules/v2/chunk.common_DBK3iwbr.esm.js","modules/v2/chunk.modal_CCbXmoEs.esm.js"],"lead-capture":["modules/v2/client.lead-capture_CZ7K6p2w.en.esm.js","modules/v2/chunk.common_DBK3iwbr.esm.js","modules/v2/chunk.modal_CCbXmoEs.esm.js"],"payment-terms":["modules/v2/client.payment-terms_BkTjSJtl.en.esm.js","modules/v2/chunk.common_DBK3iwbr.esm.js","modules/v2/chunk.modal_CCbXmoEs.esm.js"]};
</script>
<script>(function() {
  var isLoaded = false;
  function asyncLoad() {
    if (isLoaded) return;
    isLoaded = true;
    var urls = ["https:\/\/cdn.shopify.com\/s\/files\/1\/0608\/2268\/3729\/t\/13\/assets\/affirmShopify.js?v=1729900446\u0026shop=e75063-e5.myshopify.com","\/\/staticw2.yotpo.com\/yi3sENnUfaS6O2jkI822aKlptIpeVtM2fGEIKIZ0\/widget.js?shop=e75063-e5.myshopify.com","https:\/\/cdn.attn.tv\/casper\/dtag.js?shop=e75063-e5.myshopify.com","\/\/cdn.shopify.com\/proxy\/880ab6a2909c7395ab07fc19e1c91f9774aa05d53715bc5ef7b10aa9e71571d3\/api.kount.com\/shopify\/js?m_id=171369\u0026shop=e75063-e5.myshopify.com\u0026sp-cache-control=cHVibGljLCBtYXgtYWdlPTkwMA"];
    for (var i = 0; i < urls.length; i++) {
      var s = document.createElement('script');
      s.type = 'text/javascript';
      s.async = true;
      s.src = urls[i];
      var x = document.getElementsByTagName('script')[0];
      x.parentNode.insertBefore(s, x);
    }
  };
  if(window.attachEvent) {
    window.attachEvent('onload', asyncLoad);
  } else {
    window.addEventListener('load', asyncLoad, false);
  }
})();</script>
<script id="__st">var __st={"a":60822683729,"offset":-18000,"reqid":"d0607ad8-dc99-4c49-a4a3-34f56988e385-1770406256","pageurl":"casper.com\/404","u":"eca7947df2a3"};</script>
<script>window.ShopifyPaypalV4VisibilityTracking = true;</script>
<script id="captcha-bootstrap">!function(){'use strict';const t='contact',e='account',n='new_comment',o=[[t,t],['blogs',n],['comments',n],[t,'customer']],c=[[e,'customer_login'],[e,'guest_login'],[e,'recover_customer_password'],[e,'create_customer']],r=t=>t.map((([t,e])=>`form[action*='/${t}']:not([data-nocaptcha='true']) input[name='form_type'][value='${e}']`)).join(','),a=t=>()=>t?[...document.querySelectorAll(t)].map((t=>t.form)):[];function s(){const t=[...o],e=r(t);return a(e)}const i='password',u='form_key',d=['recaptcha-v3-token','g-recaptcha-response','h-captcha-response',i],f=()=>{try{return window.sessionStorage}catch{return}},m='__shopify_v',_=t=>t.elements[u];function p(t,e,n=!1){try{const o=window.sessionStorage,c=JSON.parse(o.getItem(e)),{data:r}=function(t){const{data:e,action:n}=t;return t[m]||n?{data:e,action:n}:{data:t,action:n}}(c);for(const[e,n]of Object.entries(r))t.elements[e]&&(t.elements[e].value=n);n&&o.removeItem(e)}catch(o){console.error('form repopulation failed',{error:o})}}const l='form_type',E='cptcha';function T(t){t.dataset[E]=!0}const w=window,h=w.document,L='Shopify',v='ce_forms',y='captcha';let A=!1;((t,e)=>{const n=(g='f06e6c50-85a8-45c8-87d0-21a2b65856fe',I='https://cdn.shopify.com/shopifycloud/storefront-forms-hcaptcha/ce_storefront_forms_captcha_hcaptcha.v1.5.2.iife.js',D={infoText:'Protected by hCaptcha',privacyText:'Privacy',termsText:'Terms'},(t,e,n)=>{const o=w[L][v],c=o.bindForm;if(c)return c(t,g,e,D).then(n);var r;o.q.push([[t,g,e,D],n]),r=I,A||(h.body.append(Object.assign(h.createElement('script'),{id:'captcha-provider',async:!0,src:r})),A=!0)});var g,I,D;w[L]=w[L]||{},w[L][v]=w[L][v]||{},w[L][v].q=[],w[L][y]=w[L][y]||{},w[L][y].protect=function(t,e){n(t,void 0,e),T(t)},Object.freeze(w[L][y]),function(t,e,n,w,h,L){const[v,y,A,g]=function(t,e,n){const i=e?o:[],u=t?c:[],d=[...i,...u],f=r(d),m=r(i),_=r(d.filter((([t,e])=>n.includes(e))));return[a(f),a(m),a(_),s()]}(w,h,L),I=t=>{const e=t.target;return e instanceof HTMLFormElement?e:e&&e.form},D=t=>v().includes(t);t.addEventListener('submit',(t=>{const e=I(t);if(!e)return;const n=D(e)&&!e.dataset.hcaptchaBound&&!e.dataset.recaptchaBound,o=_(e),c=g().includes(e)&&(!o||!o.value);(n||c)&&t.preventDefault(),c&&!n&&(function(t){try{if(!f())return;!function(t){const e=f();if(!e)return;const n=_(t);if(!n)return;const o=n.value;o&&e.removeItem(o)}(t);const e=Array.from(Array(32),(()=>Math.random().toString(36)[2])).join('');!function(t,e){_(t)||t.append(Object.assign(document.createElement('input'),{type:'hidden',name:u})),t.elements[u].value=e}(t,e),function(t,e){const n=f();if(!n)return;const o=[...t.querySelectorAll(`input[type='${i}']`)].map((({name:t})=>t)),c=[...d,...o],r={};for(const[a,s]of new FormData(t).entries())c.includes(a)||(r[a]=s);n.setItem(e,JSON.stringify({[m]:1,action:t.action,data:r}))}(t,e)}catch(e){console.error('failed to persist form',e)}}(e),e.submit())}));const S=(t,e)=>{t&&!t.dataset[E]&&(n(t,e.some((e=>e===t))),T(t))};for(const o of['focusin','change'])t.addEventListener(o,(t=>{const e=I(t);D(e)&&S(e,y())}));const B=e.get('form_key'),M=e.get(l),P=B&&M;t.addEventListener('DOMContentLoaded',(()=>{const t=y();if(P)for(const e of t)e.elements[l].value===M&&p(e,B);[...new Set([...A(),...v().filter((t=>'true'===t.dataset.shopifyCaptcha))])].forEach((e=>S(e,t)))}))}(h,new URLSearchParams(w.location.search),n,t,e,['guest_login'])})(!0,!0)}();</script>
<script integrity="sha256-4kQ18oKyAcykRKYeNunJcIwy7WH5gtpwJnB7kiuLZ1E=" data-source-attribution="shopify.loadfeatures" defer="defer" src="//casper.com/cdn/shopifycloud/storefront/assets/storefront/load_feature-a0a9edcb.js" crossorigin="anonymous"></script>
<script crossorigin="anonymous" defer="defer" src="//casper.com/cdn/shopifycloud/storefront/assets/shopify_pay/storefront-65b4c6d7.js?v=20250812"></script>
<script data-source-attribution="shopify.dynamic_checkout.dynamic.init">var Shopify=Shopify||{};Shopify.PaymentButton=Shopify.PaymentButton||{isStorefrontPortableWallets:!0,init:function(){window.Shopify.PaymentButton.init=function(){};var t=document.createElement("script");t.src="https://casper.com/cdn/shopifycloud/portable-wallets/latest/portable-wallets.en.js",t.type="module",document.head.appendChild(t)}};
</script>
<script data-source-attribution="shopify.dynamic_checkout.buyer_consent">
  function portableWalletsHideBuyerConsent(e){var t=document.getElementById("shopify-buyer-consent"),n=document.getElementById("shopify-subscription-policy-button");t&&n&&(t.classList.add("hidden"),t.setAttribute("aria-hidden","true"),n.removeEventListener("click",e))}function portableWalletsShowBuyerConsent(e){var t=document.getElementById("shopify-buyer-consent"),n=document.getElementById("shopify-subscription-policy-button");t&&n&&(t.classList.remove("hidden"),t.removeAttribute("aria-hidden"),n.addEventListener("click",e))}window.Shopify?.PaymentButton&&(window.Shopify.PaymentButton.hideBuyerConsent=portableWalletsHideBuyerConsent,window.Shopify.PaymentButton.showBuyerConsent=portableWalletsShowBuyerConsent);
</script>
<script data-source-attribution="shopify.dynamic_checkout.cart.bootstrap">document.addEventListener("DOMContentLoaded",(function(){function t(){return document.querySelector("shopify-accelerated-checkout-cart, shopify-accelerated-checkout")}if(t())Shopify.PaymentButton.init();else{new MutationObserver((function(e,n){t()&&(Shopify.PaymentButton.init(),n.disconnect())})).observe(document.body,{childList:!0,subtree:!0})}}));
</script>
<link id="shopify-accelerated-checkout-styles" rel="stylesheet" media="screen" href="https://casper.com/cdn/shopifycloud/portable-wallets/latest/accelerated-checkout-backwards-compat.css" crossorigin="anonymous">
<style id="shopify-accelerated-checkout-cart">
        #shopify-buyer-consent {
  margin-top: 1em;
  display: inline-block;
  width: 100%;
}

#shopify-buyer-consent.hidden {
  display: none;
}

#shopify-subscription-policy-button {
  background: none;
  border: none;
  padding: 0;
  text-decoration: underline;
  font-size: inherit;
  cursor: pointer;
}

#shopify-subscription-policy-button::before {
  box-shadow: none;
}

      </style>

<script>window.performance && window.performance.mark && window.performance.mark('shopify.content_for_header.end');</script>
<link href="//casper.com/cdn/shop/t/1412/assets/theme.css?v=18324867812623853371770308590" rel="stylesheet" type="text/css" media="all" />

  <!-- BEGIN app block: shopify://apps/gift-card-hero-all-in-one/blocks/app-embed/57babc6a-ae2b-46cf-b565-dd8395b0276b --><!-- BEGIN app snippet: gift-hero-snippet -->

<script async>
  (function() {
    window.ScCommon = {
      shop: {
        moneyFormat: window?.GiftCardHeroCustom?.moneyFormat || '${{amount}}',
        customer: null,
      },
    };
    
      window.GiftCardHero = {
        common: {
          translations: {
            preview: 'Preview',
            mycards: 'My Gift Cards',
            account: 'Account',
            details: 'Details',
            noRegisteredCards: 'No registered gift cards',
            checkBalance: 'Check the balance',
            customAmount: 'Custom',
            giftCard: 'Gift card',
            expiresOn: 'Expires on {{ expiry }}',
          },
        },
        shop: {
          items: [],
          currency: 'USD',
          mainCurrency: 'USD',
        },
        balance: {
          design: {"checkerBtnBg":"#8533fc","checkerBtnColor":"#ffffff","checkerModalBorderRadius":10,"checkerButtonBorderRadius":36,"checkerModalBg":"#ffffff","bubbleBg":"#ffce33","bubbleColor":"#0D0D2A","bubbleBorderRadius":5,"textColor":"#1E306E","inputBg":"#ffffff","inputBorderRadius":5,"inputBorderColor":"#acacac","inputColor":"#1E306E","submitBg":"#1E306E","submitBorder":"#000000","submitBorderRadius":20,"submitColor":"#ffffff","findBtnBg":"#4e63df","findBtnBorder":"#4e63df","findBtnColor":"#ffffff","fintBtnRadius":6,"progressBg":"#d5dae3","progressRadius":10,"applyBg":"#D4D8EF","applyColor":"#242445","applyRadius":6},
          translations: {
            'en': {"checkerBtnText":"GIFT CARD BALANCE CHECK","inputLabel":"Check your Gift Card","submitLabel":"Check Balance ","placeholder":"Your Code","more":"Find products at a similar price","cartSubotal":"Cart subtotal: ","usedBalance":"Applied balance:","unusedBalance":"Unapplied balance:","cardBalance":"Gift card balance","apply":"Apply balance to a cart","notFound":"Gift card not found"} || {"checkerBtnText":"GIFT CARD BALANCE CHECK","inputLabel":"Check your Gift Card","submitLabel":"Check Balance ","placeholder":"Your Code","more":"Find products at a similar price","cartSubotal":"Cart subtotal: ","usedBalance":"Applied balance:","unusedBalance":"Unapplied balance:","cardBalance":"Gift card balance","apply":"Apply balance to a cart","notFound":"Gift card not found"},
          },
        },
        settings: {"balance":{"enabled":false,"recommendProducts":true,"showProgressCart":true,"showBubble":true,"showProgressTime":"4","allowApply":true,"showProgress":true,"allowMultiple":true,"showWidget":"5","title":"Gift card balance check","beforeText":"\u003cp\u003eNot sure how much let on your gift card? Enter you gift card number in the input field below in order to check your gift card balance.\u003c\/p\u003e","afterText":"\u003ch3\u003e\u003cstrong\u003eAdditional information\u003c\/strong\u003e\u003c\/h3\u003e\u003cul\u003e\u003cli\u003eYou may apply your gift card at a checkout page.\u003c\/li\u003e\u003cli\u003eYou may use your gift card multiple times if your gift card has a remaining balance.\u003c\/li\u003e\u003cli\u003eYou may apply multiple gift cards at a checkout page.\u003c\/li\u003e\u003cli\u003eYou can't use a gift card to buy another gift card.\u003c\/li\u003e\u003c\/ul\u003e\u003cp\u003e\u003cbr\u003e\u003c\/p\u003e","version":"v2"}},
        isGiftProduct: false,
        productId: null,
        img: '',
        options: null,
        hideMyGiftcards: false,
        giftcards: false,
      };
    
    
  })();
</script>


<!-- END app snippet -->






  
  <script
    src="https://cdn.shopify.com/extensions/019c2ce2-a36b-7c84-a814-6bce21ec1583/giftcard-hero-447/assets/storefront.min.js"
    defer
    data-cmp-ignore
    data-cmp-ab="2"
    data-cookieconsent="ignore"></script>
  





<!-- END app block --><!-- BEGIN app block: shopify://apps/elevar-conversion-tracking/blocks/dataLayerEmbed/bc30ab68-b15c-4311-811f-8ef485877ad6 -->



<script type="module" dynamic>
  const configUrl = "/a/elevar/static/configs/f0237e6a58e5242354800b9bc97f6a7b21bd1704/config.js";
  const config = (await import(configUrl)).default;
  const scriptUrl = config.script_src_app_theme_embed;

  if (scriptUrl) {
    const { handler } = await import(scriptUrl);

    await handler(
      config,
      {
        cartData: {
  marketId: "17942282321",
  attributes:{},
  cartTotal: "0.0",
  currencyCode:"USD",
  items: []
}
,
        user: {cartTotal: "0.0",
    currencyCode:"USD",customer: {},
}
,
        isOnCartPage:false,
        collectionView:null,
        searchResultsView:null,
        productView:null,
        checkoutComplete: null
      }
    );
  }
</script>


<!-- END app block --><!-- BEGIN app block: shopify://apps/instant-section-page-builder/blocks/instant_core/927e19d9-4e68-41db-99c7-d8debdc1f80d -->
<script>
window.Instant = {
  initialized: true,
  initializedAppEmbed: true,
  initializedVersion: 'latest',
  swiperScriptUrl: 'https://cdn.shopify.com/extensions/019c24fe-997f-7a57-8c13-5a1c546f913e/instant-shopify-68/assets/swiper-bundle.min.js'
};
</script>

<!-- END app block --><!-- BEGIN app block: shopify://apps/yotpo-product-reviews/blocks/settings/eb7dfd7d-db44-4334-bc49-c893b51b36cf -->


  <script type="text/javascript" src="https://cdn-widgetsrepository.yotpo.com/v1/loader/yi3sENnUfaS6O2jkI822aKlptIpeVtM2fGEIKIZ0?languageCode=en" async></script>



  
<!-- END app block --><!-- BEGIN app block: shopify://apps/attentive/blocks/attn-tag/8df62c72-8fe4-407e-a5b3-72132be30a0d --><script type="text/javascript" src="https://bzudd.casper.com/providers/atLabel/load" onerror=" var fallbackScript = document.createElement('script'); fallbackScript.src = 'https://cdn.attn.tv/casper/dtag.js'; document.head.appendChild(fallbackScript);" data-source="loaded?source=app-embed" defer="defer"></script>


<!-- END app block --><script src="https://cdn.shopify.com/extensions/019c24fe-997f-7a57-8c13-5a1c546f913e/instant-shopify-68/assets/instant-core.min.js" type="text/javascript" defer="defer"></script>
<link href="https://monorail-edge.shopifysvc.com" rel="dns-prefetch">
<script>(function(){if ("sendBeacon" in navigator && "performance" in window) {try {var session_token_from_headers = performance.getEntriesByType('navigation')[0].serverTiming.find(x => x.name == '_s').description;} catch {var session_token_from_headers = undefined;}var session_cookie_matches = document.cookie.match(/_shopify_s=([^;]*)/);var session_token_from_cookie = session_cookie_matches && session_cookie_matches.length === 2 ? session_cookie_matches[1] : "";var session_token = session_token_from_headers || session_token_from_cookie || "";function handle_abandonment_event(e) {var entries = performance.getEntries().filter(function(entry) {return /monorail-edge.shopifysvc.com/.test(entry.name);});if (!window.abandonment_tracked && entries.length === 0) {window.abandonment_tracked = true;var currentMs = Date.now();var navigation_start = performance.timing.navigationStart;var payload = {shop_id: 60822683729,url: window.location.href,navigation_start,duration: currentMs - navigation_start,session_token,page_type: "404"};window.navigator.sendBeacon("https://monorail-edge.shopifysvc.com/v1/produce", JSON.stringify({schema_id: "online_store_buyer_site_abandonment/1.1",payload: payload,metadata: {event_created_at_ms: currentMs,event_sent_at_ms: currentMs}}));}}window.addEventListener('pagehide', handle_abandonment_event);}}());</script>
<script id="web-pixels-manager-setup">(function e(e,d,r,n,o){if(void 0===o&&(o={}),!Boolean(null===(a=null===(i=window.Shopify)||void 0===i?void 0:i.analytics)||void 0===a?void 0:a.replayQueue)){var i,a;window.Shopify=window.Shopify||{};var t=window.Shopify;t.analytics=t.analytics||{};var s=t.analytics;s.replayQueue=[],s.publish=function(e,d,r){return s.replayQueue.push([e,d,r]),!0};try{self.performance.mark("wpm:start")}catch(e){}var l=function(){var e={modern:/Edge?\/(1{2}[4-9]|1[2-9]\d|[2-9]\d{2}|\d{4,})\.\d+(\.\d+|)|Firefox\/(1{2}[4-9]|1[2-9]\d|[2-9]\d{2}|\d{4,})\.\d+(\.\d+|)|Chrom(ium|e)\/(9{2}|\d{3,})\.\d+(\.\d+|)|(Maci|X1{2}).+ Version\/(15\.\d+|(1[6-9]|[2-9]\d|\d{3,})\.\d+)([,.]\d+|)( \(\w+\)|)( Mobile\/\w+|) Safari\/|Chrome.+OPR\/(9{2}|\d{3,})\.\d+\.\d+|(CPU[ +]OS|iPhone[ +]OS|CPU[ +]iPhone|CPU IPhone OS|CPU iPad OS)[ +]+(15[._]\d+|(1[6-9]|[2-9]\d|\d{3,})[._]\d+)([._]\d+|)|Android:?[ /-](13[3-9]|1[4-9]\d|[2-9]\d{2}|\d{4,})(\.\d+|)(\.\d+|)|Android.+Firefox\/(13[5-9]|1[4-9]\d|[2-9]\d{2}|\d{4,})\.\d+(\.\d+|)|Android.+Chrom(ium|e)\/(13[3-9]|1[4-9]\d|[2-9]\d{2}|\d{4,})\.\d+(\.\d+|)|SamsungBrowser\/([2-9]\d|\d{3,})\.\d+/,legacy:/Edge?\/(1[6-9]|[2-9]\d|\d{3,})\.\d+(\.\d+|)|Firefox\/(5[4-9]|[6-9]\d|\d{3,})\.\d+(\.\d+|)|Chrom(ium|e)\/(5[1-9]|[6-9]\d|\d{3,})\.\d+(\.\d+|)([\d.]+$|.*Safari\/(?![\d.]+ Edge\/[\d.]+$))|(Maci|X1{2}).+ Version\/(10\.\d+|(1[1-9]|[2-9]\d|\d{3,})\.\d+)([,.]\d+|)( \(\w+\)|)( Mobile\/\w+|) Safari\/|Chrome.+OPR\/(3[89]|[4-9]\d|\d{3,})\.\d+\.\d+|(CPU[ +]OS|iPhone[ +]OS|CPU[ +]iPhone|CPU IPhone OS|CPU iPad OS)[ +]+(10[._]\d+|(1[1-9]|[2-9]\d|\d{3,})[._]\d+)([._]\d+|)|Android:?[ /-](13[3-9]|1[4-9]\d|[2-9]\d{2}|\d{4,})(\.\d+|)(\.\d+|)|Mobile Safari.+OPR\/([89]\d|\d{3,})\.\d+\.\d+|Android.+Firefox\/(13[5-9]|1[4-9]\d|[2-9]\d{2}|\d{4,})\.\d+(\.\d+|)|Android.+Chrom(ium|e)\/(13[3-9]|1[4-9]\d|[2-9]\d{2}|\d{4,})\.\d+(\.\d+|)|Android.+(UC? ?Browser|UCWEB|U3)[ /]?(15\.([5-9]|\d{2,})|(1[6-9]|[2-9]\d|\d{3,})\.\d+)\.\d+|SamsungBrowser\/(5\.\d+|([6-9]|\d{2,})\.\d+)|Android.+MQ{2}Browser\/(14(\.(9|\d{2,})|)|(1[5-9]|[2-9]\d|\d{3,})(\.\d+|))(\.\d+|)|K[Aa][Ii]OS\/(3\.\d+|([4-9]|\d{2,})\.\d+)(\.\d+|)/},d=e.modern,r=e.legacy,n=navigator.userAgent;return n.match(d)?"modern":n.match(r)?"legacy":"unknown"}(),u="modern"===l?"modern":"legacy",c=(null!=n?n:{modern:"",legacy:""})[u],f=function(e){return[e.baseUrl,"/wpm","/b",e.hashVersion,"modern"===e.buildTarget?"m":"l",".js"].join("")}({baseUrl:d,hashVersion:r,buildTarget:u}),m=function(e){var d=e.version,r=e.bundleTarget,n=e.surface,o=e.pageUrl,i=e.monorailEndpoint;return{emit:function(e){var a=e.status,t=e.errorMsg,s=(new Date).getTime(),l=JSON.stringify({metadata:{event_sent_at_ms:s},events:[{schema_id:"web_pixels_manager_load/3.1",payload:{version:d,bundle_target:r,page_url:o,status:a,surface:n,error_msg:t},metadata:{event_created_at_ms:s}}]});if(!i)return console&&console.warn&&console.warn("[Web Pixels Manager] No Monorail endpoint provided, skipping logging."),!1;try{return self.navigator.sendBeacon.bind(self.navigator)(i,l)}catch(e){}var u=new XMLHttpRequest;try{return u.open("POST",i,!0),u.setRequestHeader("Content-Type","text/plain"),u.send(l),!0}catch(e){return console&&console.warn&&console.warn("[Web Pixels Manager] Got an unhandled error while logging to Monorail."),!1}}}}({version:r,bundleTarget:l,surface:e.surface,pageUrl:self.location.href,monorailEndpoint:e.monorailEndpoint});try{o.browserTarget=l,function(e){var d=e.src,r=e.async,n=void 0===r||r,o=e.onload,i=e.onerror,a=e.sri,t=e.scriptDataAttributes,s=void 0===t?{}:t,l=document.createElement("script"),u=document.querySelector("head"),c=document.querySelector("body");if(l.async=n,l.src=d,a&&(l.integrity=a,l.crossOrigin="anonymous"),s)for(var f in s)if(Object.prototype.hasOwnProperty.call(s,f))try{l.dataset[f]=s[f]}catch(e){}if(o&&l.addEventListener("load",o),i&&l.addEventListener("error",i),u)u.appendChild(l);else{if(!c)throw new Error("Did not find a head or body element to append the script");c.appendChild(l)}}({src:f,async:!0,onload:function(){if(!function(){var e,d;return Boolean(null===(d=null===(e=window.Shopify)||void 0===e?void 0:e.analytics)||void 0===d?void 0:d.initialized)}()){var d=window.webPixelsManager.init(e)||void 0;if(d){var r=window.Shopify.analytics;r.replayQueue.forEach((function(e){var r=e[0],n=e[1],o=e[2];d.publishCustomEvent(r,n,o)})),r.replayQueue=[],r.publish=d.publishCustomEvent,r.visitor=d.visitor,r.initialized=!0}}},onerror:function(){return m.emit({status:"failed",errorMsg:"".concat(f," has failed to load")})},sri:function(e){var d=/^sha384-[A-Za-z0-9+/=]+$/;return"string"==typeof e&&d.test(e)}(c)?c:"",scriptDataAttributes:o}),m.emit({status:"loading"})}catch(e){m.emit({status:"failed",errorMsg:(null==e?void 0:e.message)||"Unknown error"})}}})({shopId: 60822683729,storefrontBaseUrl: "https://casper.com",extensionsBaseUrl: "https://extensions.shopifycdn.com/cdn/shopifycloud/web-pixels-manager",monorailEndpoint: "https://monorail-edge.shopifysvc.com/unstable/produce_batch",surface: "storefront-renderer",enabledBetaFlags: ["2dca8a86"],webPixelsConfigList: [{"id":"1646231918","configuration":"{\"siteId\":\"YldRwchx8D2s3gDr\"}","eventPayloadVersion":"v1","runtimeContext":"STRICT","scriptVersion":"c9406bb6835a3b96d17b5d48e4254f48","type":"APP","apiClientId":45694124033,"privacyPurposes":["ANALYTICS"],"dataSharingAdjustments":{"protectedCustomerApprovalScopes":[],"dataSharingControls":["share_all_events"]},"dataSharingState":"unrestricted"},{"id":"1054507374","configuration":"{\"yotpoStoreId\":\"yi3sENnUfaS6O2jkI822aKlptIpeVtM2fGEIKIZ0\"}","eventPayloadVersion":"v1","runtimeContext":"STRICT","scriptVersion":"8bb37a256888599d9a3d57f0551d3859","type":"APP","apiClientId":70132,"privacyPurposes":["ANALYTICS","MARKETING","SALE_OF_DATA"],"dataSharingAdjustments":{"protectedCustomerApprovalScopes":["read_customer_address","read_customer_email","read_customer_name","read_customer_personal_data","read_customer_phone"],"dataSharingControls":["share_all_events"]},"dataSharingState":"optimized"},{"id":"1052442990","configuration":"{\"shop\":\"e75063-e5.myshopify.com\", \"shopliftUrl\":\"https:\/\/events.shoplift.ai\/api\/events\"}","eventPayloadVersion":"v1","runtimeContext":"STRICT","scriptVersion":"27baf6c866b53a6892b5de26ecda141b","type":"APP","apiClientId":7521861633,"privacyPurposes":["ANALYTICS"],"dataSharingAdjustments":{"protectedCustomerApprovalScopes":["read_customer_personal_data"],"dataSharingControls":["share_all_events"]},"dataSharingState":"unrestricted"},{"id":"856654190","configuration":"{\"env\":\"prod\"}","eventPayloadVersion":"v1","runtimeContext":"LAX","scriptVersion":"1a41e1eca09c95376c0b4a84ae3b11ef","type":"APP","apiClientId":3977633,"privacyPurposes":["ANALYTICS","MARKETING"],"dataSharingAdjustments":{"protectedCustomerApprovalScopes":["read_customer_address","read_customer_email","read_customer_name","read_customer_personal_data","read_customer_phone"],"dataSharingControls":["share_all_events"]},"dataSharingState":"optimized"},{"id":"313524305","configuration":"{\"config_url\": \"\/a\/elevar\/static\/configs\/f0237e6a58e5242354800b9bc97f6a7b21bd1704\/config.js\"}","eventPayloadVersion":"v1","runtimeContext":"STRICT","scriptVersion":"ab86028887ec2044af7d02b854e52653","type":"APP","apiClientId":2509311,"privacyPurposes":[],"dataSharingAdjustments":{"protectedCustomerApprovalScopes":["read_customer_address","read_customer_email","read_customer_name","read_customer_personal_data","read_customer_phone"],"dataSharingControls":["share_all_events"]},"dataSharingState":"unrestricted"},{"id":"32014417","eventPayloadVersion":"1","runtimeContext":"LAX","scriptVersion":"8","type":"CUSTOM","privacyPurposes":[],"name":"Elevar Checkout Tracking"},{"id":"119112046","eventPayloadVersion":"1","runtimeContext":"LAX","scriptVersion":"36","type":"CUSTOM","privacyPurposes":["ANALYTICS","MARKETING"],"name":"Bloomreach"},{"id":"121405806","eventPayloadVersion":"1","runtimeContext":"LAX","scriptVersion":"1","type":"CUSTOM","privacyPurposes":["SALE_OF_DATA"],"name":"AppLovin Custom Pixel"},{"id":"133595502","eventPayloadVersion":"1","runtimeContext":"LAX","scriptVersion":"1","type":"CUSTOM","privacyPurposes":["SALE_OF_DATA"],"name":"Attentive Enhanced Tag"},{"id":"133661038","eventPayloadVersion":"1","runtimeContext":"LAX","scriptVersion":"1","type":"CUSTOM","privacyPurposes":["SALE_OF_DATA"],"name":"NeonPixel"},{"id":"134087022","eventPayloadVersion":"1","runtimeContext":"LAX","scriptVersion":"1","type":"CUSTOM","privacyPurposes":["SALE_OF_DATA"],"name":"Belardi Wong Pixel"},{"id":"140444014","eventPayloadVersion":"1","runtimeContext":"LAX","scriptVersion":"8","type":"CUSTOM","privacyPurposes":["SALE_OF_DATA"],"name":"Session AI"},{"id":"160596334","eventPayloadVersion":"1","runtimeContext":"LAX","scriptVersion":"1","type":"CUSTOM","privacyPurposes":["ANALYTICS","MARKETING","SALE_OF_DATA"],"name":"SafeOpt Pixel"},{"id":"172589422","eventPayloadVersion":"1","runtimeContext":"LAX","scriptVersion":"1","type":"CUSTOM","privacyPurposes":["SALE_OF_DATA"],"name":"TradeDesk URL Mapping"},{"id":"172622190","eventPayloadVersion":"1","runtimeContext":"LAX","scriptVersion":"2","type":"CUSTOM","privacyPurposes":["SALE_OF_DATA"],"name":"TradeDesk Events Tracking"},{"id":"173408622","eventPayloadVersion":"1","runtimeContext":"LAX","scriptVersion":"1","type":"CUSTOM","privacyPurposes":["SALE_OF_DATA"],"name":"TVSquared Response Pixel"},{"id":"173441390","eventPayloadVersion":"1","runtimeContext":"LAX","scriptVersion":"2","type":"CUSTOM","privacyPurposes":["SALE_OF_DATA"],"name":"TVSquared Action Pixel"},{"id":"shopify-app-pixel","configuration":"{}","eventPayloadVersion":"v1","runtimeContext":"STRICT","scriptVersion":"0450","apiClientId":"shopify-pixel","type":"APP","privacyPurposes":["ANALYTICS","MARKETING"]},{"id":"shopify-custom-pixel","eventPayloadVersion":"v1","runtimeContext":"LAX","scriptVersion":"0450","apiClientId":"shopify-pixel","type":"CUSTOM","privacyPurposes":["ANALYTICS","MARKETING"]}],isMerchantRequest: false,initData: {"shop":{"name":"Casper Sleep","paymentSettings":{"currencyCode":"USD"},"myshopifyDomain":"e75063-e5.myshopify.com","countryCode":"US","storefrontUrl":"https:\/\/casper.com"},"customer":null,"cart":null,"checkout":null,"productVariants":[],"purchasingCompany":null},},"https://casper.com/cdn","3918e4e0wbf3ac3cepc5707306mb02b36c6",{"modern":"","legacy":""},{"shopId":"60822683729","storefrontBaseUrl":"https:\/\/casper.com","extensionBaseUrl":"https:\/\/extensions.shopifycdn.com\/cdn\/shopifycloud\/web-pixels-manager","surface":"storefront-renderer","enabledBetaFlags":"[\"2dca8a86\"]","isMerchantRequest":"false","hashVersion":"3918e4e0wbf3ac3cepc5707306mb02b36c6","publish":"custom","events":"[[\"page_viewed\",{}]]"});</script><script>
  window.ShopifyAnalytics = window.ShopifyAnalytics || {};
  window.ShopifyAnalytics.meta = window.ShopifyAnalytics.meta || {};
  window.ShopifyAnalytics.meta.currency = 'USD';
  var meta = {"page":{"requestId":"d0607ad8-dc99-4c49-a4a3-34f56988e385-1770406256"}};
  for (var attr in meta) {
    window.ShopifyAnalytics.meta[attr] = meta[attr];
  }
</script>
<script class="analytics">
  (function () {
    var customDocumentWrite = function(content) {
      var jquery = null;

      if (window.jQuery) {
        jquery = window.jQuery;
      } else if (window.Checkout && window.Checkout.$) {
        jquery = window.Checkout.$;
      }

      if (jquery) {
        jquery('body').append(content);
      }
    };

    var hasLoggedConversion = function(token) {
      if (token) {
        return document.cookie.indexOf('loggedConversion=' + token) !== -1;
      }
      return false;
    }

    var setCookieIfConversion = function(token) {
      if (token) {
        var twoMonthsFromNow = new Date(Date.now());
        twoMonthsFromNow.setMonth(twoMonthsFromNow.getMonth() + 2);

        document.cookie = 'loggedConversion=' + token + '; expires=' + twoMonthsFromNow;
      }
    }

    var trekkie = window.ShopifyAnalytics.lib = window.trekkie = window.trekkie || [];
    if (trekkie.integrations) {
      return;
    }
    trekkie.methods = [
      'identify',
      'page',
      'ready',
      'track',
      'trackForm',
      'trackLink'
    ];
    trekkie.factory = function(method) {
      return function() {
        var args = Array.prototype.slice.call(arguments);
        args.unshift(method);
        trekkie.push(args);
        return trekkie;
      };
    };
    for (var i = 0; i < trekkie.methods.length; i++) {
      var key = trekkie.methods[i];
      trekkie[key] = trekkie.factory(key);
    }
    trekkie.load = function(config) {
      trekkie.config = config || {};
      trekkie.config.initialDocumentCookie = document.cookie;
      var first = document.getElementsByTagName('script')[0];
      var script = document.createElement('script');
      script.type = 'text/javascript';
      script.onerror = function(e) {
        var scriptFallback = document.createElement('script');
        scriptFallback.type = 'text/javascript';
        scriptFallback.onerror = function(error) {
                var Monorail = {
      produce: function produce(monorailDomain, schemaId, payload) {
        var currentMs = new Date().getTime();
        var event = {
          schema_id: schemaId,
          payload: payload,
          metadata: {
            event_created_at_ms: currentMs,
            event_sent_at_ms: currentMs
          }
        };
        return Monorail.sendRequest("https://" + monorailDomain + "/v1/produce", JSON.stringify(event));
      },
      sendRequest: function sendRequest(endpointUrl, payload) {
        // Try the sendBeacon API
        if (window && window.navigator && typeof window.navigator.sendBeacon === 'function' && typeof window.Blob === 'function' && !Monorail.isIos12()) {
          var blobData = new window.Blob([payload], {
            type: 'text/plain'
          });

          if (window.navigator.sendBeacon(endpointUrl, blobData)) {
            return true;
          } // sendBeacon was not successful

        } // XHR beacon

        var xhr = new XMLHttpRequest();

        try {
          xhr.open('POST', endpointUrl);
          xhr.setRequestHeader('Content-Type', 'text/plain');
          xhr.send(payload);
        } catch (e) {
          console.log(e);
        }

        return false;
      },
      isIos12: function isIos12() {
        return window.navigator.userAgent.lastIndexOf('iPhone; CPU iPhone OS 12_') !== -1 || window.navigator.userAgent.lastIndexOf('iPad; CPU OS 12_') !== -1;
      }
    };
    Monorail.produce('monorail-edge.shopifysvc.com',
      'trekkie_storefront_load_errors/1.1',
      {shop_id: 60822683729,
      theme_id: 187180843374,
      app_name: "storefront",
      context_url: window.location.href,
      source_url: "//casper.com/cdn/s/trekkie.storefront.d95c54f615d3f81d74e9884a4d4a5524cd5a5db9.min.js"});

        };
        scriptFallback.async = true;
        scriptFallback.src = '//casper.com/cdn/s/trekkie.storefront.d95c54f615d3f81d74e9884a4d4a5524cd5a5db9.min.js';
        first.parentNode.insertBefore(scriptFallback, first);
      };
      script.async = true;
      script.src = '//casper.com/cdn/s/trekkie.storefront.d95c54f615d3f81d74e9884a4d4a5524cd5a5db9.min.js';
      first.parentNode.insertBefore(script, first);
    };
    trekkie.load(
      {"Trekkie":{"appName":"storefront","development":false,"defaultAttributes":{"shopId":60822683729,"isMerchantRequest":null,"themeId":187180843374,"themeCityHash":"5851912609283284121","contentLanguage":"en","currency":"USD"},"isServerSideCookieWritingEnabled":true,"monorailRegion":"shop_domain","enabledBetaFlags":["65f19447","b5387b81"]},"Session Attribution":{},"S2S":{"facebookCapiEnabled":false,"source":"trekkie-storefront-renderer","apiClientId":580111}}
    );

    var loaded = false;
    trekkie.ready(function() {
      if (loaded) return;
      loaded = true;

      window.ShopifyAnalytics.lib = window.trekkie;

      var originalDocumentWrite = document.write;
      document.write = customDocumentWrite;
      try { window.ShopifyAnalytics.merchantGoogleAnalytics.call(this); } catch(error) {};
      document.write = originalDocumentWrite;

      window.ShopifyAnalytics.lib.page(null,{"requestId":"d0607ad8-dc99-4c49-a4a3-34f56988e385-1770406256","shopifyEmitted":true});

      var match = window.location.pathname.match(/checkouts\/(.+)\/(thank_you|post_purchase)/)
      var token = match? match[1]: undefined;
      if (!hasLoggedConversion(token)) {
        setCookieIfConversion(token);
        
      }
    });


        var eventsListenerScript = document.createElement('script');
        eventsListenerScript.async = true;
        eventsListenerScript.src = "//casper.com/cdn/shopifycloud/storefront/assets/shop_events_listener-3da45d37.js";
        document.getElementsByTagName('head')[0].appendChild(eventsListenerScript);

})();</script>
<script
  defer
  src="https://casper.com/cdn/shopifycloud/perf-kit/shopify-perf-kit-3.1.0.min.js"
  data-application="storefront-renderer"
  data-shop-id="60822683729"
  data-render-region="gcp-us-east1"
  data-page-type="404"
  data-theme-instance-id="187180843374"
  data-theme-name="Impact"
  data-theme-version="6.0.1"
  data-monorail-region="shop_domain"
  data-resource-timing-sampling-rate="10"
  data-shs="true"
  data-shs-beacon="true"
  data-shs-export-with-fetch="true"
  data-shs-logs-sample-rate="1"
  data-shs-beacon-endpoint="https://casper.com/api/collect"
></script>
</head>

  <body class=""><!-- DRAWER -->
<template id="drawer-default-template">
  <style>
    [hidden] {
      display: none !important;
    }
  </style>

  <button part="outside-close-button" is="close-button" aria-label="Close"><svg role="presentation" stroke-width="2" focusable="false" width="24" height="24" class="icon icon-close" viewBox="0 0 24 24">
        <path d="M17.658 6.343 6.344 17.657M17.658 17.657 6.344 6.343" stroke="currentColor"></path>
      </svg></button>

  <div part="overlay"></div>

  <div part="content">
    <header part="header">
      <slot name="header"></slot>

      <button part="close-button" is="close-button" aria-label="Close"><svg role="presentation" stroke-width="2" focusable="false" width="24" height="24" class="icon icon-close" viewBox="0 0 24 24">
        <path d="M17.658 6.343 6.344 17.657M17.658 17.657 6.344 6.343" stroke="currentColor"></path>
      </svg></button>
    </header>

    <div part="body">
      <slot></slot>
    </div>

    <footer part="footer">
      <slot name="footer"></slot>
    </footer>
  </div>
</template>

<!-- POPOVER -->
<template id="popover-default-template">
  <button part="outside-close-button" is="close-button" aria-label="Close"><svg role="presentation" stroke-width="2" focusable="false" width="24" height="24" class="icon icon-close" viewBox="0 0 24 24">
        <path d="M17.658 6.343 6.344 17.657M17.658 17.657 6.344 6.343" stroke="currentColor"></path>
      </svg></button>

  <div part="overlay"></div>

  <div part="content">
    <header part="title">
      <slot name="title"></slot>
    </header>

    <div part="body">
      <slot></slot>
    </div>
  </div>
</template>
<nav aria-label="Skip To Content">
      <a href="#main" class="skip-to-content sr-only">
          Skip to content
      </a>
    </nav>
    
    
<script>
    (function() {
        const originalFetch = window.fetch;
        const freeGifts = [
            
                {
                    "variant_reference": [
                        
                            "41670971162705",
                        
                            "41670971195473",
                        
                            "41670971228241",
                        
                            "41670971261009",
                        
                            "51985624727918",
                        
                            "51985624760686",
                        
                            "51926050668910",
                        
                            "51926050701678",
                        
                            "41611237949521",
                        
                            "41611237851217",
                        
                            "41611237883985",
                        
                            "41611237916753",
                        
                            "41670971883601",
                        
                            "41670971916369",
                        
                            "41670971949137",
                        
                            "41670972112977",
                        
                            "41670972145745",
                        
                            "41670972178513",
                        
                            "41670972342353",
                        
                            "41670972375121",
                        
                            "41670972407889"
                        
                    ],
                    "free_variant": "41670972538961",
                    "apply_rule_to": "not-all",
                    "magic_link_param": "123"
                },
            
                {
                    "variant_reference": [
                        
                            "41670971293777",
                        
                            "41670971326545",
                        
                            "41670971359313",
                        
                            "51926050734446",
                        
                            "51985624793454",
                        
                            "41611237982289",
                        
                            "41611238015057",
                        
                            "41611238047825",
                        
                            "41670971981905",
                        
                            "41670972014673",
                        
                            "41670972047441",
                        
                            "41670972211281",
                        
                            "41670972244049",
                        
                            "41670972276817",
                        
                            "41670972440657",
                        
                            "41670972473425",
                        
                            "41670972506193"
                        
                    ],
                    "free_variant": "41670972571729",
                    "apply_rule_to": "not-all",
                    "magic_link_param": "456"
                },
            
        ];

        function getBodyType(body) {
            if (body instanceof FormData) return 'formData';
            if (typeof body === 'string') {
                return body.trim().startsWith('{') ? 'json' : 'urlencoded';
            }
            return 'unknown';
        }

        function extractProductIds(body, type) {
            let ids = [];
            if (type === 'formData') {
                const id = body.get('id');
                if (id) ids.push(id.toString());
                const prodId = body.get('product-id');
                if (prodId) ids.push(prodId.toString());
                if (body.getAll) {
                    const items = body.getAll('items[][id]');
                    if (items && items.length) ids = ids.concat(items.map(i => i.toString()));
                }
            } else if (type === 'json') {
                try {
                    const parsed = JSON.parse(body);
                    if (parsed.id) ids.push(parsed.id.toString());
                    if (parsed['product-id']) ids.push(parsed['product-id'].toString());
                    if (parsed.items && Array.isArray(parsed.items)) {
                        parsed.items.forEach(item => {
                            if (item.id) ids.push(item.id.toString());
                        });
                    }
                } catch(e) {}
            } else if (type === 'urlencoded') {
                const params = new URLSearchParams(body);
                const id = params.get('id');
                if (id) ids.push(id.toString());
                const prodId = params.get('product-id');
                if (prodId) ids.push(prodId.toString());
                const items = params.getAll('items[][id]');
                if (items && items.length) ids = ids.concat(items.map(i => i.toString()));
            }
            return ids;
        }

        function findEligibleGift(addedIds) {
            for (const gift of freeGifts) {
                if (addedIds.some(id => gift.variant_reference.includes(id))) {
                    return gift;
                }
            }
            return null;
        }

        function appendGiftToBody(body, gift, type) {
            const newParamKey = "items[][id]";
            const newParamValue = gift.free_variant;
            
            if (type === 'formData') {
                body.append(newParamKey, newParamValue);
                body.append("items[][properties][_free_gift_with_purchase]", "true");
                return body;
            } else if (type === 'urlencoded') {
                const params = new URLSearchParams(body);
                params.append(newParamKey, newParamValue);
                params.append("items[][properties][_free_gift_with_purchase]", "true");
                return params.toString();
            } else if (type === 'json') {
                try {
                    let parsed = JSON.parse(body);
                    if (!parsed.items) {
                        parsed = {
                            items: [
                                { ...parsed },
                                { id: newParamValue, quantity: 1 }
                            ]
                        };
                    } else {
                        parsed.items.push({ id: newParamValue, quantity: 1 });
                    }
                    return JSON.stringify(parsed);
                } catch(e) {
                    return body;
                }
            }
            return body;
        }

        function extractUpdates(body, type) {
            const updates = [];
            
            const add = (key, qty) => {
                 const q = parseInt(qty);
                 if (!isNaN(q)) updates.push({ key: key.toString(), quantity: q });
            };

            if (type === 'formData') {
                if(body.has('id')) add(body.get('id'), body.get('quantity'));
                for(let [key, value] of body.entries()) {
                    const match = key.match(/^updates\[([^\]]+)\]$/);
                    if (match) add(match[1], value);
                }
            } else if (type === 'urlencoded') {
                const params = new URLSearchParams(body);
                if(params.has('id')) add(params.get('id'), params.get('quantity'));
                for(let [key, value] of params.entries()) {
                    const match = key.match(/^updates\[([^\]]+)\]$/);
                    if (match) add(match[1], value);
                }
            } else if (type === 'json') {
                try {
                    const parsed = JSON.parse(body);
                    if (parsed.updates) {
                        if (typeof parsed.updates === 'object' && !Array.isArray(parsed.updates)) {
                            Object.entries(parsed.updates).forEach(([key, qty]) => add(key, qty));
                        }
                    } else if (parsed.id) {
                         add(parsed.id, parsed.quantity);
                    }
                } catch(e) {}
            }
            return updates;
        }

        function appendGiftUpdates(body, updates, type) {
             if (updates.length === 0) return body;

             if (type === 'formData') {
                 updates.forEach(({gift, quantity}) => {
                     body.append(`updates[${gift.free_variant}]`, quantity);
                 });
                 return body;
             } else if (type === 'urlencoded') {
                 const params = new URLSearchParams(body);
                 updates.forEach(({gift, quantity}) => {
                     params.append(`updates[${gift.free_variant}]`, quantity);
                 });
                 return params.toString();
             } else if (type === 'json') {
                 try {
                     const parsed = JSON.parse(body);
                     if (!parsed.updates) parsed.updates = {};
                     updates.forEach(({gift, quantity}) => {
                         parsed.updates[gift.free_variant] = quantity;
                     });
                     return JSON.stringify(parsed);
                 } catch(e) { return body; }
             }
             return body;
        }

        window.fetch = function(resource, config) {
            let url = typeof resource === 'string' ? resource : resource instanceof Request ? resource.url : '';
            
            if (config && config.body) {
                if (url.includes('/add.js') || url.includes('/cart/add')) {
                    try {
                        const bodyType = getBodyType(config.body);
                        const addedIds = extractProductIds(config.body, bodyType);
                        const eligibleGift = findEligibleGift(addedIds);

                        const evaluateEligibility = (eligibleGift) => {
                            if(!eligibleGift || !eligibleGift.apply_rule_to) return false;

                            if(eligibleGift.apply_rule_to === 'all') return true;

                            if (eligibleGift.apply_rule_to !== 'all') {
                                const acaValue = sessionStorage.getItem('free-gift-w-purchase');
                                if (acaValue) {
                                    // Split comma-separated values and check if any match
                                    const acaValues = acaValue.split(',').map(v => v.trim());
                                    if (acaValues.includes(eligibleGift.magic_link_param)) {
                                        return true;
                                    }
                                }
                            }
                            return false;
                        }

                        if (evaluateEligibility(eligibleGift)) {
                            config.body = appendGiftToBody(config.body, eligibleGift, bodyType);
                        }
                    } catch (e) {
                        console.error('Error intercepting cart add request:', e);
                    }
                } else if (url.includes('/update.js') || url.includes('/cart/update') || url.includes('/change.js') || url.includes('/cart/change')) {
                    try {
                        const bodyType = getBodyType(config.body);
                        const updates = extractUpdates(config.body, bodyType);
                        if (updates.length > 0) {
                            const giftUpdates = [];
                            
                            for (const update of updates) {
                                // Check if update key contains the product reference of any gift
                                const updateVariantId = update.key.split(':')[0];
                                const gift = freeGifts.find(g => g.variant_reference.includes(updateVariantId));
                                if(!gift) continue;

                                giftUpdates.push({ gift, quantity: update.quantity });
                            };

                            if (giftUpdates.length > 0) {
                                config.body = appendGiftUpdates(config.body, giftUpdates, bodyType);
                            }
                        }
                    } catch (e) {
                         console.error('Error intercepting cart update request:', e);
                    }
                }
            }

            return originalFetch.call(this, url, config);
        };
    })();
</script>
<script>
    (function() {
        const url = new URL(window.location.href);
        const acaValue = url.searchParams.get('aca');
        if (acaValue !== null) {
            // Store acaValue in sessionStorage (supports comma-separated values like "value1,value2")
            sessionStorage.setItem('free-gift-w-purchase', acaValue);
            // Remove 'aca' from the url
            url.searchParams.delete('aca');
            const newUrl = url.pathname + (url.search ? '?' + url.searchParams.toString() : '') + window.location.hash;
            window.history.replaceState({}, document.title, newUrl);
        }
    })();
</script>
    <script>
    document.addEventListener("DOMContentLoaded", (event) => {
        const urlParams = new URLSearchParams(window.location.search);
        const popupSelector = urlParams.get('popupSelector');
        if(!popupSelector) return;
        const popup = document.querySelector(popupSelector);
        if(!popup) return;
        popup.click();
    });
  </script>

    <script>
      // script for proper accessibility
      let skipContentEl = document.querySelector('.skip-to-content');

      skipContentEl.addEventListener('click', () => {
        let mainEl = document.getElementById('main');
        mainEl.focus();
      });

      skipContentEl.addEventListener('keyup', (e) => {
        let mainEl = document.getElementById('main');
        let keyCode = e.keyCode || e.which;
        if(keyCode == 13 ){ // clicked Enter
          mainEl.focus();
        } 
      });

    </script><!-- BEGIN sections: header-group -->
<aside id="shopify-section-sections--26894489649518__announcement-bar" class="shopify-section shopify-section-group-header-group shopify-section--announcement-bar"><style>
    :root {
      --sticky-announcement-bar-enabled:0;
    }</style><height-observer variable="announcement-bar" id="announcement-bar-observer">
    <div class="announcement-bar bg-custom text-custom"style="min-height: 42px; --background: 30 48 110; --text-color: 255 255 255;"><div class="announcement-bar__side-links">
          <a href="https://stores.casper.com/?r=50"><svg width="22" height="20" viewBox="0 0 22 20" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M10.9999 4.95834C11.6077 4.95834 12.1906 5.19979 12.6204 5.62956C13.0501 6.05933 13.2916 6.64222 13.2916 7.25001C13.2916 7.55096 13.2323 7.84896 13.1171 8.12699C13.002 8.40503 12.8332 8.65766 12.6204 8.87046C12.4076 9.08326 12.1549 9.25207 11.8769 9.36723C11.5989 9.4824 11.3009 9.54168 10.9999 9.54168C10.3921 9.54168 9.80924 9.30023 9.37947 8.87046C8.94969 8.44069 8.70825 7.8578 8.70825 7.25001C8.70825 6.64222 8.94969 6.05933 9.37947 5.62956C9.80924 5.19979 10.3921 4.95834 10.9999 4.95834ZM10.9999 0.833344C12.7017 0.833344 14.3338 1.50938 15.5372 2.71274C16.7405 3.9161 17.4166 5.5482 17.4166 7.25001C17.4166 12.0625 10.9999 19.1667 10.9999 19.1667C10.9999 19.1667 4.58325 12.0625 4.58325 7.25001C4.58325 5.5482 5.25929 3.9161 6.46265 2.71274C7.66601 1.50938 9.29811 0.833344 10.9999 0.833344ZM10.9999 2.66668C9.78434 2.66668 8.61855 3.14956 7.75901 4.0091C6.89947 4.86865 6.41659 6.03443 6.41659 7.25001C6.41659 8.16668 6.41659 10 10.9999 16.1508C15.5833 10 15.5833 8.16668 15.5833 7.25001C15.5833 6.03443 15.1004 4.86865 14.2408 4.0091C13.3813 3.14956 12.2155 2.66668 10.9999 2.66668Z"
          fill="white" />
      </svg><div>Find a store</div>
          </a>

          <div class="announcement-bar__wrapper justify-between"><button class="tap-area" is="prev-button" aria-controls="announcement-bar" aria-label="Previous"><svg role="presentation" focusable="false" width="7" height="10" class="icon icon-chevron-left reverse-icon" viewBox="0 0 7 10">
        <path d="M6 1 2 5l4 4" fill="none" stroke="currentColor" stroke-width="2"></path>
      </svg></button><announcement-bar swipeable autoplay="6" id="announcement-bar" class="announcement-bar__static-list">

                    <p data-block-id="message" aria-label="Up to 35% off sitewide" class="bold text-xs " ><a href="/pages/presidents-day-mattress-sale">Up to 35% off sitewide</a></p>

                  


                    <p data-block-id="message_4mwqwC" aria-label="Sleep Specialists on call @ 888.498.0003" class="bold text-xs reveal-invisible" ><a href="tel:+18884980003">Sleep Specialists on call @ 888.498.0003</a></p>

                  


                    <p data-block-id="message_XTrEif" aria-label="Give 30% off, get 30% off when you refer a friend" class="bold text-xs reveal-invisible" ><a href="/pages/friends">Give 30% off, get 30% off when you refer a friend</a></p>

                  
</announcement-bar><button class="tap-area" is="next-button" aria-controls="announcement-bar" aria-label="Next"><svg role="presentation" focusable="false" width="7" height="10" class="icon icon-chevron-right reverse-icon" viewBox="0 0 7 10">
        <path d="m1 9 4-4-4-4" fill="none" stroke="currentColor" stroke-width="2"></path>
      </svg></button></div>

          <a href="/pages/friends"><svg width="22" height="20" viewBox="0 0 22 20" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M1.06009 9.79168L1.59675 9.52335H1.59675L1.06009 9.79168ZM1.80654 7.46243L1.52581 6.93216H1.52581L1.80654 7.46243ZM13.6286 1.20372L13.3478 0.673443V0.673443L13.6286 1.20372ZM15.9915 1.92682L16.5209 1.64446L16.5209 1.64446L15.9915 1.92682ZM11.5438 16.0542V16.6542H12.7438V16.0542H11.5438ZM12.7438 15.4468V14.8468H11.5438V15.4468H12.7438ZM11.5438 10.6336V11.2336H12.7438V10.6336H11.5438ZM12.7438 10.0124V9.41241H11.5438V10.0124H12.7438ZM12.1258 13.0632L12.2614 12.4787L12.1258 13.0632ZM4.33212 14.9941L1.59675 9.52335L0.523437 10.06L3.2588 15.5307L4.33212 14.9941ZM2.08727 7.9927L13.9093 1.73399L13.3478 0.673443L1.52581 6.93216L2.08727 7.9927ZM15.4621 2.20917L18.141 7.23227L19.1999 6.66756L16.5209 1.64446L15.4621 2.20917ZM18.6705 6.34991H5.54546V7.54991H18.6705V6.34991ZM3.19546 8.69991V15.2624H4.39546V8.69991H3.19546ZM3.19546 15.2624V17.4499H4.39546V15.2624H3.19546ZM5.54546 19.7999H19.108V18.5999H5.54546V19.7999ZM21.458 17.4499V8.69991H20.258V17.4499H21.458ZM19.108 6.34991H18.6705V7.54991H19.108V6.34991ZM21.458 8.69991C21.458 7.40204 20.4058 6.34991 19.108 6.34991V7.54991C19.7431 7.54991 20.258 8.06479 20.258 8.69991H21.458ZM3.19546 17.4499C3.19546 18.7478 4.24759 19.7999 5.54546 19.7999V18.5999C4.91033 18.5999 4.39546 18.085 4.39546 17.4499H3.19546ZM5.54546 6.34991C4.24759 6.34991 3.19546 7.40204 3.19546 8.69991H4.39546C4.39546 8.06479 4.91033 7.54991 5.54546 7.54991V6.34991ZM13.9093 1.73399C14.4694 1.43746 15.1638 1.64997 15.4621 2.20917L16.5209 1.64446C15.9114 0.501762 14.4924 0.0674974 13.3478 0.673443L13.9093 1.73399ZM19.108 19.7999C20.4058 19.7999 21.458 18.7478 21.458 17.4499H20.258C20.258 18.085 19.7431 18.5999 19.108 18.5999V19.7999ZM1.59675 9.52335C1.31737 8.9646 1.53516 8.285 2.08727 7.9927L1.52581 6.93216C0.397579 7.52945 -0.0474674 8.9182 0.523438 10.06L1.59675 9.52335ZM2.17054 11.9712C3.16644 11.4281 3.86422 10.6927 4.1552 9.74097C4.44307 8.79938 4.30044 7.75055 3.83518 6.63881L2.72821 7.10207C3.12872 8.05912 3.1859 8.80703 3.00763 9.39012C2.83247 9.96306 2.39815 10.4803 1.596 10.9177L2.17054 11.9712ZM16.7873 2.84093C15.976 3.26132 15.3044 3.33217 14.7314 3.157C14.1483 2.97874 13.5603 2.51311 12.9908 1.64589L11.9877 2.30456C12.6493 3.31195 13.439 4.0167 14.3806 4.30457C15.3323 4.59555 16.3322 4.4283 17.3394 3.90637L16.7873 2.84093ZM12.7438 16.0542V15.4468H11.5438V16.0542H12.7438ZM12.7438 10.6336V10.0124H11.5438V10.6336H12.7438ZM13.9912 12.0831C13.9912 11.5741 13.8369 11.1001 13.4628 10.762C13.0991 10.4331 12.6168 10.3143 12.1258 10.3143V11.5143C12.44 11.5143 12.5905 11.591 12.6581 11.6521C12.7154 11.7039 12.7912 11.8144 12.7912 12.0831H13.9912ZM12.1258 10.3143C11.2254 10.3143 10.3874 10.8643 10.23 11.694C10.1477 12.1283 10.275 12.5715 10.603 12.9279C10.918 13.2703 11.3927 13.5091 11.9902 13.6477L12.2614 12.4787C11.8075 12.3734 11.5838 12.2217 11.486 12.1154C11.4012 12.0231 11.4011 11.9596 11.409 11.9176C11.4323 11.7949 11.6458 11.5143 12.1258 11.5143V10.3143ZM11.9902 13.6477C12.44 13.752 12.6487 13.9041 12.7353 14.0052C12.8091 14.0913 12.8162 14.1615 12.802 14.228C12.763 14.4114 12.5092 14.6765 12.1258 14.6765V15.8765C13.0078 15.8765 13.8054 15.2789 13.9758 14.4775C14.0663 14.0517 13.9676 13.599 13.6465 13.2243C13.3383 12.8647 12.863 12.6183 12.2614 12.4787L11.9902 13.6477ZM12.1258 14.6765C11.7161 14.6765 11.5428 14.59 11.4806 14.5362C11.4465 14.5068 11.3792 14.4333 11.3988 14.1764L10.2023 14.0851C10.1636 14.592 10.288 15.0915 10.6957 15.444C11.0752 15.7721 11.5938 15.8765 12.1258 15.8765V14.6765ZM3.8018 10.932C4.93611 10.92 5.89747 10.5983 6.60121 9.89452C7.29744 9.1983 7.66389 8.20528 7.77502 7.00524L6.58014 6.89458C6.48447 7.92764 6.18383 8.61485 5.75268 9.046C5.32904 9.46963 4.70275 9.72241 3.78911 9.73207L3.8018 10.932ZM20.9802 15.0469C19.8459 15.0589 18.8845 15.3806 18.1808 16.0844C17.4846 16.7806 17.1181 17.7736 17.007 18.9736L18.2019 19.0843C18.2976 18.0512 18.5982 17.364 19.0293 16.9329C19.453 16.5092 20.0793 16.2565 20.9929 16.2468L20.9802 15.0469ZM3.78911 16.2468C4.70275 16.2565 5.32904 16.5092 5.75268 16.9329C6.18383 17.364 6.48447 18.0512 6.58014 19.0843L7.77502 18.9736C7.66389 17.7736 7.29744 16.7806 6.60121 16.0844C5.89747 15.3806 4.93611 15.0589 3.8018 15.0469L3.78911 16.2468ZM20.9938 9.73207C20.0801 9.72241 19.4538 9.46963 19.0302 9.046C18.599 8.61485 18.2984 7.92764 18.2027 6.89458L17.0079 7.00524C17.119 8.20528 17.4854 9.1983 18.1817 9.89452C18.8854 10.5983 19.8468 10.92 20.9811 10.932L20.9938 9.73207Z"
          fill="white" />
      </svg><div>Refer a friend</div>
          </a>
        </div></div>
  </height-observer>

  <script>
    document.documentElement.style.setProperty('--announcement-bar-height', Math.round(document.getElementById('shopify-section-sections--26894489649518__announcement-bar').clientHeight) + 'px');
  </script>

  <script>
    function removeAnnouncementBarBlock(blockId) {
      const block = document.querySelector(`[data-block-id="${blockId}"]`);
      if (block) {
        block.remove();

        const blocks = document.querySelectorAll('[data-block-id]');
        blocks.forEach((block, index) => {
          if(index === 0) block.classList.remove('reveal-invisible');
        });

        if(blocks.length === 1) {
          const buttons = document.querySelectorAll('.announcement-bar__wrapper .tap-area');
          buttons.forEach(button => {
            button.style.opacity = 0;
          });
        }

        if(blocks.length === 0) {
          const announcementBarObserver = document.querySelector('#announcement-bar-observer');
          if(announcementBarObserver) {
            announcementBarObserver.remove();
          }
        }

      }
    }
    
    if(window.innerWidth > 768) {
      
        
      
        
      
        
          removeAnnouncementBarBlock('message_XTrEif');
        
      
    }
  </script></aside><header id="shopify-section-sections--26894489649518__header" class="shopify-section shopify-section-group-header-group shopify-section--header"><style>
  :root {
    --sticky-header-enabled:1;
  }

  #shopify-section-sections--26894489649518__header {
    --header-grid-template: "main-nav logo secondary-nav" / minmax(0, 1fr) auto minmax(0, 1fr);
    --header-padding-block: var(--spacing-3);
    --header-background-opacity: 1.0;
    --header-background-blur-radius: 6px;
    --header-transparent-text-color: 1 33 105;--header-logo-width: 100px;
      --header-logo-height: 47px;position: sticky;
    top: 0;
    z-index: 10;
  }.shopify-section--announcement-bar ~ #shopify-section-sections--26894489649518__header {
      top: calc(var(--sticky-announcement-bar-enabled, 0) * var(--announcement-bar-height, 0px));
    }@media screen and (min-width: 700px) {
    #shopify-section-sections--26894489649518__header {--header-logo-width: 120px;
        --header-logo-height: 56px;--header-padding-block: var(--spacing-6);
    }
  }@media screen and (min-width: 1024px) {#shopify-section-sections--26894489649518__header {
        --header-grid-template: "logo main-nav secondary-nav" / minmax(0, 1fr) fit-content(55%) minmax(0, 1fr);
      }
    }.nav-header-text {
    position: relative;
    display: inline-block;
    text-decoration: none;
  }
  .nav-header-text::after {
    content: "";
    position: absolute;
    left: 0;
    bottom: -3px;
    width: 100%;
    height: 2px;
    background-color: currentColor;
    transform: scaleX(0);
    transform-origin: left;
    transition: transform 0.4s ease;
  }
  /* .nav-header-text:hover::after {
    transform: scaleX(1);
  } */
  .active-tab::after {
    animation: underline-grow 0.5s ease forwards;
  }

  @keyframes underline-grow {
    from {
      transform: scaleX(0);
    }
    to {
      transform: scaleX(1);
    }
  }
</style>

<height-observer variable="header">
  <store-header class="header"  sticky>
    <div class="header__wrapper shadow-below  " id="main-header-nav">
        <a href="/" class="header__logo" aria-label="Homepage: Casper Sleep"><span class="sr-only">Casper Sleep</span><img src="//casper.com/cdn/shop/files/Casper.png?v=1718200514&amp;width=300" alt="Casper logo" srcset="//casper.com/cdn/shop/files/Casper.png?v=1718200514&amp;width=240 240w, //casper.com/cdn/shop/files/Casper.png?v=1718200514&amp;width=300 300w" width="300" height="140" sizes="120px" class="header__logo-image"><img src="//casper.com/cdn/shop/files/Casper.png?v=1718200514&amp;width=300" alt="Casper logo" srcset="//casper.com/cdn/shop/files/Casper.png?v=1718200514&amp;width=240 240w, //casper.com/cdn/shop/files/Casper.png?v=1718200514&amp;width=300 300w" width="300" height="140" sizes="120px" class="header__logo-image header__logo-image--transparent"></a>
      
<div class="header__main-nav">
        <div class="header__icon-list">
          <button type="button" class="tap-area lg:hidden" aria-controls="header-sidebar-menu">
            <span class="sr-only">Open navigation menu</span><svg role="presentation" stroke-width="2" focusable="false" width="22" height="22" class="icon icon-hamburger" viewBox="0 0 22 22">
        <path d="M1 5h20M1 11h20M1 17h20" stroke="currentColor" stroke-linecap="round"></path>
      </svg></button>

          <a href="/search" class="tap-area block lg:hidden" aria-controls="search-drawer">
            <span class="sr-only">Open search</span><svg role="presentation" stroke-width="2" focusable="false" width="22" height="22" class="icon icon-search" viewBox="0 0 22 22">
        <circle cx="11" cy="10" r="7" fill="none" stroke="currentColor"></circle>
        <path d="m16 15 3 3" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
      </svg></a><nav class="header__link-list justify-center" role="navigation" aria-label="main menu items">
              <ul class="contents" role="list">

                  <li>


                          <details is="mega-menu-disclosure" trigger="hover" >
                            <summary
                              class="nav-header-text text-with-icon gap-2 bold link-faded-reverse 
                              
                              
                              " 
                              data-url="/collections/mattresses"
                            >Mattresses</summary><style>
    @media screen and (min-width: 1150px) {
      #mega-menu-mega_menu_EhzC6W {
        --mega-menu-nav-column-max-width: 160px;
        --mega-menu-justify-content: space-between;
        --mega-menu-nav-gap: var(--spacing-12);

        
          --column-list-max-width: 75%;
        
      }
    }

    @media screen and (min-width: 1400px) {
      #mega-menu-mega_menu_EhzC6W {
        --mega-menu-nav-column-max-width: 180px;
        --mega-menu-nav-gap: var(--spacing-16);

        
          --column-list-max-width: max-content;
        
      }
    }

    @media screen and (min-width: 1800px) {
      #mega-menu-mega_menu_EhzC6W {
        --mega-menu-nav-gap: var(--spacing-20);
      }
    }

    @media screen and (min-width: 1024px) and (max-width: 1253px) {
      #mega-menu-mega_menu_EhzC6W {
        --mega-menu-nav-gap: var(--spacing-18);
        --column-list-max-width: 100%;
        --mega-menu-nav-column-max-width: 100%;
      }

      .mega-menu__nav{
        flex-wrap: nowrap;
      }

      .navigation-promo__wrapper{
        display: none;
      }


    }
    @media screen and (min-width: 1254px) and (max-width: 1439px) {
      #mega-menu-mega_menu_EhzC6W {
        --mega-menu-nav-gap: var(--spacing-10);
      }
    }

    @media screen and (min-width: 1440px) {
      #mega-menu-mega_menu_EhzC6W {
        --mega-menu-nav-gap: var(--spacing-18);
      }
    }
  </style>

<div id="mega-menu-mega_menu_EhzC6W" class="mega-menu "><ul class="mega-menu__nav" role="list"><li class="v-stack gap-4 justify-items-start">
          <a href="/collections/the-foams" class="" >
            <span class=" bold-heading-link-faded  " >Foams</span>
            <p class="nav_sub_link_description" data-menu-name="mattresses_foams"></p>
          </a><ul class="v-stack gap-2 justify-items-start" role="list"><li>
                  <a href="https://casper.com/products/casper-one-foam?variant=41670971261009" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">The One</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="mattresses_the_one"></p>
                </li><li>
                  <a href="https://casper.com/products/casper-cloud-one-foam?variant=51926050701678" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Cloud One</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="mattresses_cloud_one"></p>
                </li></ul></li><li class="v-stack gap-4 justify-items-start">
          <a href="/collections/the-hybrids" class="" >
            <span class=" bold-heading-link-faded  " >Hybrids</span>
            <p class="nav_sub_link_description" data-menu-name="mattresses_hybrids"></p>
          </a><ul class="v-stack gap-2 justify-items-start" role="list"><li>
                  <a href="https://casper.com/products/casper-dream-hybrid?variant=41611237949521" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Dream</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="mattresses_dream"></p>
                </li><li>
                  <a href="https://casper.com/products/casper-snow-v3?variant=41670971949137" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Snow</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="mattresses_snow"></p>
                </li></ul></li><li class="v-stack gap-4 justify-items-start">
          <a href="/collections/the-maxes" class="" >
            <span class=" bold-heading-link-faded  " >Maxes</span>
            <p class="nav_sub_link_description" data-menu-name="mattresses_maxes"></p>
          </a><ul class="v-stack gap-2 justify-items-start" role="list"><li>
                  <a href="https://casper.com/products/casper-dream-max-hybrid?variant=41670972178513" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Dream Max</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="mattresses_dream_max"></p>
                </li><li>
                  <a href="https://casper.com/products/casper-snow-max-hybrid-v3?variant=41670972407889" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Snow Max</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="mattresses_snow_max"></p>
                </li></ul></li><li class="v-stack gap-4 justify-items-start">
          <a href="/collections/mattresses" class="" >
            <span class=" bold-heading-link-faded   shop_all_nav_titles_desktop " >Shop all mattresses</span>
            <p class="nav_sub_link_description" data-menu-name="mattresses_shop_all_mattresses"></p>
          </a><ul class="v-stack gap-2 justify-items-start" role="list"><li>
                  <a href="https://casper.com/products/casper-snow-v3?collection=true&view=sl-AD601147" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Shop cooling mattresses</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="mattresses_shop_cooling_mattresses"></p>
                </li><li>
                  <a href="/pages/mattress-quiz" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  
                      extra_header_nav_links
                    ">Take the quiz</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="mattresses_take_the_quiz"></p>
                </li><li>
                  <a href="/pages/compare" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  
                      extra_header_nav_links
                    ">Compare mattresses</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="mattresses_compare_mattresses"></p>
                </li></ul></li></ul>





<style>
  #navigation-promo-mega_menu_EhzC6W-4- {
    --navigation-promo-grid: 
  
    auto / repeat(1, minmax(var(--mega-menu-promo-grid-image-min-width), var(--mega-menu-promo-grid-image-max-width)))

  
;
    --mega-menu-promo-grid-image-max-width: 300px;
    --mega-menu-promo-grid-image-min-width: 172px;
    --promo-heading-font-size: var(--text-h5);
    --content-over-media-row-gap: var(--spacing-3);
    --content-over-media-column-gap: var(--spacing-4);--navigation-promo-gap: var(--spacing-2);
      --panel-wrapper-justify-content: flex-start;}

  #navigation-promo-mega_menu_EhzC6W-4- .navigation-promo__carousel-controls {inset-block-end: var(--content-over-media-column-gap);}

  @media screen and (min-width:700px) {
    #navigation-promo-mega_menu_EhzC6W-4- {--promo-heading-font-size: var(--text-h6);--mega-menu-promo-grid-image-min-width: 192px;
      --content-over-media-row-gap: var(--spacing-4);
      --content-over-media-column-gap: var(--spacing-5);
    }
  }@media screen and (min-width: 1150px) {
      #navigation-promo-mega_menu_EhzC6W-4- {
        --promo-heading-font-size: var(--text-h4);
        --promo-heading-line-height: 1.3;
        --navigation-promo-gap: var(--spacing-0-5);
        --mega-menu-promo-grid-image-min-width: 220px;

        

        
          margin-block-start: calc(-1 * var(--mega-menu-block-padding));
          margin-block-end: calc(-1 * var(--mega-menu-block-padding));
          margin-inline-end: calc(-1 * (100vw - min(100vw - var(--container-gutter) * 2, var(--container-max-width))) / 2);

          
        
      }

      
        #navigation-promo-mega_menu_EhzC6W-4- {
          --content-over-media-row-gap: var(--spacing-6);
          --content-over-media-column-gap: var(--spacing-8);
        }
      
    }

    @media screen and (min-width: 1400px) {
      #navigation-promo-mega_menu_EhzC6W-4- {
        --mega-menu-promo-grid-image-max-width: 500px;

        
      }

      
        #navigation-promo-mega_menu_EhzC6W-4- {
          --content-over-media-row-gap: var(--spacing-6);
          --content-over-media-column-gap: var(--spacing-8);
        }
      
    }

    @media screen and (min-width: 1254px) and (max-width: 1439px) {
      #navigation-promo-mega_menu_EhzC6W-4- {
        --mega-menu-promo-grid-image-max-width: 500px;
      }
    }</style><div class="navigation-promo__wrapper  " id="navigation-promo-mega_menu_EhzC6W-4-"><div class="navigation-promo navigation-promo--grid scroll-area bleed" tabindex="0">
      <a href="/products/casper-dream-hybrid-quickcool"
         class="content-over-media  group "
         style="--text-color: 30 48 110; grid-area: ;"><img src="//casper.com/cdn/shop/files/Dream-Cool-Navigation-Image.jpg?v=1769525843" alt="Casper mattress with &#39;QuickCool&#39; covers in a bedroom setting, featuring a &#39;Shop now&#39; button." srcset="//casper.com/cdn/shop/files/Dream-Cool-Navigation-Image.jpg?v=1769525843&amp;width=200 200w, //casper.com/cdn/shop/files/Dream-Cool-Navigation-Image.jpg?v=1769525843&amp;width=300 300w, //casper.com/cdn/shop/files/Dream-Cool-Navigation-Image.jpg?v=1769525843&amp;width=400 400w" width="800" height="576" loading="lazy" fetchpriority="low" sizes="(max-width: 699px) 172px, (max-width: 1149px) 192px,minmax(220px, 440px)
" class="zoom-image"></a>
    </div></div>
</div>
</details></li>

                  <li>


                          <details is="mega-menu-disclosure" trigger="hover" >
                            <summary
                              class="nav-header-text text-with-icon gap-2 bold link-faded-reverse 
                              
                              
                              " 
                              data-url="/collections/bundle-save"
                            >Bundles</summary><style>
    @media screen and (min-width: 1150px) {
      #mega-menu-mega_menu_84YLke {
        --mega-menu-nav-column-max-width: 160px;
        --mega-menu-justify-content: space-between;
        --mega-menu-nav-gap: var(--spacing-12);

        
          --column-list-max-width: 75%;
        
      }
    }

    @media screen and (min-width: 1400px) {
      #mega-menu-mega_menu_84YLke {
        --mega-menu-nav-column-max-width: 180px;
        --mega-menu-nav-gap: var(--spacing-16);

        
          --column-list-max-width: max-content;
        
      }
    }

    @media screen and (min-width: 1800px) {
      #mega-menu-mega_menu_84YLke {
        --mega-menu-nav-gap: var(--spacing-20);
      }
    }

    @media screen and (min-width: 1024px) and (max-width: 1253px) {
      #mega-menu-mega_menu_84YLke {
        --mega-menu-nav-gap: var(--spacing-18);
        --column-list-max-width: 100%;
        --mega-menu-nav-column-max-width: 100%;
      }

      .mega-menu__nav{
        flex-wrap: nowrap;
      }

      .navigation-promo__wrapper{
        display: none;
      }


    }
    @media screen and (min-width: 1254px) and (max-width: 1439px) {
      #mega-menu-mega_menu_84YLke {
        --mega-menu-nav-gap: var(--spacing-10);
      }
    }

    @media screen and (min-width: 1440px) {
      #mega-menu-mega_menu_84YLke {
        --mega-menu-nav-gap: var(--spacing-18);
      }
    }
  </style>

<div id="mega-menu-mega_menu_84YLke" class="mega-menu "><ul class="mega-menu__nav" role="list"><li class="v-stack gap-4 justify-items-start">
          <a href="/collections/bundle-save" class="" >
            <span class=" bold-heading-link-faded  " >Core Bundles</span>
            <p class="nav_sub_link_description" data-menu-name="bundles_core_bundles"></p>
          </a><ul class="v-stack gap-2 justify-items-start" role="list"><li>
                  <a href="/products/bestselling-bundle" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Best-Selling Bundle</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="bundles_best_selling_bundle"></p>
                </li><li>
                  <a href="/products/dream-bundle" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Dream Bundle</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="bundles_dream_bundle"></p>
                </li><li>
                  <a href="/products/comfy-bundle" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Comfy Bundle</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="bundles_comfy_bundle"></p>
                </li></ul></li><li class="v-stack gap-4 justify-items-start">
          <a href="/collections/bundle-save" class="" >
            <span class=" bold-heading-link-faded  " >Cooling Bundles</span>
            <p class="nav_sub_link_description" data-menu-name="bundles_cooling_bundles"></p>
          </a><ul class="v-stack gap-2 justify-items-start" role="list"><li>
                  <a href="/products/snow-bundle" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Snow Bundle</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="bundles_snow_bundle"></p>
                </li><li>
                  <a href="/products/cool-sleep-bundle" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Cool Sleep Bundle</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="bundles_cool_sleep_bundle"></p>
                </li></ul></li><li class="v-stack gap-4 justify-items-start">
          <a href="/collections/bundle-save" class="" >
            <span class=" bold-heading-link-faded  " >Adjustable Bundles</span>
            <p class="nav_sub_link_description" data-menu-name="bundles_adjustable_bundles"></p>
          </a><ul class="v-stack gap-2 justify-items-start" role="list"><li>
                  <a href="/products/adjustable-bundle" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Adjustable Bundle</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="bundles_adjustable_bundle"></p>
                </li><li>
                  <a href="/products/adjustable-pro-bundle" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Adjustable Pro Bundle</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="bundles_adjustable_pro_bundle"></p>
                </li><li>
                  <a href="/products/adjustable-max-bundle" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Adjustable Max Bundle</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="bundles_adjustable_max_bundle"></p>
                </li></ul></li><li class="v-stack gap-4 justify-items-start">
          <a href="/collections/bundle-save" class="" >
            <span class=" bold-heading-link-faded   shop_all_nav_titles_desktop " >Shop all bundles</span>
            <p class="nav_sub_link_description" data-menu-name="bundles_shop_all_bundles"></p>
          </a><ul class="v-stack gap-2 justify-items-start" role="list"><li>
                  <a href="/products/build-your-own-bundle" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Build Your Own Bundle</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="bundles_build_your_own_bundle"></p>
                </li></ul></li></ul>





<style>
  #navigation-promo-mega_menu_84YLke-4- {
    --navigation-promo-grid: 
  
    auto / repeat(1, minmax(var(--mega-menu-promo-grid-image-min-width), var(--mega-menu-promo-grid-image-max-width)))

  
;
    --mega-menu-promo-grid-image-max-width: 300px;
    --mega-menu-promo-grid-image-min-width: 172px;
    --promo-heading-font-size: var(--text-h5);
    --content-over-media-row-gap: var(--spacing-3);
    --content-over-media-column-gap: var(--spacing-4);--navigation-promo-gap: var(--spacing-2);
      --panel-wrapper-justify-content: flex-start;}

  #navigation-promo-mega_menu_84YLke-4- .navigation-promo__carousel-controls {inset-block-end: var(--content-over-media-column-gap);}

  @media screen and (min-width:700px) {
    #navigation-promo-mega_menu_84YLke-4- {--promo-heading-font-size: var(--text-h6);--mega-menu-promo-grid-image-min-width: 192px;
      --content-over-media-row-gap: var(--spacing-4);
      --content-over-media-column-gap: var(--spacing-5);
    }
  }@media screen and (min-width: 1150px) {
      #navigation-promo-mega_menu_84YLke-4- {
        --promo-heading-font-size: var(--text-h4);
        --promo-heading-line-height: 1.3;
        --navigation-promo-gap: var(--spacing-0-5);
        --mega-menu-promo-grid-image-min-width: 220px;

        

        
          margin-block-start: calc(-1 * var(--mega-menu-block-padding));
          margin-block-end: calc(-1 * var(--mega-menu-block-padding));
          margin-inline-end: calc(-1 * (100vw - min(100vw - var(--container-gutter) * 2, var(--container-max-width))) / 2);

          
        
      }

      
        #navigation-promo-mega_menu_84YLke-4- {
          --content-over-media-row-gap: var(--spacing-6);
          --content-over-media-column-gap: var(--spacing-8);
        }
      
    }

    @media screen and (min-width: 1400px) {
      #navigation-promo-mega_menu_84YLke-4- {
        --mega-menu-promo-grid-image-max-width: 500px;

        
      }

      
        #navigation-promo-mega_menu_84YLke-4- {
          --content-over-media-row-gap: var(--spacing-6);
          --content-over-media-column-gap: var(--spacing-8);
        }
      
    }

    @media screen and (min-width: 1254px) and (max-width: 1439px) {
      #navigation-promo-mega_menu_84YLke-4- {
        --mega-menu-promo-grid-image-max-width: 500px;
      }
    }</style><div class="navigation-promo__wrapper  " id="navigation-promo-mega_menu_84YLke-4-"><div class="navigation-promo navigation-promo--grid scroll-area bleed" tabindex="0">
      <a href="/collections/bundle-save"
         class="content-over-media  group "
         style="--text-color: 1 33 105; grid-area: ;"><img src="//casper.com/cdn/shop/files/2025-Q4-default-navigation-flydown-Bundles.jpg?v=1761320283" alt="A couple lies back on their mattress smiling. Promotional text on the image says, &quot;Customize your setup. Shop bundles.&quot;" srcset="//casper.com/cdn/shop/files/2025-Q4-default-navigation-flydown-Bundles.jpg?v=1761320283&amp;width=200 200w, //casper.com/cdn/shop/files/2025-Q4-default-navigation-flydown-Bundles.jpg?v=1761320283&amp;width=300 300w, //casper.com/cdn/shop/files/2025-Q4-default-navigation-flydown-Bundles.jpg?v=1761320283&amp;width=400 400w" width="882" height="636" loading="lazy" fetchpriority="low" sizes="(max-width: 699px) 172px, (max-width: 1149px) 192px,minmax(220px, 440px)
" class="zoom-image"></a>
    </div></div>
</div>
</details></li>

                  <li>


                          <details is="mega-menu-disclosure" trigger="hover" >
                            <summary
                              class="nav-header-text text-with-icon gap-2 bold link-faded-reverse 
                              
                              
                              " 
                              data-url="/collections/pillows"
                            >Pillows</summary><style>
    @media screen and (min-width: 1150px) {
      #mega-menu-mega_menu_T3Hqte {
        --mega-menu-nav-column-max-width: 160px;
        --mega-menu-justify-content: space-between;
        --mega-menu-nav-gap: var(--spacing-12);

        
          --column-list-max-width: 75%;
        
      }
    }

    @media screen and (min-width: 1400px) {
      #mega-menu-mega_menu_T3Hqte {
        --mega-menu-nav-column-max-width: 180px;
        --mega-menu-nav-gap: var(--spacing-16);

        
          --column-list-max-width: max-content;
        
      }
    }

    @media screen and (min-width: 1800px) {
      #mega-menu-mega_menu_T3Hqte {
        --mega-menu-nav-gap: var(--spacing-20);
      }
    }

    @media screen and (min-width: 1024px) and (max-width: 1253px) {
      #mega-menu-mega_menu_T3Hqte {
        --mega-menu-nav-gap: var(--spacing-18);
        --column-list-max-width: 100%;
        --mega-menu-nav-column-max-width: 100%;
      }

      .mega-menu__nav{
        flex-wrap: nowrap;
      }

      .navigation-promo__wrapper{
        display: none;
      }


    }
    @media screen and (min-width: 1254px) and (max-width: 1439px) {
      #mega-menu-mega_menu_T3Hqte {
        --mega-menu-nav-gap: var(--spacing-10);
      }
    }

    @media screen and (min-width: 1440px) {
      #mega-menu-mega_menu_T3Hqte {
        --mega-menu-nav-gap: var(--spacing-18);
      }
    }
  </style>

<div id="mega-menu-mega_menu_T3Hqte" class="mega-menu "><ul class="mega-menu__nav" role="list"><li class="v-stack gap-4 justify-items-start">
          <a href="https://casper.com/collections/pillows#Fiber" class="" >
            <span class=" bold-heading-link-faded  " >Fiber</span>
            <p class="nav_sub_link_description" data-menu-name="pillows_fiber"></p>
          </a><ul class="v-stack gap-2 justify-items-start" role="list"><li>
                  <a href="/products/pillows" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Original Pillow</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="pillows_original_pillow"></p>
                </li><li>
                  <a href="/products/down-pillow" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Down Pillow</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="pillows_down_pillow"></p>
                </li></ul></li><li class="v-stack gap-4 justify-items-start">
          <a href="https://casper.com/collections/pillows#Foam" class="" >
            <span class=" bold-heading-link-faded  " >Foam</span>
            <p class="nav_sub_link_description" data-menu-name="pillows_foam"></p>
          </a><ul class="v-stack gap-2 justify-items-start" role="list"><li>
                  <a href="/products/low-loft-foam-pillow" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Foam Pillow</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="pillows_foam_pillow"></p>
                </li><li>
                  <a href="/products/foam-snow-pillow" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Foam Snow Pillow</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="pillows_foam_snow_pillow"></p>
                </li></ul></li><li class="v-stack gap-4 justify-items-start">
          <a href="https://casper.com/collections/pillows#Hybrid" class="" >
            <span class=" bold-heading-link-faded  " >Hybrid</span>
            <p class="nav_sub_link_description" data-menu-name="pillows_hybrid"></p>
          </a><ul class="v-stack gap-2 justify-items-start" role="list"><li>
                  <a href="/products/hybrid-pillow" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Hybrid Pillow</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="pillows_hybrid_pillow"></p>
                </li><li>
                  <a href="/products/hybrid-snow-pillow" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Hybrid Snow Pillow</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="pillows_hybrid_snow_pillow"></p>
                </li><li>
                  <a href="/products/backrest-pillow" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Backrest Pillow</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="pillows_backrest_pillow"></p>
                </li></ul></li><li class="v-stack gap-4 justify-items-start">
          <a href="/collections/pillows" class="" >
            <span class=" bold-heading-link-faded   shop_all_nav_titles_desktop " >Shop all pillows</span>
            <p class="nav_sub_link_description" data-menu-name="pillows_shop_all_pillows"></p>
          </a><ul class="v-stack gap-2 justify-items-start" role="list"><li>
                  <a href="/pages/pillow-quiz" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  
                      extra_header_nav_links
                    ">Take the quiz</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="pillows_take_the_quiz"></p>
                </li></ul></li></ul>





<style>
  #navigation-promo-mega_menu_T3Hqte-4- {
    --navigation-promo-grid: 
  
    auto / repeat(1, minmax(var(--mega-menu-promo-grid-image-min-width), var(--mega-menu-promo-grid-image-max-width)))

  
;
    --mega-menu-promo-grid-image-max-width: 300px;
    --mega-menu-promo-grid-image-min-width: 172px;
    --promo-heading-font-size: var(--text-h5);
    --content-over-media-row-gap: var(--spacing-3);
    --content-over-media-column-gap: var(--spacing-4);--navigation-promo-gap: var(--spacing-2);
      --panel-wrapper-justify-content: flex-start;}

  #navigation-promo-mega_menu_T3Hqte-4- .navigation-promo__carousel-controls {inset-block-end: var(--content-over-media-column-gap);}

  @media screen and (min-width:700px) {
    #navigation-promo-mega_menu_T3Hqte-4- {--promo-heading-font-size: var(--text-h6);--mega-menu-promo-grid-image-min-width: 192px;
      --content-over-media-row-gap: var(--spacing-4);
      --content-over-media-column-gap: var(--spacing-5);
    }
  }@media screen and (min-width: 1150px) {
      #navigation-promo-mega_menu_T3Hqte-4- {
        --promo-heading-font-size: var(--text-h4);
        --promo-heading-line-height: 1.3;
        --navigation-promo-gap: var(--spacing-0-5);
        --mega-menu-promo-grid-image-min-width: 220px;

        

        
          margin-block-start: calc(-1 * var(--mega-menu-block-padding));
          margin-block-end: calc(-1 * var(--mega-menu-block-padding));
          margin-inline-end: calc(-1 * (100vw - min(100vw - var(--container-gutter) * 2, var(--container-max-width))) / 2);

          
        
      }

      
        #navigation-promo-mega_menu_T3Hqte-4- {
          --content-over-media-row-gap: var(--spacing-6);
          --content-over-media-column-gap: var(--spacing-8);
        }
      
    }

    @media screen and (min-width: 1400px) {
      #navigation-promo-mega_menu_T3Hqte-4- {
        --mega-menu-promo-grid-image-max-width: 500px;

        
      }

      
        #navigation-promo-mega_menu_T3Hqte-4- {
          --content-over-media-row-gap: var(--spacing-6);
          --content-over-media-column-gap: var(--spacing-8);
        }
      
    }

    @media screen and (min-width: 1254px) and (max-width: 1439px) {
      #navigation-promo-mega_menu_T3Hqte-4- {
        --mega-menu-promo-grid-image-max-width: 500px;
      }
    }</style><div class="navigation-promo__wrapper  " id="navigation-promo-mega_menu_T3Hqte-4-"><div class="navigation-promo navigation-promo--grid scroll-area bleed" tabindex="0">
      <a href="/pages/pillow-quiz"
         class="content-over-media  group "
         style="--text-color: 30 48 110; grid-area: ;"><img src="//casper.com/cdn/shop/files/2025-Q4-default-navigation-flydown-Pillow-Quiz.jpg?v=1761320295" alt="Person lying on a mattress and squeezing a pillow with promotional text overlay that says, &quot;Find your perfect pillow match. Take the Pillow Quiz.&quot;" srcset="//casper.com/cdn/shop/files/2025-Q4-default-navigation-flydown-Pillow-Quiz.jpg?v=1761320295&amp;width=200 200w, //casper.com/cdn/shop/files/2025-Q4-default-navigation-flydown-Pillow-Quiz.jpg?v=1761320295&amp;width=300 300w, //casper.com/cdn/shop/files/2025-Q4-default-navigation-flydown-Pillow-Quiz.jpg?v=1761320295&amp;width=400 400w" width="882" height="636" loading="lazy" fetchpriority="low" sizes="(max-width: 699px) 172px, (max-width: 1149px) 192px,minmax(220px, 440px)
" class="zoom-image"></a>
    </div></div>
</div>
</details></li>

                  <li>


                          <details is="mega-menu-disclosure" trigger="hover" >
                            <summary
                              class="nav-header-text text-with-icon gap-2 bold link-faded-reverse 
                              
                              
                              " 
                              data-url="/collections/furniture"
                            >Furniture</summary><style>
    @media screen and (min-width: 1150px) {
      #mega-menu-mega_menu_Pqp4U9 {
        --mega-menu-nav-column-max-width: 160px;
        --mega-menu-justify-content: space-between;
        --mega-menu-nav-gap: var(--spacing-12);

        
          --column-list-max-width: 75%;
        
      }
    }

    @media screen and (min-width: 1400px) {
      #mega-menu-mega_menu_Pqp4U9 {
        --mega-menu-nav-column-max-width: 180px;
        --mega-menu-nav-gap: var(--spacing-16);

        
          --column-list-max-width: max-content;
        
      }
    }

    @media screen and (min-width: 1800px) {
      #mega-menu-mega_menu_Pqp4U9 {
        --mega-menu-nav-gap: var(--spacing-20);
      }
    }

    @media screen and (min-width: 1024px) and (max-width: 1253px) {
      #mega-menu-mega_menu_Pqp4U9 {
        --mega-menu-nav-gap: var(--spacing-18);
        --column-list-max-width: 100%;
        --mega-menu-nav-column-max-width: 100%;
      }

      .mega-menu__nav{
        flex-wrap: nowrap;
      }

      .navigation-promo__wrapper{
        display: none;
      }


    }
    @media screen and (min-width: 1254px) and (max-width: 1439px) {
      #mega-menu-mega_menu_Pqp4U9 {
        --mega-menu-nav-gap: var(--spacing-10);
      }
    }

    @media screen and (min-width: 1440px) {
      #mega-menu-mega_menu_Pqp4U9 {
        --mega-menu-nav-gap: var(--spacing-18);
      }
    }
  </style>

<div id="mega-menu-mega_menu_Pqp4U9" class="mega-menu "><ul class="mega-menu__nav" role="list"><li class="v-stack gap-4 justify-items-start">
          <a href="/collections/adjustable-bases" class="" >
            <span class=" bold-heading-link-faded  " >Adjustable Bed Frames</span>
            <p class="nav_sub_link_description" data-menu-name="furniture_adjustable_bed_frames"></p>
          </a><ul class="v-stack gap-2 justify-items-start" role="list"><li>
                  <a href="/products/lift-adjustable" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Adjustable Base</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="furniture_adjustable_base"></p>
                </li><li>
                  <a href="/products/lift-pro-adjustable" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Adjustable Base Pro</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="furniture_adjustable_base_pro"></p>
                </li><li>
                  <a href="/products/lift-max-adjustable" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Adjustable Base Max</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="furniture_adjustable_base_max"></p>
                </li></ul></li><li class="v-stack gap-4 justify-items-start">
          <a href="/collections/bed-frames" class="" >
            <span class=" bold-heading-link-faded  " >Bed Frames</span>
            <p class="nav_sub_link_description" data-menu-name="furniture_bed_frames"></p>
          </a><ul class="v-stack gap-2 justify-items-start" role="list"><li>
                  <a href="/products/foundation" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">The Foundation</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="furniture_the_foundation"></p>
                </li><li>
                  <a href="/products/metal-bed-frame" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Metal Bed Frame</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="furniture_metal_bed_frame"></p>
                </li><li>
                  <a href="/products/upholstered-bed-frame" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Upholstered Bed Frame</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="furniture_upholstered_bed_frame"></p>
                </li><li>
                  <a href="/products/haven-bed-frame" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Haven Bed Frame</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="furniture_haven_bed_frame"></p>
                </li><li>
                  <a href="/products/repose-bed-frame" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Repose Bed Frame</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="furniture_repose_bed_frame"></p>
                </li></ul></li><li class="v-stack gap-4 justify-items-start">
          <a href="/collections/headboards" class="" >
            <span class=" bold-heading-link-faded  " >Headboards</span>
            <p class="nav_sub_link_description" data-menu-name="furniture_headboards"></p>
          </a><ul class="v-stack gap-2 justify-items-start" role="list"><li>
                  <a href="/products/headboard-bliss" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Bliss Attachable Headboard</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="furniture_bliss_attachable_headboard"></p>
                </li><li>
                  <a href="/products/headboard-drift" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Drift Attachable Headboard</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="furniture_drift_attachable_headboard"></p>
                </li><li>
                  <a href="/products/wood-headboard" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Wood Repose Headboard</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="furniture_wood_repose_headboard"></p>
                </li><li>
                  <a href="/products/pillow-headboard" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Pillow Repose Headboard</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="furniture_pillow_repose_headboard"></p>
                </li></ul></li><li class="v-stack gap-4 justify-items-start">
          <a href="/collections/furniture" class="" >
            <span class=" bold-heading-link-faded   shop_all_nav_titles_desktop " >Shop all furniture</span>
            <p class="nav_sub_link_description" data-menu-name="furniture_shop_all_furniture"></p>
          </a></li></ul>





<style>
  #navigation-promo-mega_menu_Pqp4U9-4- {
    --navigation-promo-grid: 
  
    auto / repeat(1, minmax(var(--mega-menu-promo-grid-image-min-width), var(--mega-menu-promo-grid-image-max-width)))

  
;
    --mega-menu-promo-grid-image-max-width: 300px;
    --mega-menu-promo-grid-image-min-width: 172px;
    --promo-heading-font-size: var(--text-h5);
    --content-over-media-row-gap: var(--spacing-3);
    --content-over-media-column-gap: var(--spacing-4);--navigation-promo-gap: var(--spacing-2);
      --panel-wrapper-justify-content: flex-start;}

  #navigation-promo-mega_menu_Pqp4U9-4- .navigation-promo__carousel-controls {inset-block-end: var(--content-over-media-column-gap);}

  @media screen and (min-width:700px) {
    #navigation-promo-mega_menu_Pqp4U9-4- {--promo-heading-font-size: var(--text-h6);--mega-menu-promo-grid-image-min-width: 192px;
      --content-over-media-row-gap: var(--spacing-4);
      --content-over-media-column-gap: var(--spacing-5);
    }
  }@media screen and (min-width: 1150px) {
      #navigation-promo-mega_menu_Pqp4U9-4- {
        --promo-heading-font-size: var(--text-h4);
        --promo-heading-line-height: 1.3;
        --navigation-promo-gap: var(--spacing-0-5);
        --mega-menu-promo-grid-image-min-width: 220px;

        

        
          margin-block-start: calc(-1 * var(--mega-menu-block-padding));
          margin-block-end: calc(-1 * var(--mega-menu-block-padding));
          margin-inline-end: calc(-1 * (100vw - min(100vw - var(--container-gutter) * 2, var(--container-max-width))) / 2);

          
        
      }

      
        #navigation-promo-mega_menu_Pqp4U9-4- {
          --content-over-media-row-gap: var(--spacing-6);
          --content-over-media-column-gap: var(--spacing-8);
        }
      
    }

    @media screen and (min-width: 1400px) {
      #navigation-promo-mega_menu_Pqp4U9-4- {
        --mega-menu-promo-grid-image-max-width: 500px;

        
      }

      
        #navigation-promo-mega_menu_Pqp4U9-4- {
          --content-over-media-row-gap: var(--spacing-6);
          --content-over-media-column-gap: var(--spacing-8);
        }
      
    }

    @media screen and (min-width: 1254px) and (max-width: 1439px) {
      #navigation-promo-mega_menu_Pqp4U9-4- {
        --mega-menu-promo-grid-image-max-width: 500px;
      }
    }</style><div class="navigation-promo__wrapper  " id="navigation-promo-mega_menu_Pqp4U9-4-"><div class="navigation-promo navigation-promo--grid scroll-area bleed" tabindex="0">
      <a href="/collections/furniture"
         class="content-over-media  group "
         style="--text-color: 30 48 110; grid-area: ;"><img src="//casper.com/cdn/shop/files/2025-Q4-default-navigation-flydown-Furniture.jpg?v=1761320302" alt="A couple sits on their mattress against a wooden headboard. Promotional text on the image says, &quot;Build your bedroom here. Shop furniture.&quot;" srcset="//casper.com/cdn/shop/files/2025-Q4-default-navigation-flydown-Furniture.jpg?v=1761320302&amp;width=200 200w, //casper.com/cdn/shop/files/2025-Q4-default-navigation-flydown-Furniture.jpg?v=1761320302&amp;width=300 300w, //casper.com/cdn/shop/files/2025-Q4-default-navigation-flydown-Furniture.jpg?v=1761320302&amp;width=400 400w" width="882" height="636" loading="lazy" fetchpriority="low" sizes="(max-width: 699px) 172px, (max-width: 1149px) 192px,minmax(220px, 440px)
" class="zoom-image"></a>
    </div></div>
</div>
</details></li>

                  <li>


                          <details is="mega-menu-disclosure" trigger="hover" >
                            <summary
                              class="nav-header-text text-with-icon gap-2 bold link-faded-reverse 
                              
                              
                              " 
                              data-url="/collections/bedding"
                            >Bedding</summary><style>
    @media screen and (min-width: 1150px) {
      #mega-menu-mega_menu_DXzNzL {
        --mega-menu-nav-column-max-width: 160px;
        --mega-menu-justify-content: space-between;
        --mega-menu-nav-gap: var(--spacing-12);

        
          --column-list-max-width: 75%;
        
      }
    }

    @media screen and (min-width: 1400px) {
      #mega-menu-mega_menu_DXzNzL {
        --mega-menu-nav-column-max-width: 180px;
        --mega-menu-nav-gap: var(--spacing-16);

        
          --column-list-max-width: max-content;
        
      }
    }

    @media screen and (min-width: 1800px) {
      #mega-menu-mega_menu_DXzNzL {
        --mega-menu-nav-gap: var(--spacing-20);
      }
    }

    @media screen and (min-width: 1024px) and (max-width: 1253px) {
      #mega-menu-mega_menu_DXzNzL {
        --mega-menu-nav-gap: var(--spacing-18);
        --column-list-max-width: 100%;
        --mega-menu-nav-column-max-width: 100%;
      }

      .mega-menu__nav{
        flex-wrap: nowrap;
      }

      .navigation-promo__wrapper{
        display: none;
      }


    }
    @media screen and (min-width: 1254px) and (max-width: 1439px) {
      #mega-menu-mega_menu_DXzNzL {
        --mega-menu-nav-gap: var(--spacing-10);
      }
    }

    @media screen and (min-width: 1440px) {
      #mega-menu-mega_menu_DXzNzL {
        --mega-menu-nav-gap: var(--spacing-18);
      }
    }
  </style>

<div id="mega-menu-mega_menu_DXzNzL" class="mega-menu "><ul class="mega-menu__nav" role="list"><li class="v-stack gap-4 justify-items-start">
          <a href="/collections/sheets" class="" >
            <span class=" bold-heading-link-faded  " >Sheets</span>
            <p class="nav_sub_link_description" data-menu-name="bedding_sheets"></p>
          </a><ul class="v-stack gap-2 justify-items-start" role="list"><li>
                  <a href="https://casper.com/products/percale-sheet-set?variant=41670977290321" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Percale Sheet Set</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="bedding_percale_sheet_set"></p>
                </li><li>
                  <a href="https://casper.com/products/supersoft-sheet-set?variant=41670977847377" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Supersoft Sheet Set</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="bedding_supersoft_sheet_set"></p>
                </li><li>
                  <a href="https://casper.com/products/hyperlite-sheet-set?variant=41670976667729" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Hyperlite Sheet Set</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="bedding_hyperlite_sheet_set"></p>
                </li></ul></li><li class="v-stack gap-4 justify-items-start">
          <a href="/collections/protectors" class="" >
            <span class=" bold-heading-link-faded  " >Mattress Protectors</span>
            <p class="nav_sub_link_description" data-menu-name="bedding_mattress_protectors"></p>
          </a><ul class="v-stack gap-2 justify-items-start" role="list"><li>
                  <a href="https://casper.com/products/mattress-protector?variant=41670975422545" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Waterproof Mattress Protector</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="bedding_waterproof_mattress_protector"></p>
                </li><li>
                  <a href="https://casper.com/products/breathable-mattress-protector?variant=41670975619153" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Breathable Mattress Protector</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="bedding_breathable_mattress_protector"></p>
                </li></ul></li><li class="v-stack gap-4 justify-items-start">
          <a href="/collections/duvets" class="" >
            <span class=" bold-heading-link-faded  " >Duvets</span>
            <p class="nav_sub_link_description" data-menu-name="bedding_duvets"></p>
          </a><ul class="v-stack gap-2 justify-items-start" role="list"><li>
                  <a href="https://casper.com/products/duvet-insert?variant=41670979682385" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Down Duvet</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="bedding_down_duvet"></p>
                </li><li>
                  <a href="https://casper.com/products/down-alt-duvet?variant=41670979584081" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Down-Alt Duvet</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="bedding_down_alt_duvet"></p>
                </li><li>
                  <a href="/products/lightweight-down-alt-duvet" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Lightweight Down Alt Duvet</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="bedding_lightweight_down_alt_duvet"></p>
                </li></ul></li><li class="v-stack gap-4 justify-items-start">
          <a href="/collections/bedding" class="" >
            <span class=" bold-heading-link-faded   shop_all_nav_titles_desktop " >Shop all bedding</span>
            <p class="nav_sub_link_description" data-menu-name="bedding_shop_all_bedding"></p>
          </a><ul class="v-stack gap-2 justify-items-start" role="list"><li>
                  <a href="/collections/clearance" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  shop_clearance_menu  ">Shop Clearance</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="bedding_shop_clearance"></p>
                </li></ul></li></ul>





<style>
  #navigation-promo-mega_menu_DXzNzL-4- {
    --navigation-promo-grid: 
  
    auto / repeat(1, minmax(var(--mega-menu-promo-grid-image-min-width), var(--mega-menu-promo-grid-image-max-width)))

  
;
    --mega-menu-promo-grid-image-max-width: 300px;
    --mega-menu-promo-grid-image-min-width: 172px;
    --promo-heading-font-size: var(--text-h5);
    --content-over-media-row-gap: var(--spacing-3);
    --content-over-media-column-gap: var(--spacing-4);--navigation-promo-gap: var(--spacing-2);
      --panel-wrapper-justify-content: flex-start;}

  #navigation-promo-mega_menu_DXzNzL-4- .navigation-promo__carousel-controls {inset-block-end: var(--content-over-media-column-gap);}

  @media screen and (min-width:700px) {
    #navigation-promo-mega_menu_DXzNzL-4- {--promo-heading-font-size: var(--text-h6);--mega-menu-promo-grid-image-min-width: 192px;
      --content-over-media-row-gap: var(--spacing-4);
      --content-over-media-column-gap: var(--spacing-5);
    }
  }@media screen and (min-width: 1150px) {
      #navigation-promo-mega_menu_DXzNzL-4- {
        --promo-heading-font-size: var(--text-h4);
        --promo-heading-line-height: 1.3;
        --navigation-promo-gap: var(--spacing-0-5);
        --mega-menu-promo-grid-image-min-width: 220px;

        

        
          margin-block-start: calc(-1 * var(--mega-menu-block-padding));
          margin-block-end: calc(-1 * var(--mega-menu-block-padding));
          margin-inline-end: calc(-1 * (100vw - min(100vw - var(--container-gutter) * 2, var(--container-max-width))) / 2);

          
        
      }

      
        #navigation-promo-mega_menu_DXzNzL-4- {
          --content-over-media-row-gap: var(--spacing-6);
          --content-over-media-column-gap: var(--spacing-8);
        }
      
    }

    @media screen and (min-width: 1400px) {
      #navigation-promo-mega_menu_DXzNzL-4- {
        --mega-menu-promo-grid-image-max-width: 500px;

        
      }

      
        #navigation-promo-mega_menu_DXzNzL-4- {
          --content-over-media-row-gap: var(--spacing-6);
          --content-over-media-column-gap: var(--spacing-8);
        }
      
    }

    @media screen and (min-width: 1254px) and (max-width: 1439px) {
      #navigation-promo-mega_menu_DXzNzL-4- {
        --mega-menu-promo-grid-image-max-width: 500px;
      }
    }</style><div class="navigation-promo__wrapper  " id="navigation-promo-mega_menu_DXzNzL-4-"><div class="navigation-promo navigation-promo--grid scroll-area bleed" tabindex="0">
      <a href="/collections/bedding"
         class="content-over-media  group "
         style="--text-color: 30 48 110; grid-area: ;"><img src="//casper.com/cdn/shop/files/2025-Q4-default-navigation-flydown-Bedding.jpg?v=1761320306" alt="Woman sleeping under a blanket with promotional text that says, &quot;Wrap yourself in something cozy. Shop bedding.&quot;" srcset="//casper.com/cdn/shop/files/2025-Q4-default-navigation-flydown-Bedding.jpg?v=1761320306&amp;width=200 200w, //casper.com/cdn/shop/files/2025-Q4-default-navigation-flydown-Bedding.jpg?v=1761320306&amp;width=300 300w, //casper.com/cdn/shop/files/2025-Q4-default-navigation-flydown-Bedding.jpg?v=1761320306&amp;width=400 400w" width="882" height="636" loading="lazy" fetchpriority="low" sizes="(max-width: 699px) 172px, (max-width: 1149px) 192px,minmax(220px, 440px)
" class="zoom-image"></a>
    </div></div>
</div>
</details></li>

                  <li>


                          <details is="mega-menu-disclosure" trigger="hover" >
                            <summary
                              class="nav-header-text text-with-icon gap-2 bold link-faded-reverse 
                              
                              
                              " 
                              data-url="/collections/accessories"
                            >Accessories</summary><style>
    @media screen and (min-width: 1150px) {
      #mega-menu-mega_menu_twXfYa {
        --mega-menu-nav-column-max-width: 160px;
        --mega-menu-justify-content: space-between;
        --mega-menu-nav-gap: var(--spacing-12);

        
          --column-list-max-width: 75%;
        
      }
    }

    @media screen and (min-width: 1400px) {
      #mega-menu-mega_menu_twXfYa {
        --mega-menu-nav-column-max-width: 180px;
        --mega-menu-nav-gap: var(--spacing-16);

        
          --column-list-max-width: max-content;
        
      }
    }

    @media screen and (min-width: 1800px) {
      #mega-menu-mega_menu_twXfYa {
        --mega-menu-nav-gap: var(--spacing-20);
      }
    }

    @media screen and (min-width: 1024px) and (max-width: 1253px) {
      #mega-menu-mega_menu_twXfYa {
        --mega-menu-nav-gap: var(--spacing-18);
        --column-list-max-width: 100%;
        --mega-menu-nav-column-max-width: 100%;
      }

      .mega-menu__nav{
        flex-wrap: nowrap;
      }

      .navigation-promo__wrapper{
        display: none;
      }


    }
    @media screen and (min-width: 1254px) and (max-width: 1439px) {
      #mega-menu-mega_menu_twXfYa {
        --mega-menu-nav-gap: var(--spacing-10);
      }
    }

    @media screen and (min-width: 1440px) {
      #mega-menu-mega_menu_twXfYa {
        --mega-menu-nav-gap: var(--spacing-18);
      }
    }
  </style>

<div id="mega-menu-mega_menu_twXfYa" class="mega-menu "><ul class="mega-menu__nav" role="list"><li class="v-stack gap-4 justify-items-start">
          <a href="/collections/mattress-toppers" class="" >
            <span class=" bold-heading-link-faded  " >Mattress Toppers</span>
            <p class="nav_sub_link_description" data-menu-name="accessories_mattress_toppers"></p>
          </a><ul class="v-stack gap-2 justify-items-start" role="list"><li>
                  <a href="/products/mattress-topper-2" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Mattress Topper 2-Inch</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="accessories_mattress_topper_2_inch"></p>
                </li><li>
                  <a href="/products/mattress-topper-3" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Mattress Topper 3-Inch</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="accessories_mattress_topper_3_inch"></p>
                </li></ul></li><li class="v-stack gap-4 justify-items-start">
          <a href="/products/glow" class="" >
            <span class=" bold-heading-link-faded  " >Glow</span>
            <p class="nav_sub_link_description" data-menu-name="accessories_glow"></p>
          </a><ul class="v-stack gap-2 justify-items-start" role="list"><li>
                  <a href="/products/glow" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Glow Light</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="accessories_glow_light"></p>
                </li><li>
                  <a href="/products/glow-nightlight" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Glow Night Light</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="accessories_glow_night_light"></p>
                </li></ul></li><li class="v-stack gap-4 justify-items-start">
          <a href="/collections/accessories" class="" >
            <span class=" bold-heading-link-faded  " >The Rest</span>
            <p class="nav_sub_link_description" data-menu-name="accessories_the_rest"></p>
          </a><ul class="v-stack gap-2 justify-items-start" role="list"><li>
                  <a href="/products/dog-mattresses" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Dog Bed</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="accessories_dog_bed"></p>
                </li><li>
                  <a href="/products/blanket-robe" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Blanket Robe</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="accessories_blanket_robe"></p>
                </li></ul></li><li class="v-stack gap-4 justify-items-start">
          <a href="/collections/accessories" class="" >
            <span class=" bold-heading-link-faded   shop_all_nav_titles_desktop " >Shop all accessories</span>
            <p class="nav_sub_link_description" data-menu-name="accessories_shop_all_accessories"></p>
          </a><ul class="v-stack gap-2 justify-items-start" role="list"><li>
                  <a href="/products/digital-gift-card" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Digital Gift Cards</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="accessories_digital_gift_cards"></p>
                </li></ul></li></ul>





<style>
  #navigation-promo-mega_menu_twXfYa-4- {
    --navigation-promo-grid: 
  
    auto / repeat(1, minmax(var(--mega-menu-promo-grid-image-min-width), var(--mega-menu-promo-grid-image-max-width)))

  
;
    --mega-menu-promo-grid-image-max-width: 300px;
    --mega-menu-promo-grid-image-min-width: 172px;
    --promo-heading-font-size: var(--text-h5);
    --content-over-media-row-gap: var(--spacing-3);
    --content-over-media-column-gap: var(--spacing-4);--navigation-promo-gap: var(--spacing-2);
      --panel-wrapper-justify-content: flex-start;}

  #navigation-promo-mega_menu_twXfYa-4- .navigation-promo__carousel-controls {inset-block-end: var(--content-over-media-column-gap);}

  @media screen and (min-width:700px) {
    #navigation-promo-mega_menu_twXfYa-4- {--promo-heading-font-size: var(--text-h6);--mega-menu-promo-grid-image-min-width: 192px;
      --content-over-media-row-gap: var(--spacing-4);
      --content-over-media-column-gap: var(--spacing-5);
    }
  }@media screen and (min-width: 1150px) {
      #navigation-promo-mega_menu_twXfYa-4- {
        --promo-heading-font-size: var(--text-h4);
        --promo-heading-line-height: 1.3;
        --navigation-promo-gap: var(--spacing-0-5);
        --mega-menu-promo-grid-image-min-width: 220px;

        

        
          margin-block-start: calc(-1 * var(--mega-menu-block-padding));
          margin-block-end: calc(-1 * var(--mega-menu-block-padding));
          margin-inline-end: calc(-1 * (100vw - min(100vw - var(--container-gutter) * 2, var(--container-max-width))) / 2);

          
        
      }

      
        #navigation-promo-mega_menu_twXfYa-4- {
          --content-over-media-row-gap: var(--spacing-6);
          --content-over-media-column-gap: var(--spacing-8);
        }
      
    }

    @media screen and (min-width: 1400px) {
      #navigation-promo-mega_menu_twXfYa-4- {
        --mega-menu-promo-grid-image-max-width: 500px;

        
      }

      
        #navigation-promo-mega_menu_twXfYa-4- {
          --content-over-media-row-gap: var(--spacing-6);
          --content-over-media-column-gap: var(--spacing-8);
        }
      
    }

    @media screen and (min-width: 1254px) and (max-width: 1439px) {
      #navigation-promo-mega_menu_twXfYa-4- {
        --mega-menu-promo-grid-image-max-width: 500px;
      }
    }</style><div class="navigation-promo__wrapper  " id="navigation-promo-mega_menu_twXfYa-4-"><div class="navigation-promo navigation-promo--grid scroll-area bleed" tabindex="0">
      <a href="/collections/accessories"
         class="content-over-media  group "
         style="--text-color: 30 48 110; grid-area: ;"><img src="//casper.com/cdn/shop/files/2025-Q4-default-navigation-flydown-Accessories.jpg?v=1761320311" alt="Woman reading a book in bed with a nightlight. Promotional text on the image says, &quot;Find your finishing touch. Shop accessories.&quot;" srcset="//casper.com/cdn/shop/files/2025-Q4-default-navigation-flydown-Accessories.jpg?v=1761320311&amp;width=200 200w, //casper.com/cdn/shop/files/2025-Q4-default-navigation-flydown-Accessories.jpg?v=1761320311&amp;width=300 300w, //casper.com/cdn/shop/files/2025-Q4-default-navigation-flydown-Accessories.jpg?v=1761320311&amp;width=400 400w" width="882" height="636" loading="lazy" fetchpriority="low" sizes="(max-width: 699px) 172px, (max-width: 1149px) 192px,minmax(220px, 440px)
" class="zoom-image"></a>
    </div></div>
</div>
</details></li>

                  <li>


                          <details is="mega-menu-disclosure" trigger="hover" >
                            <summary
                              class="nav-header-text text-with-icon gap-2 bold link-faded-reverse 
                              
                              
                              " 
                              data-url="/pages/why-casper"
                            >Explore</summary><style>
    @media screen and (min-width: 1150px) {
      #mega-menu-mega_menu_ytyCPU {
        --mega-menu-nav-column-max-width: 160px;
        --mega-menu-justify-content: space-between;
        --mega-menu-nav-gap: var(--spacing-12);

        
          --column-list-max-width: 75%;
        
      }
    }

    @media screen and (min-width: 1400px) {
      #mega-menu-mega_menu_ytyCPU {
        --mega-menu-nav-column-max-width: 180px;
        --mega-menu-nav-gap: var(--spacing-16);

        
          --column-list-max-width: max-content;
        
      }
    }

    @media screen and (min-width: 1800px) {
      #mega-menu-mega_menu_ytyCPU {
        --mega-menu-nav-gap: var(--spacing-20);
      }
    }

    @media screen and (min-width: 1024px) and (max-width: 1253px) {
      #mega-menu-mega_menu_ytyCPU {
        --mega-menu-nav-gap: var(--spacing-18);
        --column-list-max-width: 100%;
        --mega-menu-nav-column-max-width: 100%;
      }

      .mega-menu__nav{
        flex-wrap: nowrap;
      }

      .navigation-promo__wrapper{
        display: none;
      }


    }
    @media screen and (min-width: 1254px) and (max-width: 1439px) {
      #mega-menu-mega_menu_ytyCPU {
        --mega-menu-nav-gap: var(--spacing-10);
      }
    }

    @media screen and (min-width: 1440px) {
      #mega-menu-mega_menu_ytyCPU {
        --mega-menu-nav-gap: var(--spacing-18);
      }
    }
  </style>

<div id="mega-menu-mega_menu_ytyCPU" class="mega-menu "><ul class="mega-menu__nav" role="list"><li class="v-stack gap-4 justify-items-start">
          <a href="/pages/why-casper" class="" >
            <span class=" bold-heading-link-faded  " >About Us</span>
            <p class="nav_sub_link_description" data-menu-name="explore_about_us"></p>
          </a><ul class="v-stack gap-2 justify-items-start" role="list"><li>
                  <a href="/pages/why-casper" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Why Casper?</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="explore_why_casper?"></p>
                </li><li>
                  <a href="/pages/reviews" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Reviews</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="explore_reviews"></p>
                </li><li>
                  <a href="/pages/casper-vs-competition" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Casper vs Competition</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="explore_casper_vs_competition"></p>
                </li><li>
                  <a href="/blogs/article" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Casper Blog</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="explore_casper_blog"></p>
                </li></ul></li><li class="v-stack gap-4 justify-items-start">
          <a href="/pages/financing" class="" >
            <span class=" bold-heading-link-faded  " >Offers</span>
            <p class="nav_sub_link_description" data-menu-name="explore_offers"></p>
          </a><ul class="v-stack gap-2 justify-items-start" role="list"><li>
                  <a href="/pages/financing" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Financing Options</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="explore_financing_options"></p>
                </li><li>
                  <a href="/pages/casper-community-discount" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Discount Program</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="explore_discount_program"></p>
                </li><li>
                  <a href="/pages/friends" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Refer A Friend</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="explore_refer_a_friend"></p>
                </li><li>
                  <a href="https://casper.com/pages/email-subscribe" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Welcome Offer</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="explore_welcome_offer"></p>
                </li><li>
                  <a href="/pages/promo" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Promotional Details</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="explore_promotional_details"></p>
                </li></ul></li><li class="v-stack gap-4 justify-items-start">
          <a href="/pages/contact" class="" >
            <span class=" bold-heading-link-faded  " >Help</span>
            <p class="nav_sub_link_description" data-menu-name="explore_help"></p>
          </a><ul class="v-stack gap-2 justify-items-start" role="list"><li>
                  <a href="/pages/contact" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Contact Us</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="explore_contact_us"></p>
                </li><li>
                  <a href="/pages/sleep-education" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Sleep Education</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="explore_sleep_education"></p>
                </li><li>
                  <a href="/pages/delivery" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Delivery</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="explore_delivery"></p>
                </li><li>
                  <a href="/pages/returns" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Returns</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="explore_returns"></p>
                </li></ul></li><li class="v-stack gap-4 justify-items-start">
          <a href="/collections/all" class="" >
            <span class=" bold-heading-link-faded  " >Shop All</span>
            <p class="nav_sub_link_description" data-menu-name="explore_shop_all"></p>
          </a><ul class="v-stack gap-2 justify-items-start" role="list"><li>
                  <a href="/collections/mattresses" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Mattresses</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="explore_mattresses"></p>
                </li><li>
                  <a href="/collections/pillows" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Pillows</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="explore_pillows"></p>
                </li><li>
                  <a href="/collections/bedding" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Bedding</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="explore_bedding"></p>
                </li><li>
                  <a href="/collections/cooling-collection" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  ">Cooling Collection</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="explore_cooling_collection"></p>
                </li><li>
                  <a href="/collections/clearance" class=" bold-sub-menu-text">
                    <span class="reversed-link hover:show  shop_clearance_menu  ">Clearance</span>
                  </a>
                  <p class="nav_sub_link_description" data-menu-name="explore_clearance"></p>
                </li></ul></li></ul>





<style>
  #navigation-promo-mega_menu_ytyCPU-4- {
    --navigation-promo-grid: 
  
    auto / repeat(1, minmax(var(--mega-menu-promo-grid-image-min-width), var(--mega-menu-promo-grid-image-max-width)))

  
;
    --mega-menu-promo-grid-image-max-width: 300px;
    --mega-menu-promo-grid-image-min-width: 172px;
    --promo-heading-font-size: var(--text-h5);
    --content-over-media-row-gap: var(--spacing-3);
    --content-over-media-column-gap: var(--spacing-4);--navigation-promo-gap: var(--spacing-2);
      --panel-wrapper-justify-content: flex-start;}

  #navigation-promo-mega_menu_ytyCPU-4- .navigation-promo__carousel-controls {inset-block-end: var(--content-over-media-column-gap);}

  @media screen and (min-width:700px) {
    #navigation-promo-mega_menu_ytyCPU-4- {--promo-heading-font-size: var(--text-h6);--mega-menu-promo-grid-image-min-width: 192px;
      --content-over-media-row-gap: var(--spacing-4);
      --content-over-media-column-gap: var(--spacing-5);
    }
  }@media screen and (min-width: 1150px) {
      #navigation-promo-mega_menu_ytyCPU-4- {
        --promo-heading-font-size: var(--text-h4);
        --promo-heading-line-height: 1.3;
        --navigation-promo-gap: var(--spacing-0-5);
        --mega-menu-promo-grid-image-min-width: 220px;

        

        
          margin-block-start: calc(-1 * var(--mega-menu-block-padding));
          margin-block-end: calc(-1 * var(--mega-menu-block-padding));
          margin-inline-end: calc(-1 * (100vw - min(100vw - var(--container-gutter) * 2, var(--container-max-width))) / 2);

          
        
      }

      
        #navigation-promo-mega_menu_ytyCPU-4- {
          --content-over-media-row-gap: var(--spacing-6);
          --content-over-media-column-gap: var(--spacing-8);
        }
      
    }

    @media screen and (min-width: 1400px) {
      #navigation-promo-mega_menu_ytyCPU-4- {
        --mega-menu-promo-grid-image-max-width: 500px;

        
      }

      
        #navigation-promo-mega_menu_ytyCPU-4- {
          --content-over-media-row-gap: var(--spacing-6);
          --content-over-media-column-gap: var(--spacing-8);
        }
      
    }

    @media screen and (min-width: 1254px) and (max-width: 1439px) {
      #navigation-promo-mega_menu_ytyCPU-4- {
        --mega-menu-promo-grid-image-max-width: 500px;
      }
    }</style><div class="navigation-promo__wrapper  " id="navigation-promo-mega_menu_ytyCPU-4-"><div class="navigation-promo navigation-promo--grid scroll-area bleed" tabindex="0">
      <a href="/pages/why-casper"
         class="content-over-media  group "
         style="--text-color: 255 255 255; grid-area: ;"><img src="//casper.com/cdn/shop/files/Labor-Day-Sale-2025-top-navigation-flyout-explore.jpg?v=1755030068" alt="Close-up image of someone lying comfortably on their stomach on a mattress. At bottom are the words, &quot;Why Casper?&quot;" srcset="//casper.com/cdn/shop/files/Labor-Day-Sale-2025-top-navigation-flyout-explore.jpg?v=1755030068&amp;width=200 200w, //casper.com/cdn/shop/files/Labor-Day-Sale-2025-top-navigation-flyout-explore.jpg?v=1755030068&amp;width=300 300w, //casper.com/cdn/shop/files/Labor-Day-Sale-2025-top-navigation-flyout-explore.jpg?v=1755030068&amp;width=400 400w" width="4510" height="3255" loading="lazy" fetchpriority="low" sizes="(max-width: 699px) 172px, (max-width: 1149px) 192px,minmax(220px, 440px)
" class="zoom-image"></a>
    </div></div>
</div>
</details></li>

                  <li><a href="/pages/presidents-day-mattress-sale" class="bold link-faded-reverse 
                      
                      sale-nav">Sale</a></li></ul>
            </nav></div>
      </div><div class="header__secondary-nav"><nav class="header__link-list" role="navigation" aria-label="secondary menu items">
            <ul class="contents">
</ul>
          </nav><div class="header__icon-list"><a href="https://stores.casper.com/?r=50" class="tap-area block lg:hidden" aria-label="Find a Casper store near you"><svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg" style="vertical-align: middle;">
        <path
          d="M10.9999 4.95834C11.6077 4.95834 12.1906 5.19979 12.6204 5.62956C13.0501 6.05933 13.2916 6.64222 13.2916 7.25001C13.2916 7.55096 13.2323 7.84896 13.1171 8.12699C13.002 8.40503 12.8332 8.65766 12.6204 8.87046C12.4076 9.08326 12.1549 9.25207 11.8769 9.36723C11.5989 9.4824 11.3009 9.54168 10.9999 9.54168C10.3921 9.54168 9.80924 9.30023 9.37947 8.87046C8.94969 8.44069 8.70825 7.8578 8.70825 7.25001C8.70825 6.64222 8.94969 6.05933 9.37947 5.62956C9.80924 5.19979 10.3921 4.95834 10.9999 4.95834ZM10.9999 0.833344C12.7017 0.833344 14.3338 1.50938 15.5372 2.71274C16.7405 3.9161 17.4166 5.5482 17.4166 7.25001C17.4166 12.0625 10.9999 19.1667 10.9999 19.1667C10.9999 19.1667 4.58325 12.0625 4.58325 7.25001C4.58325 5.5482 5.25929 3.9161 6.46265 2.71274C7.66601 1.50938 9.29811 0.833344 10.9999 0.833344ZM10.9999 2.66668C9.78434 2.66668 8.61855 3.14956 7.75901 4.0091C6.89947 4.86865 6.41659 6.03443 6.41659 7.25001C6.41659 8.16668 6.41659 10 10.9999 16.1508C15.5833 10 15.5833 8.16668 15.5833 7.25001C15.5833 6.03443 15.1004 4.86865 14.2408 4.0091C13.3813 3.14956 12.2155 2.66668 10.9999 2.66668Z"
          fill="#1E306E" />
      </svg></a>

          <a href="/search" class="hidden tap-area lg:block" aria-controls="search-drawer">
            <span class="sr-only">Open search</span><svg role="presentation" stroke-width="2" focusable="false" width="22" height="22" class="icon icon-search" viewBox="0 0 22 22">
        <circle cx="11" cy="10" r="7" fill="none" stroke="currentColor"></circle>
        <path d="m16 15 3 3" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
      </svg></a><a href="/account/login" class="hidden tap-area sm:block">
              <span class="sr-only">Open account page</span><svg role="presentation" stroke-width="2" focusable="false" width="22" height="22" class="icon icon-account" viewBox="0 0 22 22">
        <circle cx="11" cy="7" r="4" fill="none" stroke="currentColor"></circle>
        <path d="M3.5 19c1.421-2.974 4.247-5 7.5-5s6.079 2.026 7.5 5" fill="none" stroke="currentColor" stroke-linecap="round"></path>
      </svg></a>
          
          <a href="/cart" aria-label="cart empty: click to Open cart" data-no-instant class="relative tap-area" >
            <span class="sr-only">cart empty</span><svg role="presentation" stroke-width="2" focusable="false" width="22" height="22" class="icon icon-cart" viewBox="0 0 22 22">
            <path d="M14.666 7.333a3.666 3.666 0 1 1-7.333 0M3.33 6.785l-.642 7.7c-.137 1.654-.206 2.48.073 3.119a2.75 2.75 0 0 0 1.21 1.314c.612.332 1.442.332 3.102.332h7.853c1.66 0 2.49 0 3.103-.332a2.75 2.75 0 0 0 1.21-1.314c.279-.638.21-1.465.072-3.12l-.642-7.7c-.118-1.423-.178-2.134-.493-2.673A2.75 2.75 0 0 0 16.99 3.02c-.563-.269-1.277-.269-2.705-.269h-6.57c-1.428 0-2.142 0-2.705.27A2.75 2.75 0 0 0 3.823 4.11c-.315.539-.374 1.25-.493 2.674Z" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
          </svg><div class="header__cart-count">
              <cart-count class="count-bubble opacity-0" aria-hidden="true">0</cart-count>
            </div>
          </a>
        </div>
      </div>
    </div>
    

    
    

    

  </store-header>
</height-observer><navigation-drawer mobile-opening="bottom" open-from="left" id="header-sidebar-menu" class="navigation-drawer drawer lg:hidden" >
    <button is="close-button" aria-label="Close"class="sm-max:hidden"><svg role="presentation" stroke-width="2" focusable="false" width="19" height="19" class="icon icon-close" viewBox="0 0 24 24">
        <path d="M17.658 6.343 6.344 17.657M17.658 17.657 6.344 6.343" stroke="currentColor"></path>
      </svg></button><div class="panel-list__wrapper" tabindex="-1">
  <div class="panel">
    <div class="panel__wrapper" >
      <div class="panel__scroller v-stack gap-8"><ul class="v-stack gap-8 panel-main-links">
<li class="h3 sm:h4"><button class="text-with-icon w-full group justify-between" aria-expanded="false" data-panel="1-0">
                  <span>Mattresses</span>
                  <span class="circle-chevron group-hover:colors group-expanded:colors"><svg role="presentation" focusable="false" width="5" height="8" class="icon icon-chevron-right-small reverse-icon" viewBox="0 0 5 8">
        <path d="m.75 7 3-3-3-3" fill="none" stroke="currentColor" stroke-width="1.5"></path>
      </svg></span>
                </button></li>
<li class="h3 sm:h4"><button class="text-with-icon w-full group justify-between" aria-expanded="false" data-panel="1-1">
                  <span>Bundles</span>
                  <span class="circle-chevron group-hover:colors group-expanded:colors"><svg role="presentation" focusable="false" width="5" height="8" class="icon icon-chevron-right-small reverse-icon" viewBox="0 0 5 8">
        <path d="m.75 7 3-3-3-3" fill="none" stroke="currentColor" stroke-width="1.5"></path>
      </svg></span>
                </button></li>
<li class="h3 sm:h4"><button class="text-with-icon w-full group justify-between" aria-expanded="false" data-panel="1-2">
                  <span>Pillows</span>
                  <span class="circle-chevron group-hover:colors group-expanded:colors"><svg role="presentation" focusable="false" width="5" height="8" class="icon icon-chevron-right-small reverse-icon" viewBox="0 0 5 8">
        <path d="m.75 7 3-3-3-3" fill="none" stroke="currentColor" stroke-width="1.5"></path>
      </svg></span>
                </button></li>
<li class="h3 sm:h4"><button class="text-with-icon w-full group justify-between" aria-expanded="false" data-panel="1-3">
                  <span>Furniture</span>
                  <span class="circle-chevron group-hover:colors group-expanded:colors"><svg role="presentation" focusable="false" width="5" height="8" class="icon icon-chevron-right-small reverse-icon" viewBox="0 0 5 8">
        <path d="m.75 7 3-3-3-3" fill="none" stroke="currentColor" stroke-width="1.5"></path>
      </svg></span>
                </button></li>
<li class="h3 sm:h4"><button class="text-with-icon w-full group justify-between" aria-expanded="false" data-panel="1-4">
                  <span>Bedding</span>
                  <span class="circle-chevron group-hover:colors group-expanded:colors"><svg role="presentation" focusable="false" width="5" height="8" class="icon icon-chevron-right-small reverse-icon" viewBox="0 0 5 8">
        <path d="m.75 7 3-3-3-3" fill="none" stroke="currentColor" stroke-width="1.5"></path>
      </svg></span>
                </button></li>
<li class="h3 sm:h4"><button class="text-with-icon w-full group justify-between" aria-expanded="false" data-panel="1-5">
                  <span>Accessories</span>
                  <span class="circle-chevron group-hover:colors group-expanded:colors"><svg role="presentation" focusable="false" width="5" height="8" class="icon icon-chevron-right-small reverse-icon" viewBox="0 0 5 8">
        <path d="m.75 7 3-3-3-3" fill="none" stroke="currentColor" stroke-width="1.5"></path>
      </svg></span>
                </button></li>
<li class="h3 sm:h4"><button class="text-with-icon w-full group justify-between" aria-expanded="false" data-panel="1-6">
                  <span>Explore</span>
                  <span class="circle-chevron group-hover:colors group-expanded:colors"><svg role="presentation" focusable="false" width="5" height="8" class="icon icon-chevron-right-small reverse-icon" viewBox="0 0 5 8">
        <path d="m.75 7 3-3-3-3" fill="none" stroke="currentColor" stroke-width="1.5"></path>
      </svg></span>
                </button></li>
<li class="h3 sm:h4"><a href="/pages/presidents-day-mattress-sale" class="group block w-full">
                  <span class="reversed-link sale-nav">Sale</span>
                </a></li></ul>
        <div class="drawer-footer">
          <a href="/pages/friends"
            class="tap-area h6 group flex">
            <span class="sr-only">Open account page</span><svg width="22" height="20" viewBox="0 0 22 20" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M1.06009 9.79168L1.59675 9.52335H1.59675L1.06009 9.79168ZM1.80654 7.46243L1.52581 6.93216H1.52581L1.80654 7.46243ZM13.6286 1.20372L13.3478 0.673443V0.673443L13.6286 1.20372ZM15.9915 1.92682L16.5209 1.64446L16.5209 1.64446L15.9915 1.92682ZM11.5438 16.0542V16.6542H12.7438V16.0542H11.5438ZM12.7438 15.4468V14.8468H11.5438V15.4468H12.7438ZM11.5438 10.6336V11.2336H12.7438V10.6336H11.5438ZM12.7438 10.0124V9.41241H11.5438V10.0124H12.7438ZM12.1258 13.0632L12.2614 12.4787L12.1258 13.0632ZM4.33212 14.9941L1.59675 9.52335L0.523437 10.06L3.2588 15.5307L4.33212 14.9941ZM2.08727 7.9927L13.9093 1.73399L13.3478 0.673443L1.52581 6.93216L2.08727 7.9927ZM15.4621 2.20917L18.141 7.23227L19.1999 6.66756L16.5209 1.64446L15.4621 2.20917ZM18.6705 6.34991H5.54546V7.54991H18.6705V6.34991ZM3.19546 8.69991V15.2624H4.39546V8.69991H3.19546ZM3.19546 15.2624V17.4499H4.39546V15.2624H3.19546ZM5.54546 19.7999H19.108V18.5999H5.54546V19.7999ZM21.458 17.4499V8.69991H20.258V17.4499H21.458ZM19.108 6.34991H18.6705V7.54991H19.108V6.34991ZM21.458 8.69991C21.458 7.40204 20.4058 6.34991 19.108 6.34991V7.54991C19.7431 7.54991 20.258 8.06479 20.258 8.69991H21.458ZM3.19546 17.4499C3.19546 18.7478 4.24759 19.7999 5.54546 19.7999V18.5999C4.91033 18.5999 4.39546 18.085 4.39546 17.4499H3.19546ZM5.54546 6.34991C4.24759 6.34991 3.19546 7.40204 3.19546 8.69991H4.39546C4.39546 8.06479 4.91033 7.54991 5.54546 7.54991V6.34991ZM13.9093 1.73399C14.4694 1.43746 15.1638 1.64997 15.4621 2.20917L16.5209 1.64446C15.9114 0.501762 14.4924 0.0674974 13.3478 0.673443L13.9093 1.73399ZM19.108 19.7999C20.4058 19.7999 21.458 18.7478 21.458 17.4499H20.258C20.258 18.085 19.7431 18.5999 19.108 18.5999V19.7999ZM1.59675 9.52335C1.31737 8.9646 1.53516 8.285 2.08727 7.9927L1.52581 6.93216C0.397579 7.52945 -0.0474674 8.9182 0.523438 10.06L1.59675 9.52335ZM2.17054 11.9712C3.16644 11.4281 3.86422 10.6927 4.1552 9.74097C4.44307 8.79938 4.30044 7.75055 3.83518 6.63881L2.72821 7.10207C3.12872 8.05912 3.1859 8.80703 3.00763 9.39012C2.83247 9.96306 2.39815 10.4803 1.596 10.9177L2.17054 11.9712ZM16.7873 2.84093C15.976 3.26132 15.3044 3.33217 14.7314 3.157C14.1483 2.97874 13.5603 2.51311 12.9908 1.64589L11.9877 2.30456C12.6493 3.31195 13.439 4.0167 14.3806 4.30457C15.3323 4.59555 16.3322 4.4283 17.3394 3.90637L16.7873 2.84093ZM12.7438 16.0542V15.4468H11.5438V16.0542H12.7438ZM12.7438 10.6336V10.0124H11.5438V10.6336H12.7438ZM13.9912 12.0831C13.9912 11.5741 13.8369 11.1001 13.4628 10.762C13.0991 10.4331 12.6168 10.3143 12.1258 10.3143V11.5143C12.44 11.5143 12.5905 11.591 12.6581 11.6521C12.7154 11.7039 12.7912 11.8144 12.7912 12.0831H13.9912ZM12.1258 10.3143C11.2254 10.3143 10.3874 10.8643 10.23 11.694C10.1477 12.1283 10.275 12.5715 10.603 12.9279C10.918 13.2703 11.3927 13.5091 11.9902 13.6477L12.2614 12.4787C11.8075 12.3734 11.5838 12.2217 11.486 12.1154C11.4012 12.0231 11.4011 11.9596 11.409 11.9176C11.4323 11.7949 11.6458 11.5143 12.1258 11.5143V10.3143ZM11.9902 13.6477C12.44 13.752 12.6487 13.9041 12.7353 14.0052C12.8091 14.0913 12.8162 14.1615 12.802 14.228C12.763 14.4114 12.5092 14.6765 12.1258 14.6765V15.8765C13.0078 15.8765 13.8054 15.2789 13.9758 14.4775C14.0663 14.0517 13.9676 13.599 13.6465 13.2243C13.3383 12.8647 12.863 12.6183 12.2614 12.4787L11.9902 13.6477ZM12.1258 14.6765C11.7161 14.6765 11.5428 14.59 11.4806 14.5362C11.4465 14.5068 11.3792 14.4333 11.3988 14.1764L10.2023 14.0851C10.1636 14.592 10.288 15.0915 10.6957 15.444C11.0752 15.7721 11.5938 15.8765 12.1258 15.8765V14.6765ZM3.8018 10.932C4.93611 10.92 5.89747 10.5983 6.60121 9.89452C7.29744 9.1983 7.66389 8.20528 7.77502 7.00524L6.58014 6.89458C6.48447 7.92764 6.18383 8.61485 5.75268 9.046C5.32904 9.46963 4.70275 9.72241 3.78911 9.73207L3.8018 10.932ZM20.9802 15.0469C19.8459 15.0589 18.8845 15.3806 18.1808 16.0844C17.4846 16.7806 17.1181 17.7736 17.007 18.9736L18.2019 19.0843C18.2976 18.0512 18.5982 17.364 19.0293 16.9329C19.453 16.5092 20.0793 16.2565 20.9929 16.2468L20.9802 15.0469ZM3.78911 16.2468C4.70275 16.2565 5.32904 16.5092 5.75268 16.9329C6.18383 17.364 6.48447 18.0512 6.58014 19.0843L7.77502 18.9736C7.66389 17.7736 7.29744 16.7806 6.60121 16.0844C5.89747 15.3806 4.93611 15.0589 3.8018 15.0469L3.78911 16.2468ZM20.9938 9.73207C20.0801 9.72241 19.4538 9.46963 19.0302 9.046C18.599 8.61485 18.2984 7.92764 18.2027 6.89458L17.0079 7.00524C17.119 8.20528 17.4854 9.1983 18.1817 9.89452C18.8854 10.5983 19.8468 10.92 20.9811 10.932L20.9938 9.73207Z"
          fill="white" />
      </svg><div style="margin-left: 4px">Refer a friend</div>
          </a><ul class="v-stack gap-3" style="margin-top: 2px;"><li>
                    <a href="https://stores.casper.com/?r=50" class="tap-area block h6 group flex">
                      <span class="sr-only">Find a store</span><svg width="22" height="20" viewBox="0 0 22 20" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M10.9999 4.95834C11.6077 4.95834 12.1906 5.19979 12.6204 5.62956C13.0501 6.05933 13.2916 6.64222 13.2916 7.25001C13.2916 7.55096 13.2323 7.84896 13.1171 8.12699C13.002 8.40503 12.8332 8.65766 12.6204 8.87046C12.4076 9.08326 12.1549 9.25207 11.8769 9.36723C11.5989 9.4824 11.3009 9.54168 10.9999 9.54168C10.3921 9.54168 9.80924 9.30023 9.37947 8.87046C8.94969 8.44069 8.70825 7.8578 8.70825 7.25001C8.70825 6.64222 8.94969 6.05933 9.37947 5.62956C9.80924 5.19979 10.3921 4.95834 10.9999 4.95834ZM10.9999 0.833344C12.7017 0.833344 14.3338 1.50938 15.5372 2.71274C16.7405 3.9161 17.4166 5.5482 17.4166 7.25001C17.4166 12.0625 10.9999 19.1667 10.9999 19.1667C10.9999 19.1667 4.58325 12.0625 4.58325 7.25001C4.58325 5.5482 5.25929 3.9161 6.46265 2.71274C7.66601 1.50938 9.29811 0.833344 10.9999 0.833344ZM10.9999 2.66668C9.78434 2.66668 8.61855 3.14956 7.75901 4.0091C6.89947 4.86865 6.41659 6.03443 6.41659 7.25001C6.41659 8.16668 6.41659 10 10.9999 16.1508C15.5833 10 15.5833 8.16668 15.5833 7.25001C15.5833 6.03443 15.1004 4.86865 14.2408 4.0091C13.3813 3.14956 12.2155 2.66668 10.9999 2.66668Z"
          fill="white" />
      </svg><span style="margin-left: 4px">Find a store</span>
                    </a>
                  </li></ul><a href="/account/login"
              class="tap-area h6 group flex">
              <span class="sr-only">Open account page</span><svg role="presentation" stroke-width="2" focusable="false" width="22" height="22" class="icon icon-account" viewBox="0 0 22 22">
        <circle cx="11" cy="7" r="4" fill="none" stroke="currentColor"></circle>
        <path d="M3.5 19c1.421-2.974 4.247-5 7.5-5s6.079 2.026 7.5 5" fill="none" stroke="currentColor" stroke-linecap="round"></path>
      </svg><div style="margin-left: 4px">Account</div>
            </a></div>
      </div></div>
  </div><div class="panel gap-8">
      <div class="panel__wrapper panel-main-links" style="--panel-wrapper-justify-content: flex-start" hidden>
                  <ul class="v-stack gap-4">
                    <li class="lg:hidden">
                      <button class="text-with-icon h6" data-panel="0"><svg role="presentation" focusable="false" width="7" height="10" class="icon icon-chevron-left reverse-icon" viewBox="0 0 7 10">
        <path d="M6 1 2 5l4 4" fill="none" stroke="currentColor" stroke-width="2"></path>
      </svg>Mattresses
                      </button>
                    </li><li class="h3 sm:h4"><a class="group block w-full" href="/collections/mattresses">
                              

                              <span class="sr-only">Shop all mattresses. Navigate to Mattresses page.</span>
                              <span aria-hidden="true">
                                <span style="font-size: 18px;"
                                  class="reversed-link 
                                         
                                        
                                         
                                         shop_all_nav_titles "
                                >Shop all mattresses</span>
                              </span>

                              <p class="nav_sub_link_description" data-mattresses-menu-name="mattresses_shop_all_mattresses"></p>
                            </a></li><li class="h3 sm:h4"><a class="group block w-full" href="https://casper.com/products/casper-one-foam?variant=41670971261009">
                              

                              <span class="sr-only">The One. Navigate to Mattresses page.</span>
                              <span aria-hidden="true">
                                <span style="font-size: 18px;"
                                  class="reversed-link 
                                         
                                        
                                         
                                        "
                                >The One</span>
                              </span>

                              <p class="nav_sub_link_description" data-mattresses-menu-name="mattresses_the_one"></p>
                            </a></li><li class="h3 sm:h4"><a class="group block w-full" href="https://casper.com/products/casper-cloud-one-foam?variant=51926050701678">
                              

                              <span class="sr-only">Cloud One. Navigate to Mattresses page.</span>
                              <span aria-hidden="true">
                                <span style="font-size: 18px;"
                                  class="reversed-link 
                                         
                                        
                                         
                                        "
                                >Cloud One</span>
                              </span>

                              <p class="nav_sub_link_description" data-mattresses-menu-name="mattresses_cloud_one"></p>
                            </a></li><li class="h3 sm:h4"><a class="group block w-full" href="https://casper.com/products/casper-dream-hybrid?variant=41611237949521">
                              

                              <span class="sr-only">Dream. Navigate to Mattresses page.</span>
                              <span aria-hidden="true">
                                <span style="font-size: 18px;"
                                  class="reversed-link 
                                         
                                        
                                         
                                        "
                                >Dream</span>
                              </span>

                              <p class="nav_sub_link_description" data-mattresses-menu-name="mattresses_dream"></p>
                            </a></li><li class="h3 sm:h4"><a class="group block w-full" href="https://casper.com/products/casper-snow-v3?variant=41670971949137">
                              

                              <span class="sr-only">Snow. Navigate to Mattresses page.</span>
                              <span aria-hidden="true">
                                <span style="font-size: 18px;"
                                  class="reversed-link 
                                         
                                        
                                         
                                        "
                                >Snow</span>
                              </span>

                              <p class="nav_sub_link_description" data-mattresses-menu-name="mattresses_snow"></p>
                            </a></li><li class="h3 sm:h4"><a class="group block w-full" href="https://casper.com/products/casper-dream-max-hybrid?variant=41670972178513">
                              

                              <span class="sr-only">Dream Max. Navigate to Mattresses page.</span>
                              <span aria-hidden="true">
                                <span style="font-size: 18px;"
                                  class="reversed-link 
                                         
                                        
                                         
                                        "
                                >Dream Max</span>
                              </span>

                              <p class="nav_sub_link_description" data-mattresses-menu-name="mattresses_dream_max"></p>
                            </a></li><li class="h3 sm:h4"><a class="group block w-full" href="https://casper.com/products/casper-snow-max-hybrid-v3?variant=41670972407889">
                              

                              <span class="sr-only">Snow Max. Navigate to Mattresses page.</span>
                              <span aria-hidden="true">
                                <span style="font-size: 18px;"
                                  class="reversed-link 
                                         
                                        
                                         
                                        "
                                >Snow Max</span>
                              </span>

                              <p class="nav_sub_link_description" data-mattresses-menu-name="mattresses_snow_max"></p>
                            </a></li><li class="h3 sm:h4"><a class="group block w-full" href="https://casper.com/products/casper-snow-v3?collection=true&view=sl-AD601147">
                              

                              <span class="sr-only">Shop cooling mattresses. Navigate to Mattresses page.</span>
                              <span aria-hidden="true">
                                <span style="font-size: 18px;"
                                  class="reversed-link 
                                         
                                        
                                         
                                        "
                                >Shop cooling mattresses</span>
                              </span>

                              <p class="nav_sub_link_description" data-mattresses-menu-name="mattresses_shop_cooling_mattresses"></p>
                            </a></li><li class="h3 sm:h4"><a class="group block w-full" href="/pages/mattress-quiz">
                              

                              <span class="sr-only">Take the quiz. Navigate to Mattresses page.</span>
                              <span aria-hidden="true">
                                <span style="font-size: 18px;"
                                  class="reversed-link 
                                         
                                         extra_header_nav_links_mobile 
                                         
                                        "
                                >Take the quiz</span>
                              </span>

                              <p class="nav_sub_link_description" data-mattresses-menu-name="mattresses_take_the_quiz"></p>
                            </a></li><li class="h3 sm:h4"><a class="group block w-full" href="/pages/compare">
                              

                              <span class="sr-only">Compare mattresses. Navigate to Mattresses page.</span>
                              <span aria-hidden="true">
                                <span style="font-size: 18px;"
                                  class="reversed-link 
                                         
                                         extra_header_nav_links_mobile 
                                         
                                        "
                                >Compare mattresses</span>
                              </span>

                              <p class="nav_sub_link_description" data-mattresses-menu-name="mattresses_compare_mattresses"></p>
                            </a></li></ul>



<style>
  #navigation-promo-mega_menu_EhzC6W-drawer-10- {
    --navigation-promo-grid: 
  
    auto / repeat(1, minmax(var(--mega-menu-promo-grid-image-min-width), var(--mega-menu-promo-grid-image-max-width)))

  
;
    --mega-menu-promo-grid-image-max-width: 300px;
    --mega-menu-promo-grid-image-min-width: 172px;
    --promo-heading-font-size: var(--text-h5);
    --content-over-media-row-gap: var(--spacing-3);
    --content-over-media-column-gap: var(--spacing-4);--navigation-promo-gap: var(--spacing-2);
      --panel-wrapper-justify-content: flex-start;}

  #navigation-promo-mega_menu_EhzC6W-drawer-10- .navigation-promo__carousel-controls {inset-block-end: var(--content-over-media-column-gap);}

  @media screen and (min-width:700px) {
    #navigation-promo-mega_menu_EhzC6W-drawer-10- {--promo-heading-font-size: var(--text-h6);--mega-menu-promo-grid-image-min-width: 192px;
      --content-over-media-row-gap: var(--spacing-4);
      --content-over-media-column-gap: var(--spacing-5);
    }
  }@media screen and (min-width: 1150px) {
      #navigation-promo-mega_menu_EhzC6W-drawer-10- {
        --promo-heading-font-size: var(--text-h5);
        --content-over-media-row-gap: var(--spacing-5);
        --content-over-media-column-gap: var(--spacing-7);
        --mega-menu-promo-grid-image-min-width: 220px;

      
      }
    }</style><div class="navigation-promo__wrapper  " id="navigation-promo-mega_menu_EhzC6W-drawer-10-"><div class="navigation-promo navigation-promo--grid scroll-area bleed" tabindex="0">
      <a href="/products/casper-dream-hybrid-quickcool"
         class="content-over-media  group "
         style="--text-color: 30 48 110; grid-area: ;"><img src="//casper.com/cdn/shop/files/Dream-Cool-Navigation-Image.jpg?v=1769525843" alt="Casper mattress with &#39;QuickCool&#39; covers in a bedroom setting, featuring a &#39;Shop now&#39; button." srcset="//casper.com/cdn/shop/files/Dream-Cool-Navigation-Image.jpg?v=1769525843&amp;width=200 200w, //casper.com/cdn/shop/files/Dream-Cool-Navigation-Image.jpg?v=1769525843&amp;width=300 300w, //casper.com/cdn/shop/files/Dream-Cool-Navigation-Image.jpg?v=1769525843&amp;width=400 400w" width="800" height="576" loading="lazy" fetchpriority="low" sizes="(max-width: 699px) 172px, (max-width: 1149px) 192px,220px
" class="zoom-image"></a>
    </div></div>
</div><div class="panel__wrapper panel-main-links" style="--panel-wrapper-justify-content: flex-start" hidden>
                  <ul class="v-stack gap-4">
                    <li class="lg:hidden">
                      <button class="text-with-icon h6" data-panel="0"><svg role="presentation" focusable="false" width="7" height="10" class="icon icon-chevron-left reverse-icon" viewBox="0 0 7 10">
        <path d="M6 1 2 5l4 4" fill="none" stroke="currentColor" stroke-width="2"></path>
      </svg>Bundles
                      </button>
                    </li><li class="h3 sm:h4"><a class="group block w-full" href="/collections/bundle-save">
                              

                              <span class="sr-only">Shop all bundles. Navigate to Bundles page.</span>
                              <span aria-hidden="true">
                                <span style="font-size: 18px;"
                                  class="reversed-link 
                                         
                                        
                                         
                                         shop_all_nav_titles "
                                >Shop all bundles</span>
                              </span>

                              <p class="nav_sub_link_description" data-mattresses-menu-name="bundles_shop_all_bundles"></p>
                            </a></li><li class="h3 sm:h4"><a class="group block w-full" href="/products/build-your-own-bundle">
                              

                              <span class="sr-only">Build Your Own Bundle. Navigate to Bundles page.</span>
                              <span aria-hidden="true">
                                <span style="font-size: 18px;"
                                  class="reversed-link 
                                         
                                        
                                         
                                        "
                                >Build Your Own Bundle</span>
                              </span>

                              <p class="nav_sub_link_description" data-mattresses-menu-name="bundles_build_your_own_bundle"></p>
                            </a></li><li class="h3 sm:h4"><a class="group block w-full" href="/products/bestselling-bundle">
                              

                              <span class="sr-only">Best-Selling Bundle. Navigate to Bundles page.</span>
                              <span aria-hidden="true">
                                <span style="font-size: 18px;"
                                  class="reversed-link 
                                         
                                        
                                         
                                        "
                                >Best-Selling Bundle</span>
                              </span>

                              <p class="nav_sub_link_description" data-mattresses-menu-name="bundles_best_selling_bundle"></p>
                            </a></li><li class="h3 sm:h4"><a class="group block w-full" href="/products/dream-bundle">
                              

                              <span class="sr-only">Dream Bundle. Navigate to Bundles page.</span>
                              <span aria-hidden="true">
                                <span style="font-size: 18px;"
                                  class="reversed-link 
                                         
                                        
                                         
                                        "
                                >Dream Bundle</span>
                              </span>

                              <p class="nav_sub_link_description" data-mattresses-menu-name="bundles_dream_bundle"></p>
                            </a></li><li class="h3 sm:h4"><a class="group block w-full" href="/products/comfy-bundle">
                              

                              <span class="sr-only">Comfy Bundle. Navigate to Bundles page.</span>
                              <span aria-hidden="true">
                                <span style="font-size: 18px;"
                                  class="reversed-link 
                                         
                                        
                                         
                                        "
                                >Comfy Bundle</span>
                              </span>

                              <p class="nav_sub_link_description" data-mattresses-menu-name="bundles_comfy_bundle"></p>
                            </a></li><li class="h3 sm:h4"><a class="group block w-full" href="/products/snow-bundle">
                              

                              <span class="sr-only">Snow Bundle. Navigate to Bundles page.</span>
                              <span aria-hidden="true">
                                <span style="font-size: 18px;"
                                  class="reversed-link 
                                         
                                        
                                         
                                        "
                                >Snow Bundle</span>
                              </span>

                              <p class="nav_sub_link_description" data-mattresses-menu-name="bundles_snow_bundle"></p>
                            </a></li><li class="h3 sm:h4"><a class="group block w-full" href="/products/cool-sleep-bundle">
                              

                              <span class="sr-only">Cool Sleep Bundle. Navigate to Bundles page.</span>
                              <span aria-hidden="true">
                                <span style="font-size: 18px;"
                                  class="reversed-link 
                                         
                                        
                                         
                                        "
                                >Cool Sleep Bundle</span>
                              </span>

                              <p class="nav_sub_link_description" data-mattresses-menu-name="bundles_cool_sleep_bundle"></p>
                            </a></li><li class="h3 sm:h4"><a class="group block w-full" href="/products/adjustable-bundle">
                              

                              <span class="sr-only">Adjustable Bundle. Navigate to Bundles page.</span>
                              <span aria-hidden="true">
                                <span style="font-size: 18px;"
                                  class="reversed-link 
                                         
                                        
                                         
                                        "
                                >Adjustable Bundle</span>
                              </span>

                              <p class="nav_sub_link_description" data-mattresses-menu-name="bundles_adjustable_bundle"></p>
                            </a></li><li class="h3 sm:h4"><a class="group block w-full" href="/products/adjustable-pro-bundle">
                              

                              <span class="sr-only">Adjustable Pro Bundle. Navigate to Bundles page.</span>
                              <span aria-hidden="true">
                                <span style="font-size: 18px;"
                                  class="reversed-link 
                                         
                                        
                                         
                                        "
                                >Adjustable Pro Bundle</span>
                              </span>

                              <p class="nav_sub_link_description" data-mattresses-menu-name="bundles_adjustable_pro_bundle"></p>
                            </a></li><li class="h3 sm:h4"><a class="group block w-full" href="/products/adjustable-max-bundle">
                              

                              <span class="sr-only">Adjustable Max Bundle. Navigate to Bundles page.</span>
                              <span aria-hidden="true">
                                <span style="font-size: 18px;"
                                  class="reversed-link 
                                         
                                        
                                         
                                        "
                                >Adjustable Max Bundle</span>
                              </span>

                              <p class="nav_sub_link_description" data-mattresses-menu-name="bundles_adjustable_max_bundle"></p>
                            </a></li></ul>



<style>
  #navigation-promo-mega_menu_84YLke-drawer-10- {
    --navigation-promo-grid: 
  
    auto / repeat(1, minmax(var(--mega-menu-promo-grid-image-min-width), var(--mega-menu-promo-grid-image-max-width)))

  
;
    --mega-menu-promo-grid-image-max-width: 300px;
    --mega-menu-promo-grid-image-min-width: 172px;
    --promo-heading-font-size: var(--text-h5);
    --content-over-media-row-gap: var(--spacing-3);
    --content-over-media-column-gap: var(--spacing-4);--navigation-promo-gap: var(--spacing-2);
      --panel-wrapper-justify-content: flex-start;}

  #navigation-promo-mega_menu_84YLke-drawer-10- .navigation-promo__carousel-controls {inset-block-end: var(--content-over-media-column-gap);}

  @media screen and (min-width:700px) {
    #navigation-promo-mega_menu_84YLke-drawer-10- {--promo-heading-font-size: var(--text-h6);--mega-menu-promo-grid-image-min-width: 192px;
      --content-over-media-row-gap: var(--spacing-4);
      --content-over-media-column-gap: var(--spacing-5);
    }
  }@media screen and (min-width: 1150px) {
      #navigation-promo-mega_menu_84YLke-drawer-10- {
        --promo-heading-font-size: var(--text-h5);
        --content-over-media-row-gap: var(--spacing-5);
        --content-over-media-column-gap: var(--spacing-7);
        --mega-menu-promo-grid-image-min-width: 220px;

      
      }
    }</style><div class="navigation-promo__wrapper  " id="navigation-promo-mega_menu_84YLke-drawer-10-"><div class="navigation-promo navigation-promo--grid scroll-area bleed" tabindex="0">
      <a href="/collections/bundle-save"
         class="content-over-media  group "
         style="--text-color: 1 33 105; grid-area: ;"><img src="//casper.com/cdn/shop/files/2025-Q4-default-navigation-flydown-Bundles.jpg?v=1761320283" alt="A couple lies back on their mattress smiling. Promotional text on the image says, &quot;Customize your setup. Shop bundles.&quot;" srcset="//casper.com/cdn/shop/files/2025-Q4-default-navigation-flydown-Bundles.jpg?v=1761320283&amp;width=200 200w, //casper.com/cdn/shop/files/2025-Q4-default-navigation-flydown-Bundles.jpg?v=1761320283&amp;width=300 300w, //casper.com/cdn/shop/files/2025-Q4-default-navigation-flydown-Bundles.jpg?v=1761320283&amp;width=400 400w" width="882" height="636" loading="lazy" fetchpriority="low" sizes="(max-width: 699px) 172px, (max-width: 1149px) 192px,220px
" class="zoom-image"></a>
    </div></div>
</div><div class="panel__wrapper panel-main-links" style="--panel-wrapper-justify-content: flex-start" hidden>
                  <ul class="v-stack gap-4">
                    <li class="lg:hidden">
                      <button class="text-with-icon h6" data-panel="0"><svg role="presentation" focusable="false" width="7" height="10" class="icon icon-chevron-left reverse-icon" viewBox="0 0 7 10">
        <path d="M6 1 2 5l4 4" fill="none" stroke="currentColor" stroke-width="2"></path>
      </svg>Pillows
                      </button>
                    </li><li class="h3 sm:h4"><a class="group block w-full" href="/collections/pillows">
                              

                              <span class="sr-only">Shop all pillows. Navigate to Pillows page.</span>
                              <span aria-hidden="true">
                                <span style="font-size: 18px;"
                                  class="reversed-link 
                                         
                                        
                                         mab_nav_link  
                                         shop_all_nav_titles "
                                >Shop all pillows</span>
                              </span>

                              <p class="nav_sub_link_description" data-mattresses-menu-name="pillows_shop_all_pillows"></p>
                            </a></li><li class="h3 sm:h4"><a class="group block w-full" href="https://casper.com/collections/pillows#Fiber">
                              

                              <span class="sr-only">Fiber. Navigate to Pillows page.</span>
                              <span aria-hidden="true">
                                <span style="font-size: 18px;"
                                  class="reversed-link 
                                         
                                        
                                         mab_nav_link  
                                        "
                                >Fiber</span>
                              </span>

                              <p class="nav_sub_link_description" data-mattresses-menu-name="pillows_fiber"></p>
                            </a></li><li class="h3 sm:h4"><a class="group block w-full" href="https://casper.com/collections/pillows#Foam">
                              

                              <span class="sr-only">Foam. Navigate to Pillows page.</span>
                              <span aria-hidden="true">
                                <span style="font-size: 18px;"
                                  class="reversed-link 
                                         
                                        
                                         mab_nav_link  
                                        "
                                >Foam</span>
                              </span>

                              <p class="nav_sub_link_description" data-mattresses-menu-name="pillows_foam"></p>
                            </a></li><li class="h3 sm:h4"><a class="group block w-full" href="https://casper.com/collections/pillows#Hybrid">
                              

                              <span class="sr-only">Hybrid. Navigate to Pillows page.</span>
                              <span aria-hidden="true">
                                <span style="font-size: 18px;"
                                  class="reversed-link 
                                         
                                        
                                         mab_nav_link  
                                        "
                                >Hybrid</span>
                              </span>

                              <p class="nav_sub_link_description" data-mattresses-menu-name="pillows_hybrid"></p>
                            </a></li><li class="h3 sm:h4"><a class="group block w-full" href="/pages/pillow-quiz">
                              

                              <span class="sr-only">Take the quiz. Navigate to Pillows page.</span>
                              <span aria-hidden="true">
                                <span style="font-size: 18px;"
                                  class="reversed-link 
                                         
                                         extra_header_nav_links_mobile 
                                         mab_nav_link  
                                        "
                                >Take the quiz</span>
                              </span>

                              <p class="nav_sub_link_description" data-mattresses-menu-name="pillows_take_the_quiz"></p>
                            </a></li></ul>



<style>
  #navigation-promo-mega_menu_T3Hqte-drawer-5- {
    --navigation-promo-grid: 
  
    auto / repeat(1, minmax(var(--mega-menu-promo-grid-image-min-width), var(--mega-menu-promo-grid-image-max-width)))

  
;
    --mega-menu-promo-grid-image-max-width: 300px;
    --mega-menu-promo-grid-image-min-width: 172px;
    --promo-heading-font-size: var(--text-h5);
    --content-over-media-row-gap: var(--spacing-3);
    --content-over-media-column-gap: var(--spacing-4);--navigation-promo-gap: var(--spacing-2);
      --panel-wrapper-justify-content: flex-start;}

  #navigation-promo-mega_menu_T3Hqte-drawer-5- .navigation-promo__carousel-controls {inset-block-end: var(--content-over-media-column-gap);}

  @media screen and (min-width:700px) {
    #navigation-promo-mega_menu_T3Hqte-drawer-5- {--promo-heading-font-size: var(--text-h6);--mega-menu-promo-grid-image-min-width: 192px;
      --content-over-media-row-gap: var(--spacing-4);
      --content-over-media-column-gap: var(--spacing-5);
    }
  }@media screen and (min-width: 1150px) {
      #navigation-promo-mega_menu_T3Hqte-drawer-5- {
        --promo-heading-font-size: var(--text-h5);
        --content-over-media-row-gap: var(--spacing-5);
        --content-over-media-column-gap: var(--spacing-7);
        --mega-menu-promo-grid-image-min-width: 220px;

      
      }
    }</style><div class="navigation-promo__wrapper  " id="navigation-promo-mega_menu_T3Hqte-drawer-5-"><div class="navigation-promo navigation-promo--grid scroll-area bleed" tabindex="0">
      <a href="/pages/pillow-quiz"
         class="content-over-media  group "
         style="--text-color: 30 48 110; grid-area: ;"><img src="//casper.com/cdn/shop/files/2025-Q4-default-navigation-flydown-Pillow-Quiz.jpg?v=1761320295" alt="Person lying on a mattress and squeezing a pillow with promotional text overlay that says, &quot;Find your perfect pillow match. Take the Pillow Quiz.&quot;" srcset="//casper.com/cdn/shop/files/2025-Q4-default-navigation-flydown-Pillow-Quiz.jpg?v=1761320295&amp;width=200 200w, //casper.com/cdn/shop/files/2025-Q4-default-navigation-flydown-Pillow-Quiz.jpg?v=1761320295&amp;width=300 300w, //casper.com/cdn/shop/files/2025-Q4-default-navigation-flydown-Pillow-Quiz.jpg?v=1761320295&amp;width=400 400w" width="882" height="636" loading="lazy" fetchpriority="low" sizes="(max-width: 699px) 172px, (max-width: 1149px) 192px,220px
" class="zoom-image"></a>
    </div></div>
</div><div class="panel__wrapper panel-main-links" style="--panel-wrapper-justify-content: flex-start" hidden>
                  <ul class="v-stack gap-4">
                    <li class="lg:hidden">
                      <button class="text-with-icon h6" data-panel="0"><svg role="presentation" focusable="false" width="7" height="10" class="icon icon-chevron-left reverse-icon" viewBox="0 0 7 10">
        <path d="M6 1 2 5l4 4" fill="none" stroke="currentColor" stroke-width="2"></path>
      </svg>Furniture
                      </button>
                    </li><li class="h3 sm:h4"><a class="group block w-full" href="/collections/furniture">
                              

                              <span class="sr-only">Shop all furniture. Navigate to Furniture page.</span>
                              <span aria-hidden="true">
                                <span style="font-size: 18px;"
                                  class="reversed-link 
                                         
                                        
                                         mab_nav_link  
                                         shop_all_nav_titles "
                                >Shop all furniture</span>
                              </span>

                              <p class="nav_sub_link_description" data-mattresses-menu-name="furniture_shop_all_furniture"></p>
                            </a></li><li class="h3 sm:h4"><a class="group block w-full" href="/collections/adjustable-bases">
                              

                              <span class="sr-only">Adjustable Bed Frames. Navigate to Furniture page.</span>
                              <span aria-hidden="true">
                                <span style="font-size: 18px;"
                                  class="reversed-link 
                                         
                                        
                                         mab_nav_link  
                                        "
                                >Adjustable Bed Frames</span>
                              </span>

                              <p class="nav_sub_link_description" data-mattresses-menu-name="furniture_adjustable_bed_frames"></p>
                            </a></li><li class="h3 sm:h4"><a class="group block w-full" href="/collections/bed-frames">
                              

                              <span class="sr-only">Bed Frames. Navigate to Furniture page.</span>
                              <span aria-hidden="true">
                                <span style="font-size: 18px;"
                                  class="reversed-link 
                                         
                                        
                                         mab_nav_link  
                                        "
                                >Bed Frames</span>
                              </span>

                              <p class="nav_sub_link_description" data-mattresses-menu-name="furniture_bed_frames"></p>
                            </a></li><li class="h3 sm:h4"><a class="group block w-full" href="/collections/headboards">
                              

                              <span class="sr-only">Headboards. Navigate to Furniture page.</span>
                              <span aria-hidden="true">
                                <span style="font-size: 18px;"
                                  class="reversed-link 
                                         
                                        
                                         mab_nav_link  
                                        "
                                >Headboards</span>
                              </span>

                              <p class="nav_sub_link_description" data-mattresses-menu-name="furniture_headboards"></p>
                            </a></li></ul>



<style>
  #navigation-promo-mega_menu_Pqp4U9-drawer-4- {
    --navigation-promo-grid: 
  
    auto / repeat(1, minmax(var(--mega-menu-promo-grid-image-min-width), var(--mega-menu-promo-grid-image-max-width)))

  
;
    --mega-menu-promo-grid-image-max-width: 300px;
    --mega-menu-promo-grid-image-min-width: 172px;
    --promo-heading-font-size: var(--text-h5);
    --content-over-media-row-gap: var(--spacing-3);
    --content-over-media-column-gap: var(--spacing-4);--navigation-promo-gap: var(--spacing-2);
      --panel-wrapper-justify-content: flex-start;}

  #navigation-promo-mega_menu_Pqp4U9-drawer-4- .navigation-promo__carousel-controls {inset-block-end: var(--content-over-media-column-gap);}

  @media screen and (min-width:700px) {
    #navigation-promo-mega_menu_Pqp4U9-drawer-4- {--promo-heading-font-size: var(--text-h6);--mega-menu-promo-grid-image-min-width: 192px;
      --content-over-media-row-gap: var(--spacing-4);
      --content-over-media-column-gap: var(--spacing-5);
    }
  }@media screen and (min-width: 1150px) {
      #navigation-promo-mega_menu_Pqp4U9-drawer-4- {
        --promo-heading-font-size: var(--text-h5);
        --content-over-media-row-gap: var(--spacing-5);
        --content-over-media-column-gap: var(--spacing-7);
        --mega-menu-promo-grid-image-min-width: 220px;

      
      }
    }</style><div class="navigation-promo__wrapper  " id="navigation-promo-mega_menu_Pqp4U9-drawer-4-"><div class="navigation-promo navigation-promo--grid scroll-area bleed" tabindex="0">
      <a href="/collections/furniture"
         class="content-over-media  group "
         style="--text-color: 30 48 110; grid-area: ;"><img src="//casper.com/cdn/shop/files/2025-Q4-default-navigation-flydown-Furniture.jpg?v=1761320302" alt="A couple sits on their mattress against a wooden headboard. Promotional text on the image says, &quot;Build your bedroom here. Shop furniture.&quot;" srcset="//casper.com/cdn/shop/files/2025-Q4-default-navigation-flydown-Furniture.jpg?v=1761320302&amp;width=200 200w, //casper.com/cdn/shop/files/2025-Q4-default-navigation-flydown-Furniture.jpg?v=1761320302&amp;width=300 300w, //casper.com/cdn/shop/files/2025-Q4-default-navigation-flydown-Furniture.jpg?v=1761320302&amp;width=400 400w" width="882" height="636" loading="lazy" fetchpriority="low" sizes="(max-width: 699px) 172px, (max-width: 1149px) 192px,220px
" class="zoom-image"></a>
    </div></div>
</div><div class="panel__wrapper panel-main-links" style="--panel-wrapper-justify-content: flex-start" hidden>
                  <ul class="v-stack gap-4">
                    <li class="lg:hidden">
                      <button class="text-with-icon h6" data-panel="0"><svg role="presentation" focusable="false" width="7" height="10" class="icon icon-chevron-left reverse-icon" viewBox="0 0 7 10">
        <path d="M6 1 2 5l4 4" fill="none" stroke="currentColor" stroke-width="2"></path>
      </svg>Bedding
                      </button>
                    </li><li class="h3 sm:h4"><a class="group block w-full" href="/collections/bedding">
                              

                              <span class="sr-only">Shop all bedding. Navigate to Bedding page.</span>
                              <span aria-hidden="true">
                                <span style="font-size: 18px;"
                                  class="reversed-link 
                                         
                                        
                                         mab_nav_link  
                                         shop_all_nav_titles "
                                >Shop all bedding</span>
                              </span>

                              <p class="nav_sub_link_description" data-mattresses-menu-name="bedding_shop_all_bedding"></p>
                            </a></li><li class="h3 sm:h4"><a class="group block w-full" href="/collections/sheets">
                              

                              <span class="sr-only">Sheets. Navigate to Bedding page.</span>
                              <span aria-hidden="true">
                                <span style="font-size: 18px;"
                                  class="reversed-link 
                                         
                                        
                                         mab_nav_link  
                                        "
                                >Sheets</span>
                              </span>

                              <p class="nav_sub_link_description" data-mattresses-menu-name="bedding_sheets"></p>
                            </a></li><li class="h3 sm:h4"><a class="group block w-full" href="/collections/protectors">
                              

                              <span class="sr-only">Mattress Protectors. Navigate to Bedding page.</span>
                              <span aria-hidden="true">
                                <span style="font-size: 18px;"
                                  class="reversed-link 
                                         
                                        
                                         mab_nav_link  
                                        "
                                >Mattress Protectors</span>
                              </span>

                              <p class="nav_sub_link_description" data-mattresses-menu-name="bedding_mattress_protectors"></p>
                            </a></li><li class="h3 sm:h4"><a class="group block w-full" href="/collections/duvets">
                              

                              <span class="sr-only">Duvets. Navigate to Bedding page.</span>
                              <span aria-hidden="true">
                                <span style="font-size: 18px;"
                                  class="reversed-link 
                                         
                                        
                                         mab_nav_link  
                                        "
                                >Duvets</span>
                              </span>

                              <p class="nav_sub_link_description" data-mattresses-menu-name="bedding_duvets"></p>
                            </a></li><li class="h3 sm:h4"><a class="group block w-full" href="/collections/clearance">
                              

                              <span class="sr-only">Shop Clearance. Navigate to Bedding page.</span>
                              <span aria-hidden="true">
                                <span style="font-size: 18px;"
                                  class="reversed-link 
                                         shop_clearance_menu  
                                        
                                         mab_nav_link  
                                        "
                                >Shop Clearance</span>
                              </span>

                              <p class="nav_sub_link_description" data-mattresses-menu-name="bedding_shop_clearance"></p>
                            </a></li></ul>



<style>
  #navigation-promo-mega_menu_DXzNzL-drawer-5- {
    --navigation-promo-grid: 
  
    auto / repeat(1, minmax(var(--mega-menu-promo-grid-image-min-width), var(--mega-menu-promo-grid-image-max-width)))

  
;
    --mega-menu-promo-grid-image-max-width: 300px;
    --mega-menu-promo-grid-image-min-width: 172px;
    --promo-heading-font-size: var(--text-h5);
    --content-over-media-row-gap: var(--spacing-3);
    --content-over-media-column-gap: var(--spacing-4);--navigation-promo-gap: var(--spacing-2);
      --panel-wrapper-justify-content: flex-start;}

  #navigation-promo-mega_menu_DXzNzL-drawer-5- .navigation-promo__carousel-controls {inset-block-end: var(--content-over-media-column-gap);}

  @media screen and (min-width:700px) {
    #navigation-promo-mega_menu_DXzNzL-drawer-5- {--promo-heading-font-size: var(--text-h6);--mega-menu-promo-grid-image-min-width: 192px;
      --content-over-media-row-gap: var(--spacing-4);
      --content-over-media-column-gap: var(--spacing-5);
    }
  }@media screen and (min-width: 1150px) {
      #navigation-promo-mega_menu_DXzNzL-drawer-5- {
        --promo-heading-font-size: var(--text-h5);
        --content-over-media-row-gap: var(--spacing-5);
        --content-over-media-column-gap: var(--spacing-7);
        --mega-menu-promo-grid-image-min-width: 220px;

      
      }
    }</style><div class="navigation-promo__wrapper  " id="navigation-promo-mega_menu_DXzNzL-drawer-5-"><div class="navigation-promo navigation-promo--grid scroll-area bleed" tabindex="0">
      <a href="/collections/bedding"
         class="content-over-media  group "
         style="--text-color: 30 48 110; grid-area: ;"><img src="//casper.com/cdn/shop/files/2025-Q4-default-navigation-flydown-Bedding.jpg?v=1761320306" alt="Woman sleeping under a blanket with promotional text that says, &quot;Wrap yourself in something cozy. Shop bedding.&quot;" srcset="//casper.com/cdn/shop/files/2025-Q4-default-navigation-flydown-Bedding.jpg?v=1761320306&amp;width=200 200w, //casper.com/cdn/shop/files/2025-Q4-default-navigation-flydown-Bedding.jpg?v=1761320306&amp;width=300 300w, //casper.com/cdn/shop/files/2025-Q4-default-navigation-flydown-Bedding.jpg?v=1761320306&amp;width=400 400w" width="882" height="636" loading="lazy" fetchpriority="low" sizes="(max-width: 699px) 172px, (max-width: 1149px) 192px,220px
" class="zoom-image"></a>
    </div></div>
</div><div class="panel__wrapper panel-main-links" style="--panel-wrapper-justify-content: flex-start" hidden>
                  <ul class="v-stack gap-4">
                    <li class="lg:hidden">
                      <button class="text-with-icon h6" data-panel="0"><svg role="presentation" focusable="false" width="7" height="10" class="icon icon-chevron-left reverse-icon" viewBox="0 0 7 10">
        <path d="M6 1 2 5l4 4" fill="none" stroke="currentColor" stroke-width="2"></path>
      </svg>Accessories
                      </button>
                    </li><li class="h3 sm:h4"><a class="group block w-full" href="/collections/accessories">
                              

                              <span class="sr-only">Shop all accessories. Navigate to Accessories page.</span>
                              <span aria-hidden="true">
                                <span style="font-size: 18px;"
                                  class="reversed-link 
                                         
                                        
                                         
                                         shop_all_nav_titles "
                                >Shop all accessories</span>
                              </span>

                              <p class="nav_sub_link_description" data-mattresses-menu-name="accessories_shop_all_accessories"></p>
                            </a></li><li class="h3 sm:h4"><a class="group block w-full" href="/products/digital-gift-card">
                              

                              <span class="sr-only">Digital Gift Cards. Navigate to Accessories page.</span>
                              <span aria-hidden="true">
                                <span style="font-size: 18px;"
                                  class="reversed-link 
                                         
                                        
                                         
                                        "
                                >Digital Gift Cards</span>
                              </span>

                              <p class="nav_sub_link_description" data-mattresses-menu-name="accessories_digital_gift_cards"></p>
                            </a></li><li class="h3 sm:h4"><a class="group block w-full" href="/products/mattress-topper-2">
                              

                              <span class="sr-only">Mattress Topper 2-Inch. Navigate to Accessories page.</span>
                              <span aria-hidden="true">
                                <span style="font-size: 18px;"
                                  class="reversed-link 
                                         
                                        
                                         
                                        "
                                >Mattress Topper 2-Inch</span>
                              </span>

                              <p class="nav_sub_link_description" data-mattresses-menu-name="accessories_mattress_topper_2_inch"></p>
                            </a></li><li class="h3 sm:h4"><a class="group block w-full" href="/products/mattress-topper-3">
                              

                              <span class="sr-only">Mattress Topper 3-Inch. Navigate to Accessories page.</span>
                              <span aria-hidden="true">
                                <span style="font-size: 18px;"
                                  class="reversed-link 
                                         
                                        
                                         
                                        "
                                >Mattress Topper 3-Inch</span>
                              </span>

                              <p class="nav_sub_link_description" data-mattresses-menu-name="accessories_mattress_topper_3_inch"></p>
                            </a></li><li class="h3 sm:h4"><a class="group block w-full" href="/products/glow">
                              

                              <span class="sr-only">Glow Light. Navigate to Accessories page.</span>
                              <span aria-hidden="true">
                                <span style="font-size: 18px;"
                                  class="reversed-link 
                                         
                                        
                                         
                                        "
                                >Glow Light</span>
                              </span>

                              <p class="nav_sub_link_description" data-mattresses-menu-name="accessories_glow_light"></p>
                            </a></li><li class="h3 sm:h4"><a class="group block w-full" href="/products/glow-nightlight">
                              

                              <span class="sr-only">Glow Night Light. Navigate to Accessories page.</span>
                              <span aria-hidden="true">
                                <span style="font-size: 18px;"
                                  class="reversed-link 
                                         
                                        
                                         
                                        "
                                >Glow Night Light</span>
                              </span>

                              <p class="nav_sub_link_description" data-mattresses-menu-name="accessories_glow_night_light"></p>
                            </a></li><li class="h3 sm:h4"><a class="group block w-full" href="/products/dog-mattresses">
                              

                              <span class="sr-only">Dog Bed. Navigate to Accessories page.</span>
                              <span aria-hidden="true">
                                <span style="font-size: 18px;"
                                  class="reversed-link 
                                         
                                        
                                         
                                        "
                                >Dog Bed</span>
                              </span>

                              <p class="nav_sub_link_description" data-mattresses-menu-name="accessories_dog_bed"></p>
                            </a></li><li class="h3 sm:h4"><a class="group block w-full" href="/products/blanket-robe">
                              

                              <span class="sr-only">Blanket Robe. Navigate to Accessories page.</span>
                              <span aria-hidden="true">
                                <span style="font-size: 18px;"
                                  class="reversed-link 
                                         
                                        
                                         
                                        "
                                >Blanket Robe</span>
                              </span>

                              <p class="nav_sub_link_description" data-mattresses-menu-name="accessories_blanket_robe"></p>
                            </a></li></ul>



<style>
  #navigation-promo-mega_menu_twXfYa-drawer-8- {
    --navigation-promo-grid: 
  
    auto / repeat(1, minmax(var(--mega-menu-promo-grid-image-min-width), var(--mega-menu-promo-grid-image-max-width)))

  
;
    --mega-menu-promo-grid-image-max-width: 300px;
    --mega-menu-promo-grid-image-min-width: 172px;
    --promo-heading-font-size: var(--text-h5);
    --content-over-media-row-gap: var(--spacing-3);
    --content-over-media-column-gap: var(--spacing-4);--navigation-promo-gap: var(--spacing-2);
      --panel-wrapper-justify-content: flex-start;}

  #navigation-promo-mega_menu_twXfYa-drawer-8- .navigation-promo__carousel-controls {inset-block-end: var(--content-over-media-column-gap);}

  @media screen and (min-width:700px) {
    #navigation-promo-mega_menu_twXfYa-drawer-8- {--promo-heading-font-size: var(--text-h6);--mega-menu-promo-grid-image-min-width: 192px;
      --content-over-media-row-gap: var(--spacing-4);
      --content-over-media-column-gap: var(--spacing-5);
    }
  }@media screen and (min-width: 1150px) {
      #navigation-promo-mega_menu_twXfYa-drawer-8- {
        --promo-heading-font-size: var(--text-h5);
        --content-over-media-row-gap: var(--spacing-5);
        --content-over-media-column-gap: var(--spacing-7);
        --mega-menu-promo-grid-image-min-width: 220px;

      
      }
    }</style><div class="navigation-promo__wrapper  " id="navigation-promo-mega_menu_twXfYa-drawer-8-"><div class="navigation-promo navigation-promo--grid scroll-area bleed" tabindex="0">
      <a href="/collections/accessories"
         class="content-over-media  group "
         style="--text-color: 30 48 110; grid-area: ;"><img src="//casper.com/cdn/shop/files/2025-Q4-default-navigation-flydown-Accessories.jpg?v=1761320311" alt="Woman reading a book in bed with a nightlight. Promotional text on the image says, &quot;Find your finishing touch. Shop accessories.&quot;" srcset="//casper.com/cdn/shop/files/2025-Q4-default-navigation-flydown-Accessories.jpg?v=1761320311&amp;width=200 200w, //casper.com/cdn/shop/files/2025-Q4-default-navigation-flydown-Accessories.jpg?v=1761320311&amp;width=300 300w, //casper.com/cdn/shop/files/2025-Q4-default-navigation-flydown-Accessories.jpg?v=1761320311&amp;width=400 400w" width="882" height="636" loading="lazy" fetchpriority="low" sizes="(max-width: 699px) 172px, (max-width: 1149px) 192px,220px
" class="zoom-image"></a>
    </div></div>
</div><div class="panel__wrapper panel-main-links" style="--panel-wrapper-justify-content: flex-start" hidden>
                  <ul class="v-stack gap-4">
                    <li class="lg:hidden">
                      <button class="text-with-icon h6" data-panel="0"><svg role="presentation" focusable="false" width="7" height="10" class="icon icon-chevron-left reverse-icon" viewBox="0 0 7 10">
        <path d="M6 1 2 5l4 4" fill="none" stroke="currentColor" stroke-width="2"></path>
      </svg>Explore
                      </button>
                    </li><li class="h3 sm:h4"><button class="text-with-icon w-full justify-between" aria-expanded="false" data-panel="2-0">
                              <span>About Us</span>
                              <span class="circle-chevron group-hover:colors group-expanded:colors"><svg role="presentation" focusable="false" width="5" height="8" class="icon icon-chevron-right-small reverse-icon" viewBox="0 0 5 8">
        <path d="m.75 7 3-3-3-3" fill="none" stroke="currentColor" stroke-width="1.5"></path>
      </svg></span>
                            </button></li><li class="h3 sm:h4"><button class="text-with-icon w-full justify-between" aria-expanded="false" data-panel="2-1">
                              <span>Offers</span>
                              <span class="circle-chevron group-hover:colors group-expanded:colors"><svg role="presentation" focusable="false" width="5" height="8" class="icon icon-chevron-right-small reverse-icon" viewBox="0 0 5 8">
        <path d="m.75 7 3-3-3-3" fill="none" stroke="currentColor" stroke-width="1.5"></path>
      </svg></span>
                            </button></li><li class="h3 sm:h4"><button class="text-with-icon w-full justify-between" aria-expanded="false" data-panel="2-2">
                              <span>Help</span>
                              <span class="circle-chevron group-hover:colors group-expanded:colors"><svg role="presentation" focusable="false" width="5" height="8" class="icon icon-chevron-right-small reverse-icon" viewBox="0 0 5 8">
        <path d="m.75 7 3-3-3-3" fill="none" stroke="currentColor" stroke-width="1.5"></path>
      </svg></span>
                            </button></li><li class="h3 sm:h4"><button class="text-with-icon w-full justify-between" aria-expanded="false" data-panel="2-3">
                              <span>Shop All</span>
                              <span class="circle-chevron group-hover:colors group-expanded:colors"><svg role="presentation" focusable="false" width="5" height="8" class="icon icon-chevron-right-small reverse-icon" viewBox="0 0 5 8">
        <path d="m.75 7 3-3-3-3" fill="none" stroke="currentColor" stroke-width="1.5"></path>
      </svg></span>
                            </button></li></ul>



<style>
  #navigation-promo-mega_menu_ytyCPU-drawer-4- {
    --navigation-promo-grid: 
  
    auto / repeat(1, minmax(var(--mega-menu-promo-grid-image-min-width), var(--mega-menu-promo-grid-image-max-width)))

  
;
    --mega-menu-promo-grid-image-max-width: 300px;
    --mega-menu-promo-grid-image-min-width: 172px;
    --promo-heading-font-size: var(--text-h5);
    --content-over-media-row-gap: var(--spacing-3);
    --content-over-media-column-gap: var(--spacing-4);--navigation-promo-gap: var(--spacing-2);
      --panel-wrapper-justify-content: flex-start;}

  #navigation-promo-mega_menu_ytyCPU-drawer-4- .navigation-promo__carousel-controls {inset-block-end: var(--content-over-media-column-gap);}

  @media screen and (min-width:700px) {
    #navigation-promo-mega_menu_ytyCPU-drawer-4- {--promo-heading-font-size: var(--text-h6);--mega-menu-promo-grid-image-min-width: 192px;
      --content-over-media-row-gap: var(--spacing-4);
      --content-over-media-column-gap: var(--spacing-5);
    }
  }@media screen and (min-width: 1150px) {
      #navigation-promo-mega_menu_ytyCPU-drawer-4- {
        --promo-heading-font-size: var(--text-h5);
        --content-over-media-row-gap: var(--spacing-5);
        --content-over-media-column-gap: var(--spacing-7);
        --mega-menu-promo-grid-image-min-width: 220px;

      
      }
    }</style><div class="navigation-promo__wrapper  " id="navigation-promo-mega_menu_ytyCPU-drawer-4-"><div class="navigation-promo navigation-promo--grid scroll-area bleed" tabindex="0">
      <a href="/pages/why-casper"
         class="content-over-media  group "
         style="--text-color: 255 255 255; grid-area: ;"><img src="//casper.com/cdn/shop/files/Labor-Day-Sale-2025-top-navigation-flyout-explore.jpg?v=1755030068" alt="Close-up image of someone lying comfortably on their stomach on a mattress. At bottom are the words, &quot;Why Casper?&quot;" srcset="//casper.com/cdn/shop/files/Labor-Day-Sale-2025-top-navigation-flyout-explore.jpg?v=1755030068&amp;width=200 200w, //casper.com/cdn/shop/files/Labor-Day-Sale-2025-top-navigation-flyout-explore.jpg?v=1755030068&amp;width=300 300w, //casper.com/cdn/shop/files/Labor-Day-Sale-2025-top-navigation-flyout-explore.jpg?v=1755030068&amp;width=400 400w" width="4510" height="3255" loading="lazy" fetchpriority="low" sizes="(max-width: 699px) 172px, (max-width: 1149px) 192px,220px
" class="zoom-image"></a>
    </div></div>
</div>
    </div>
    <div class="panel">
      <div class="panel__wrapper panel-main-links" hidden>
                              <ul class="v-stack gap-4">
                                <li class="text-with-icon lg:hidden">
                                  <button class="text-with-icon h6 text-subdued" data-panel="1"><svg role="presentation" focusable="false" width="7" height="10" class="icon icon-chevron-left reverse-icon" viewBox="0 0 7 10">
        <path d="M6 1 2 5l4 4" fill="none" stroke="currentColor" stroke-width="2"></path>
      </svg>About Us
                                  </button>
                                </li><li class="h3 sm:h5">
                                    <a class="group block w-full"
                                      href="/pages/why-casper"><span>
                                        <span class="reversed-link ">Why Casper?</span>
                                        <p class="nav_sub_link_description" data-menu-name="explore_why_casper?"></p>
                                      </span>
                                    </a>
                                  </li><li class="h3 sm:h5">
                                    <a class="group block w-full"
                                      href="https://casper.com/reviews.html"><span>
                                        <span class="reversed-link ">Reviews</span>
                                        <p class="nav_sub_link_description" data-menu-name="explore_reviews"></p>
                                      </span>
                                    </a>
                                  </li><li class="h3 sm:h5">
                                    <a class="group block w-full"
                                      href="/pages/casper-vs-competition"><span>
                                        <span class="reversed-link ">Casper vs Competition</span>
                                        <p class="nav_sub_link_description" data-menu-name="explore_casper_vs_competition"></p>
                                      </span>
                                    </a>
                                  </li><li class="h3 sm:h5">
                                    <a class="group block w-full"
                                      href="https://casper.com/blogs/article"><span>
                                        <span class="reversed-link ">Casper Blog</span>
                                        <p class="nav_sub_link_description" data-menu-name="explore_casper_blog"></p>
                                      </span>
                                    </a>
                                  </li></ul>
                            </div><div class="panel__wrapper panel-main-links" hidden>
                              <ul class="v-stack gap-4">
                                <li class="text-with-icon lg:hidden">
                                  <button class="text-with-icon h6 text-subdued" data-panel="1"><svg role="presentation" focusable="false" width="7" height="10" class="icon icon-chevron-left reverse-icon" viewBox="0 0 7 10">
        <path d="M6 1 2 5l4 4" fill="none" stroke="currentColor" stroke-width="2"></path>
      </svg>Offers
                                  </button>
                                </li><li class="h3 sm:h5">
                                    <a class="group block w-full"
                                      href="/pages/financing"><span>
                                        <span class="reversed-link ">Financing Options</span>
                                        <p class="nav_sub_link_description" data-menu-name="explore_financing_options"></p>
                                      </span>
                                    </a>
                                  </li><li class="h3 sm:h5">
                                    <a class="group block w-full"
                                      href="/pages/casper-community-discount"><span>
                                        <span class="reversed-link ">Discount Program</span>
                                        <p class="nav_sub_link_description" data-menu-name="explore_discount_program"></p>
                                      </span>
                                    </a>
                                  </li><li class="h3 sm:h5">
                                    <a class="group block w-full"
                                      href="https://casper.com/pages/friends"><span>
                                        <span class="reversed-link ">Refer A Friend</span>
                                        <p class="nav_sub_link_description" data-menu-name="explore_refer_a_friend"></p>
                                      </span>
                                    </a>
                                  </li><li class="h3 sm:h5">
                                    <a class="group block w-full"
                                      href="https://casper.com/pages/email-subscribe"><span>
                                        <span class="reversed-link ">Welcome Offer</span>
                                        <p class="nav_sub_link_description" data-menu-name="explore_welcome_offer"></p>
                                      </span>
                                    </a>
                                  </li><li class="h3 sm:h5">
                                    <a class="group block w-full"
                                      href="/pages/promo"><span>
                                        <span class="reversed-link ">Promotional Details</span>
                                        <p class="nav_sub_link_description" data-menu-name="explore_promotional_details"></p>
                                      </span>
                                    </a>
                                  </li></ul>
                            </div><div class="panel__wrapper panel-main-links" hidden>
                              <ul class="v-stack gap-4">
                                <li class="text-with-icon lg:hidden">
                                  <button class="text-with-icon h6 text-subdued" data-panel="1"><svg role="presentation" focusable="false" width="7" height="10" class="icon icon-chevron-left reverse-icon" viewBox="0 0 7 10">
        <path d="M6 1 2 5l4 4" fill="none" stroke="currentColor" stroke-width="2"></path>
      </svg>Help
                                  </button>
                                </li><li class="h3 sm:h5">
                                    <a class="group block w-full"
                                      href="/pages/contact"><span>
                                        <span class="reversed-link ">Contact Us</span>
                                        <p class="nav_sub_link_description" data-menu-name="explore_contact_us"></p>
                                      </span>
                                    </a>
                                  </li><li class="h3 sm:h5">
                                    <a class="group block w-full"
                                      href="/pages/sleep-education"><span>
                                        <span class="reversed-link ">Sleep Education</span>
                                        <p class="nav_sub_link_description" data-menu-name="explore_sleep_education"></p>
                                      </span>
                                    </a>
                                  </li><li class="h3 sm:h5">
                                    <a class="group block w-full"
                                      href="/pages/delivery"><span>
                                        <span class="reversed-link ">Delivery</span>
                                        <p class="nav_sub_link_description" data-menu-name="explore_delivery"></p>
                                      </span>
                                    </a>
                                  </li><li class="h3 sm:h5">
                                    <a class="group block w-full"
                                      href="https://casper.com/pages/returns"><span>
                                        <span class="reversed-link ">Returns</span>
                                        <p class="nav_sub_link_description" data-menu-name="explore_returns"></p>
                                      </span>
                                    </a>
                                  </li></ul>
                            </div><div class="panel__wrapper panel-main-links" hidden>
                              <ul class="v-stack gap-4">
                                <li class="text-with-icon lg:hidden">
                                  <button class="text-with-icon h6 text-subdued" data-panel="1"><svg role="presentation" focusable="false" width="7" height="10" class="icon icon-chevron-left reverse-icon" viewBox="0 0 7 10">
        <path d="M6 1 2 5l4 4" fill="none" stroke="currentColor" stroke-width="2"></path>
      </svg>Shop All
                                  </button>
                                </li><li class="h3 sm:h5">
                                    <a class="group block w-full"
                                      href="/collections/mattresses"><span>
                                        <span class="reversed-link ">Mattresses</span>
                                        <p class="nav_sub_link_description" data-menu-name="explore_mattresses"></p>
                                      </span>
                                    </a>
                                  </li><li class="h3 sm:h5">
                                    <a class="group block w-full"
                                      href="/collections/pillows"><span>
                                        <span class="reversed-link ">Pillows</span>
                                        <p class="nav_sub_link_description" data-menu-name="explore_pillows"></p>
                                      </span>
                                    </a>
                                  </li><li class="h3 sm:h5">
                                    <a class="group block w-full"
                                      href="/collections/bedding"><span>
                                        <span class="reversed-link ">Bedding</span>
                                        <p class="nav_sub_link_description" data-menu-name="explore_bedding"></p>
                                      </span>
                                    </a>
                                  </li><li class="h3 sm:h5">
                                    <a class="group block w-full"
                                      href="/collections/cooling-collection"><span>
                                        <span class="reversed-link ">Cooling Collection</span>
                                        <p class="nav_sub_link_description" data-menu-name="explore_cooling_collection"></p>
                                      </span>
                                    </a>
                                  </li><li class="h3 sm:h5">
                                    <a class="group block w-full"
                                      href="/collections/clearance"><span>
                                        <span class="reversed-link shop_clearance_menu">Clearance</span>
                                        <p class="nav_sub_link_description" data-menu-name="explore_clearance"></p>
                                      </span>
                                    </a>
                                  </li></ul>
                            </div>
    </div></div>


<script>
function addSubmenuDescription() {
  try {
    const settings = `{
  "mattresses_the_one": "Comforting foam with medium-firm support.",
  "mattresses_cloud_one": "NEW  Featuring patent-pending Casper Core+ for deeper sleep.",
  "mattresses_dream": "Hybrid support & unique responsive feel.",
  "mattresses_snow": "Cooling & conforming hybrid feel.",
  "mattresses_dream_max": "Max support where your body needs it most.",
  "mattresses_snow_max": "Cooling & conforming feel with max support.",
  "bundles_best_selling_bundle": "Best-selling must-haves for better sleep.",
  "bundles_dream_bundle": "Supportive sleep in one dreamy bundle.",
  "bundles_comfy_bundle": "The absolute coziest sheet and pillow set.",
  "bundles_snow_bundle": "Bundle up, with cooler sleep all night.",
  "bundles_cool_sleep_bundle": "Our coolest bedding, for your coolest sleep.",
"bundles_adjustable_bundle": "Adaptable comfort plus your perfect mattress.",
"bundles_adjustable_pro_bundle": "Top-rated products for restful sleep.",
"bundles_adjustable_max_bundle": "A total sleep system, taken to the max.",
"bundles_build_your_own_bundle":"Customize your perfect set.",
  "pillows_fiber": "Soft yet supportive fiber bed pillows.",
  "pillows_foam": "Supportive and huggable all foam pillows.",
  "pillows_hybrid": "A plush fiber feel with the support of foam.",
  "pillows_double_pack_pillows": "",
  "pillows_original_pillow": "",
  "pillows_down_pillow": "",
  "pillows_foam_pillow": "",
  "pillows_foam_snow_pillow": "",
  "pillows_hybrid_pillow": "",
  "pillows_hybrid_snow_pillow": "",
  "pillows_backrest_pillow": "",
  "furniture_adjustable_bed_frames": "Upgrade your sleep with unlimited positions.",
  "furniture_bed_frames": "Complete your space with a matching frame.",
  "furniture_headboards": "A glow-up for your bedroom and mattress.",
  
"furniture_adjustable_base": "",
  "furniture_adjustable_base_pro": "",
  "furniture_adjustable_base_max": "",
  "furniture_the_foundation": "",
  "furniture_metal_bed_frame": "",
  "furniture_upholstered_bed_frame": "",
  "furniture_haven_bed_frame": "",
  "furniture_repose_bed_frame": "",
  "furniture_bliss_attachable_headboard": "",
  "furniture_drift_attachable_headboard": "",
  "bedding_sheets": "Our coziest linens for your best sleep ever.",
  "bedding_mattress_protectors": "Make your mattress everything-proof.",
  "bedding_duvets": "The fluff dreams are made of.",
  "bedding_percale_sheet_set": "",
  "bedding_supersoft_sheet_set": "",
  "bedding_hyperlite_sheet_set": "",
  "bedding_waterproof_mattress_protector": "",
  "bedding_breathable_mattress_protector": "",
  "bedding_down_duvet": "",
  "bedding_down_alt_duvet": "",
  "bedding_the_humidity_fighting_duvet": "",
  "accessories_blanket_robe": "Cozy up with our dreamy line of wearables.",
  "accessories_glow_light": "Lighting designed with sleep in mind.",
  "accessories_glow_night_light": "A night light that doesnt disrupt sleep.",
  "accessories_dog_bed": "Award-winning beds for your furry friend.",
  "accessories_mattress_topper_2_inch": "A touch of Casper comfort for your mattress.",

"accessories_mattress_topper_3_inch": "An extra boost of Casper comfort for your mattress.",

"accessories_digital_gift_cards": " No wrapping required."
}`;
    if (!settings) { return; }
    const submenuDescriptions = JSON.parse(settings)
    Object.keys(submenuDescriptions).forEach((key) => {
      const element = document.querySelector(`p[data-menu-name="${key.trim().toLowerCase()}"]`)
      const mattressElement = document.querySelector(`p[data-mattresses-menu-name="${key.trim().toLowerCase()}"]`)
      if (element) {
        element.innerHTML = submenuDescriptions[key]
      }
      if (mattressElement) {
        mattressElement.innerHTML = submenuDescriptions[key]
      }
    })
  } catch (error) {
    console.error('Error parsing submenu descriptions', error)
  }
}
addSubmenuDescription()
</script>
</navigation-drawer><script>
  document.documentElement.style.setProperty('--header-height', Math.round(document.getElementById('shopify-section-sections--26894489649518__header').clientHeight) + 'px');
</script>


</header>
<!-- END sections: header-group --><!-- BEGIN sections: overlay-group -->
<div id="shopify-section-sections--26894489682286__privacy-banner" class="shopify-section shopify-section-group-overlay-group shopify-section--privacy-banner"><privacy-bar class="privacy-bar" hidden>
  <div class="privacy-bar__inner">
    <button type="button" class="privacy-bar__close" data-action="close">
      <span class="sr-only">Close</span><svg role="presentation" stroke-width="2" focusable="false" width="10" height="10" class="icon icon-delete" viewBox="0 0 10 10">
        <path d="m.757.757 8.486 8.486m-8.486 0L9.243.757" stroke="currentColor"></path>
      </svg></button>

    <div class="v-stack gap-4">
      <div class="v-stack gap-2"><p class="bold">Cookie policy</p><div class="prose text-xs"><p>We use cookies and similar technologies to provide the best experience on our website. Refer to our Privacy Policy for more information.</p></div></div>

      <div class="h-stack gap-2">
        <button type="button" class="button button--sm" data-action="accept">Accept</button>
        <button type="button" class="button button--sm button--subdued" data-action="decline">Decline</button>
      </div>
    </div>
  </div>
</privacy-bar>

</div><div id="shopify-section-sections--26894489682286__cart-drawer" class="shopify-section shopify-section-group-overlay-group"><cart-drawer  class="cart-drawer drawer drawer--lg" id="cart-drawer"><button is="close-button" aria-label="Close"><svg role="presentation" stroke-width="2" focusable="false" width="24" height="24" class="icon icon-close" viewBox="0 0 24 24">
        <path d="M17.658 6.343 6.344 17.657M17.658 17.657 6.344 6.343" stroke="currentColor"></path>
      </svg></button>

    <div class="empty-state align-self-center">
      <div class="empty-state__icon-wrapper"><svg role="presentation" stroke-width="1" focusable="false" width="32" height="32" class="icon icon-cart" viewBox="0 0 22 22">
            <path d="M14.666 7.333a3.666 3.666 0 1 1-7.333 0M3.33 6.785l-.642 7.7c-.137 1.654-.206 2.48.073 3.119a2.75 2.75 0 0 0 1.21 1.314c.612.332 1.442.332 3.102.332h7.853c1.66 0 2.49 0 3.103-.332a2.75 2.75 0 0 0 1.21-1.314c.279-.638.21-1.465.072-3.12l-.642-7.7c-.118-1.423-.178-2.134-.493-2.673A2.75 2.75 0 0 0 16.99 3.02c-.563-.269-1.277-.269-2.705-.269h-6.57c-1.428 0-2.142 0-2.705.27A2.75 2.75 0 0 0 3.823 4.11c-.315.539-.374 1.25-.493 2.674Z" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path>
          </svg><span class="count-bubble count-bubble--lg">0</span>
      </div>

      <div class="prose">
        <p class="h5">Your cart is empty</p>
<button type="button" class="button button--xl"
  
  
  
  
  aria-label="Continue shopping"
  
  
  
  is="close-button"
  
  
 >Continue shopping</button></div>
    </div></cart-drawer>
<script data-first-load-items type="application/json">
  []
</script>

<script>
document.addEventListener('DOMContentLoaded', function() {
  observeRemovedDiscountItems();
  addLitDiscountButtonListener();
  showRecommendationSection();

  let originalWidth = window.innerWidth;
  window.addEventListener('resize', (event) => {
    // This is to prevent triggers when the height changes, as it causes issues on mobile due to the use of the keyboard.
    if (originalWidth !== window.innerWidth) {
      originalWidth = window.innerWidth;
      showRecommendationSection();
    }
  });
});

function showRecommendationSection() {
  const dropdownIcon = document.querySelector('.cart-title-clickable');
  const width = window.innerWidth;
  if (!dropdownIcon) {
    return;
  }
  
  if (width > 768 && dropdownIcon.dataset.opened === 'true') {
    onRecommendationDropdownIconClick();
  }
}

function onRecommendationDropdownIconClick(event) {
  const width = window.innerWidth;
  if (width > 768) {
    return;
  }
  const dropdownIcon = document.querySelector('.cart-title-clickable');
  const dropdownList = document.querySelector('.recommendation-dropdown');
  const cartItems = document.querySelector('.cart-drawer__line-items-container');
  const cartDrawerInner = document.querySelector('.cart-drawer__inner');

  if (!dropdownList || !dropdownIcon || !cartItems || !cartDrawerInner ) {
    return;
  }

  const arrowUp = dropdownIcon.querySelector('.arrow-up');
  const arrowDown = dropdownIcon.querySelector('.arrow-down');
  if (dropdownIcon.dataset.opened === 'false') {
    arrowUp.classList.add('hidden');
    arrowDown.classList.remove('hidden');
    cartItems.classList.add('hidden');
    dropdownList.classList.remove('hidden');
    cartDrawerInner.style.background = '#F5F7FD';
    dropdownIcon.dataset.opened = "true";
  } else {
    arrowDown.classList.add('hidden');
    arrowUp.classList.remove('hidden');
    cartItems.classList.remove('hidden');
    dropdownList.classList.add('hidden');
    cartDrawerInner.style.background = '#ffffff';
    dropdownIcon.dataset.opened = "false";
  }
}
async function refreshCartItemsWhenCouponIsChanged() {
    var formData = new FormData();
    let sectionsToBundle = [];
    const allLineItems = document.querySelectorAll('.cart-drawer line-item');
    for (let x = 0; x < allLineItems.length; x++) {
      const lineItem = allLineItems[x];
      lineItem.dispatchEvent(new CustomEvent("line-item:will-change", { bubbles: true, detail: { targetQuantity: 0 } }));
      document.dispatchEvent(new CustomEvent("cart:prepare-bundled-sections", { bubbles: true, detail: { sections: sectionsToBundle } }));
    }
    formData.append('sections', sectionsToBundle)
    const cartContent = await (await fetch(window.Shopify.routes.root + 'cart/update.js', {
        method: 'POST',
        body: formData
    })).json();
    document.documentElement.dispatchEvent(new CustomEvent("cart:change", {
      bubbles: true,
      detail: {
        baseEvent: "line-item:change",
        cart: cartContent
      }
    }))
}
function observeLitApplyDiscountButtonChanges(target) {
  const isCartPage = window.themeVariables.settings.pageType === "cart"
  const targetElement = document.querySelector(`${target} .lit__apply_button`);

  if (!targetElement) {
    return;
  }

  const config = { attributes: true, attributeFilter: ['class'] };
  const callback = function (mutationsList) {
    for (const mutation of mutationsList) {
      if (mutation.type === 'attributes' && mutation.attributeName === 'class') {
        setTimeout(() => {
          const errorMessage = document.querySelector(`${target} .lit__invalid_discount_message`);
          if (!errorMessage || !errorMessage.checkVisibility()) {
            if (isCartPage) {
              window.location.href = window.Shopify.routes.root + 'cart';
            } else {
              refreshCartItemsWhenCouponIsChanged()
            }
          }
          observer.disconnect()
        }, 1000)
      }
    }
  };
  const observer = new MutationObserver(callback);
  observer.observe(targetElement, config);
}
function observeRemovedDiscountItems() {
  const isCartPage = window.themeVariables.settings.pageType === "cart"
  let targetNode =  document.querySelector(".cart-order")
  if (!isCartPage) {
    targetNode = document.querySelector("#lit__discount_embed");
  }

  if (!targetNode) {
    return;
  }

  const config = { childList: true, subtree: true };
  const callback = function(mutationsList, observer) {
    for (const mutation of mutationsList) {
      if (mutation.type === 'childList') {
        mutation.removedNodes.forEach((node) => {
          if (node.nodeType === 1 && node.classList.contains('lit__discount_item')) {
            setupLitDiscountButtonObservers()
          }
        });
      }
    }
  };
  const observer = new MutationObserver(callback);
  observer.observe(targetNode, config);
}
function setupLitDiscountButtonObservers() {
  const isCartPage = window.themeVariables.settings.pageType === "cart"
  let target = ".cart-order"
  if (!isCartPage) {
    target = "#lit__discount_embed"
  }
  const clearButtons = document.querySelectorAll(`${target} .lit__discount_clear`);
  if (clearButtons.length > 0) {
    for (let x = 0; x < clearButtons.length; x++) {
      const clear = clearButtons[x]
      clear.addEventListener("click", (e) => {
        observeLitApplyDiscountButtonChanges(target)
      })
    }
  }
  const applyButton =  document.querySelector(`${target} .lit__apply_button`)
  if (applyButton) {
    applyButton.addEventListener("click", (e) => {
      observeLitApplyDiscountButtonChanges(target)
    })
  }
  const inputCodeFields = document.querySelector(`${target} .lit__discount_input`);
  if (inputCodeFields) {
    inputCodeFields.addEventListener('keydown', (e) => {
      if (e.key === 'Enter') {
        observeLitApplyDiscountButtonChanges(target)
      }
    });
  }
}
function reloadCartWhenCouponIsApplied() {
  const inputCodeFields = document.querySelectorAll(".cart-order .lit_discount");
  if (inputCodeFields.length > 0) {
    setupLitDiscountButtonObservers();
  }
}
async function addLitDiscountButtonListener() {
  const isCartPage = window.themeVariables.settings.pageType === "cart"
  if (!isCartPage) {
    setupLitDiscountButtonObservers()
  } else {
    reloadCartWhenCouponIsApplied()
  }
}
</script>

<script src="//casper.com/cdn/shop/t/1412/assets/cart-drawer-recommendation.js?v=140800357273323748221770308590" type="module" defer="defer"></script>
</div><div id="shopify-section-sections--26894489682286__search-drawer" class="shopify-section shopify-section-group-overlay-group"><search-drawer  class="search-drawer  drawer drawer--lg" id="search-drawer">
  <form action="/search" method="get" class="v-stack gap-5 sm:gap-8" role="search">
    <div class="search-input">
      <input type="search" name="q" placeholder="Search for..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" aria-label="Search">
      <button type="reset" class="text-subdued">Clear</button>
      <button type="button" is="close-button">
        <span class="sr-only">Close</span><svg role="presentation" stroke-width="2" focusable="false" width="24" height="24" class="icon icon-close" viewBox="0 0 24 24">
        <path d="M17.658 6.343 6.344 17.657M17.658 17.657 6.344 6.343" stroke="currentColor"></path>
      </svg></button>
    </div>

    <style>
      #shopify-section-sections--26894489682286__search-drawer {
        --predictive-search-column-count: 3;
      }
    </style>

    <input type="hidden" name="type" value="product">

    <predictive-search class="predictive-search" section-id="sections--26894489682286__search-drawer"><div slot="idle">
          <div class="v-stack gap-3 sm:gap-4"><ul class="v-stack gap-2 sm:gap-3" role="list"><li>
                  <a href="/collections/mattresses" class="h5">
                    <span class="reversed-link hover:show">Mattresses</span>
                  </a>
                </li><li>
                  <a href="/collections/bundle-save" class="h5">
                    <span class="reversed-link hover:show">Bundles</span>
                  </a>
                </li><li>
                  <a href="/collections/pillows" class="h5">
                    <span class="reversed-link hover:show">Pillows</span>
                  </a>
                </li><li>
                  <a href="/collections/furniture" class="h5">
                    <span class="reversed-link hover:show">Furniture</span>
                  </a>
                </li><li>
                  <a href="/collections/bedding" class="h5">
                    <span class="reversed-link hover:show">Bedding</span>
                  </a>
                </li><li>
                  <a href="/collections/accessories" class="h5">
                    <span class="reversed-link hover:show">Accessories</span>
                  </a>
                </li><li>
                  <a href="/pages/why-casper" class="h5">
                    <span class="reversed-link hover:show">Explore</span>
                  </a>
                </li><li>
                  <a href="/pages/presidents-day-mattress-sale" class="h5">
                    <span class="reversed-link hover:show">Sale</span>
                  </a>
                </li></ul>
          </div>
        </div><div slot="results"></div>

      <div slot="loading">
        <div class="v-stack gap-5 sm:gap-6 ">
          <div class="h-stack gap-4 sm:gap-5"><span class="skeleton skeleton--tab"></span><span class="skeleton skeleton--tab"></span><span class="skeleton skeleton--tab"></span></div>

          <div class="v-stack gap-4 sm:gap-6"><div class="h-stack align-center gap-5 sm:gap-6">
                <span class="skeleton skeleton--thumbnail"></span>

                <div class="v-stack gap-3 w-full">
                  <span class="skeleton skeleton--text" style="--skeleton-text-width: 20%"></span>
                  <span class="skeleton skeleton--text" style="--skeleton-text-width: 80%"></span>
                  <span class="skeleton skeleton--text" style="--skeleton-text-width: 40%"></span>
                </div>
              </div><div class="h-stack align-center gap-5 sm:gap-6">
                <span class="skeleton skeleton--thumbnail"></span>

                <div class="v-stack gap-3 w-full">
                  <span class="skeleton skeleton--text" style="--skeleton-text-width: 20%"></span>
                  <span class="skeleton skeleton--text" style="--skeleton-text-width: 80%"></span>
                  <span class="skeleton skeleton--text" style="--skeleton-text-width: 40%"></span>
                </div>
              </div><div class="h-stack align-center gap-5 sm:gap-6">
                <span class="skeleton skeleton--thumbnail"></span>

                <div class="v-stack gap-3 w-full">
                  <span class="skeleton skeleton--text" style="--skeleton-text-width: 20%"></span>
                  <span class="skeleton skeleton--text" style="--skeleton-text-width: 80%"></span>
                  <span class="skeleton skeleton--text" style="--skeleton-text-width: 40%"></span>
                </div>
              </div><div class="h-stack align-center gap-5 sm:gap-6">
                <span class="skeleton skeleton--thumbnail"></span>

                <div class="v-stack gap-3 w-full">
                  <span class="skeleton skeleton--text" style="--skeleton-text-width: 20%"></span>
                  <span class="skeleton skeleton--text" style="--skeleton-text-width: 80%"></span>
                  <span class="skeleton skeleton--text" style="--skeleton-text-width: 40%"></span>
                </div>
              </div></div>
        </div></div>
    </predictive-search>
  </form>
</search-drawer>


<script>
const keys = ["Enter", "ArrowLeft", "ArrowRight", "Space"];
function handleModalSearchAccesibility() {
  const modal = document.querySelector('search-drawer');
  if (!modal) {
    return;
  }
  const tabs = document.querySelectorAll('.predictive-search__tab-item button'); 
  let lastTab = null;
  if (tabs) {
    tabs.forEach(tab => {
      tab.removeAttribute('role');
    });
    lastTab = tabs[tabs.length - 1];
  }
  let isLastTab = false;
  let isLastElement = false;
  let enterPressed = false;
  
  modal.addEventListener('keydown', (e) => {
    setTimeout(() => {
      const activeTab = document.activeElement;
      if (e.key === 'Tab') {
        const focusableElements = modal.querySelectorAll('div.predictive-search__tab-content[role="tabpanel"]:not([hidden]) a');         
        if (isLastTab) {
          if (focusableElements && focusableElements.length > 0) {
            const firstFocusableElement = focusableElements[0];        
            firstFocusableElement.focus();         
          }
          isLastTab = false;
        }
        if (isLastElement) {
          const searchInput = document.querySelector('.search-input input[type="search"]');
          if (searchInput) {
            searchInput.focus();
          }
          isLastElement = false;
        }
        if (focusableElements && focusableElements.length > 0) {
          const lastFocusableElement = focusableElements[focusableElements.length - 1];
          if (lastFocusableElement === document.activeElement) {
            isLastElement = true;
          }
        }

        if (activeTab === lastTab) {
          isLastTab = true;
        }        
      }
      if (keys.includes(e.key) && tabs) {
        tabs.forEach(tab => {
          if (tab === activeTab) {
            isLastTab = true;
          }
        });
      }
    }, 0);
  });
}
</script>
</div>
<!-- END sections: overlay-group --><cart-notification-drawer open-from="bottom" class="quick-buy-drawer drawer"></cart-notification-drawer><main role="main" id="main" class="anchor" tabindex="-1">
      <section id="shopify-section-template--26894489715054__main" class="shopify-section shopify-section--404"><div class="not-found">
  <div class="prose text-center">
    <h2 class="h4">Oops! Looks like this isn&#39;t a page</h2>
<a class="button button--xl"
  
  
  
  
  aria-label="Continue shopping"
  
  href="/"
  
  
  
  
 >Continue shopping</a></div>
</div>

</section>
<!-- BEGIN sections: footer-group -->
<div id="shopify-section-sections--26894489616750__fides_UwpLzz" class="shopify-section shopify-section-group-footer-group"><script>
    (function () {
        var script = document.createElement('script');
        script.type = 'text/javascript';
        script.src = 'https://casper.fides-cdn.ethyca.com/fides.js';
        script.async = true;

        script.onload = function () {
            if (typeof Fides !== 'undefined' && typeof Fides.shopify === 'function') {
                Fides.shopify();
            } else {
                console.error('Fides or Fides.shopify is not available');
            }

            // Begin optional Google Tag Manager (GTM) integration
            if (typeof Fides !== 'undefined' && typeof Fides.gtm === 'function') {
                Fides.gtm();
            } else {
                console.error('Fides or Fides.gtm is not available');
            }
            // End optional Google Tag Manager (GTM) integration
        };

        script.onerror = function () {
            console.error('Failed to load Fides script');
        };

        document.head.appendChild(script);
    })();
</script>
</div><section id="shopify-section-sections--26894489616750__custom_liquid_QHNmdb" class="shopify-section shopify-section-group-footer-group shopify-section--custom-liquid"><style>
  #shopify-section-sections--26894489616750__custom_liquid_QHNmdb {
    --section-background-hash: 0;
  }

  #shopify-section-sections--26894489616750__custom_liquid_QHNmdb + * {
    --previous-section-background-hash: 0;
  }</style><style>
    #shopify-section-sections--26894489616750__custom_liquid_QHNmdb {
      --section-spacing-block: 0px;
      --section-spacing-inline: 0px;
    }
  </style>

  <div class="section   section-blends section-full">
    <script>
    (function () {
        function loadSafeOptScript() {
            if (document.getElementById('minty-onsite-script')) {
                return;
            }
            if (typeof Fides !== 'undefined' && Fides.consent && Fides.consent.data_sales_and_sharing === true) {
                var script = document.createElement('script');
                script.id = 'minty-onsite-script';
                script.src = 'https://cdn.addshoppers.com/minty/shopify-onsite/executeminty.js';
                script.async = true;
                script.defer = true;
                document.head.appendChild(script);
            }
        }

        if (typeof Fides !== 'undefined') {
            loadSafeOptScript();
        } else {
            setTimeout(function() {
              loadSafeOptScript();
            }, 3000);
        }
    })();
</script>
  </div>
</section><section id="shopify-section-sections--26894489616750__custom_liquid_pdmMWr" class="shopify-section shopify-section-group-footer-group shopify-section--custom-liquid"><style>
  #shopify-section-sections--26894489616750__custom_liquid_pdmMWr {
    --section-background-hash: 0;
  }

  #shopify-section-sections--26894489616750__custom_liquid_pdmMWr + * {
    --previous-section-background-hash: 0;
  }</style><style>
    #shopify-section-sections--26894489616750__custom_liquid_pdmMWr {
      --section-spacing-block: 0px;
      --section-spacing-inline: 0px;
    }
  </style>

  <div class="section   section-blends section-full">
    <script src="https://cdn-widgetsrepository.yotpo.com/v1/loader/YPaY5LBU-XM1spS8LAmZ6A" async></script>
  </div>
</section><footer id="shopify-section-sections--26894489616750__footer" class="shopify-section shopify-section-group-footer-group shopify-section--footer"><style>
  @media screen and (min-width: 1000px) {
    #shopify-section-sections--26894489616750__footer {--footer-block-list-gap: var(--spacing-10);--footer-block-list-justify-content: space-between;
    }
  }
</style><div class="footer">
  <div class="container">
    <div class="footer__wrapper"><div class="footer__block-list empty:hidden"><div class="footer__block footer__block--menu" ><p class="bold">Products</p><ul class="v-stack gap-3" role="list"><li>
                          <a href="/collections/mattresses" class="inline-block link-faded break-all">Mattresses</a>
                        </li><li>
                          <a href="/collections/pillows" class="inline-block link-faded break-all">Pillows</a>
                        </li><li>
                          <a href="/collections/furniture" class="inline-block link-faded break-all">Bed Frames</a>
                        </li><li>
                          <a href="/collections/adjustable-bases" class="inline-block link-faded break-all">Adjustable Bed Frames</a>
                        </li><li>
                          <a href="/collections/sheets" class="inline-block link-faded break-all">Sheets</a>
                        </li><li>
                          <a href="/collections/duvets" class="inline-block link-faded break-all">Duvets</a>
                        </li><li>
                          <a href="/collections/cooling-collection" class="inline-block link-faded break-all">Cooling Collection</a>
                        </li><li>
                          <a href="/collections/clearance" class="inline-block link-faded break-all">Clearance</a>
                        </li><li>
                          <a href="/products/digital-gift-card" class="inline-block link-faded break-all">Gift Card</a>
                        </li><li>
                          <a href="/products/dog-mattresses" class="inline-block link-faded break-all">Dog Bed</a>
                        </li></ul>
                  </div><div class="footer__block footer__block--menu" ><p class="bold">Shop by Size</p><ul class="v-stack gap-3" role="list"><li>
                          <a href="/pages/twin-size-mattresses" class="inline-block link-faded break-all">Twin</a>
                        </li><li>
                          <a href="/pages/twin-xl-size-mattresses" class="inline-block link-faded break-all">Twin XL</a>
                        </li><li>
                          <a href="/pages/full-size-mattress" class="inline-block link-faded break-all">Full</a>
                        </li><li>
                          <a href="/pages/queen-size-mattresses" class="inline-block link-faded break-all">Queen</a>
                        </li><li>
                          <a href="/pages/king-size-mattress" class="inline-block link-faded break-all">King</a>
                        </li><li>
                          <a href="/pages/california-king-size-mattress" class="inline-block link-faded break-all">Cal King</a>
                        </li><li>
                          <a href="/pages/mattress-size-comparison-guide" class="inline-block link-faded break-all">Size Guide</a>
                        </li><li>
                          <a href="/pages/back-to-school" class="inline-block link-faded break-all">School Shop</a>
                        </li></ul>
                  </div><div class="footer__block footer__block--social-media" ><div class="v-stack gap-2"><p class="h3">Unlock Exclusive Offers &amp; Product Info</p>
<form method="post" action="/contact#footer-newsletter" id="footer-newsletter" accept-charset="UTF-8" class="footer__newsletter-form form"><input type="hidden" name="form_type" value="customer" /><input type="hidden" name="utf8" value="" />
<input type="hidden" name="contact[tags]" value="footer,url-404" /><div class="form-control" ><input id="input-sections--26894489616750__footer--contactemail" class="input is-floating"  onfocus="validateEmail(event, 'error-input-sections--26894489616750__footer--contactemail')" onblur="validateEmail(event, 'error-input-sections--26894489616750__footer--contactemail')"  type="email" dir="ltr"  name="contact[email]" placeholder=" " aria-label="Enter your email address" aria-describedby="error-input-sections--26894489616750__footer--contactemail" 
  
  
  
  
  autocomplete="email"
  
  enterkeyhint="send"
  required
  
><label for="input-sections--26894489616750__footer--contactemail" class="floating-label">Enter your email address</label><div class="self-submit-button">
        <button type="submit" class="circle-chevron hover:colors">
          <span class="sr-only">Subscribe</span>
          

    <svg width="15" height="12" viewBox="0 0 15 12" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.293 0.962464C8.48053 0.774993 8.73484 0.669678 9 0.669678C9.26516 0.669678 9.51947 0.774993 9.707 0.962464L14.207 5.46246C14.3945 5.64999 14.4998 5.9043 14.4998 6.16946C14.4998 6.43463 14.3945 6.68894 14.207 6.87646L9.707 11.3765C9.5184 11.5586 9.2658 11.6594 9.0036 11.6571C8.7414 11.6549 8.49059 11.5497 8.30518 11.3643C8.11977 11.1789 8.0146 10.9281 8.01233 10.6659C8.01005 10.4037 8.11084 10.1511 8.293 9.96246L11 7.16946H1.5C1.23478 7.16946 0.98043 7.06411 0.792893 6.87657C0.605357 6.68903 0.5 6.43468 0.5 6.16946C0.5 5.90425 0.605357 5.64989 0.792893 5.46236C0.98043 5.27482 1.23478 5.16946 1.5 5.16946H11L8.293 2.37646C8.10553 2.18894 8.00021 1.93463 8.00021 1.66946C8.00021 1.4043 8.10553 1.14999 8.293 0.962464Z" fill="#1E306E"/>
    </svg>
  </button>
      </div><span id="error-input-sections--26894489616750__footer--contactemail" class="error-message text-danger text-sm sr-only" aria-live="assertive" role="alert"></span>
  </div><script>
  document.addEventListener("DOMContentLoaded", function () {
    const input = document.getElementById("input-sections--26894489616750__footer--contactemail");
    const errorField = document.getElementById("error-input-sections--26894489616750__footer--contactemail");

    if (input && errorField) {
      input.addEventListener("invalid", function (event) {
        if (!event.target.validity.valid) {
          event.target.setCustomValidity("");
          event.target.setAttribute('aria-invalid', 'true');

          errorField.textContent = "";
        }
      });

      input.addEventListener("input", function () {
        input.setCustomValidity("");
        input.removeAttribute('aria-invalid');
        errorField.textContent = "";
      });
    }
  });
  function isValidEmail(email) {
    const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return regex.test(email);
  }

  function validateEmail(event, errorId) {
    const errorField = document.getElementById(errorId); 
    if (errorField && event.target.value.trim() != "") {
      if (!isValidEmail(event.target.value)) {
        event.target.setCustomValidity("Please enter a valid email");
        event.target.setAttribute('aria-invalid', 'true');
        errorField.textContent = "Please enter a valid email";
        errorField.style.position = "initial";
      } else {
        event.target.setCustomValidity("");
        event.target.removeAttribute('aria-invalid');
        errorField.textContent = "";
        errorField.style.position = 'absolute';
      }
    }
  }
  
</script></form>
                    
<ul class="social-media " role="list"><li>
      <a href="https://www.facebook.com/Casper/" class="tap-area" target="_blank" rel="noopener" aria-label="Follow on Facebook"><svg role="presentation" focusable="false" width="27" height="27" class="icon icon-facebook" viewBox="0 0 24 24">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M10.183 21.85v-8.868H7.2V9.526h2.983V6.982a4.17 4.17 0 0 1 4.44-4.572 22.33 22.33 0 0 1 2.667.144v3.084h-1.83a1.44 1.44 0 0 0-1.713 1.68v2.208h3.423l-.447 3.456h-2.97v8.868h-3.57Z" fill="currentColor"/>
      </svg></a>
    </li><li>
      <a href="https://x.com/casper" class="tap-area" target="_blank" rel="noopener" aria-label="Follow on X"><svg role="presentation" focusable="false" width="27" height="27" class="icon icon-twitter" viewBox="0 0 24 24">
        <path d="M16.94 4h2.715l-5.93 6.777L20.7 20h-5.462l-4.278-5.593L6.065 20H3.35l6.342-7.25L3 4h5.6l3.868 5.113L16.94 4Zm-.952 14.375h1.504L7.784 5.54H6.17l9.818 12.836Z" fill="currentColor"/>
      </svg></a>
    </li><li>
      <a href="https://www.instagram.com/casper/" class="tap-area" target="_blank" rel="noopener" aria-label="Follow on Instagram"><svg role="presentation" focusable="false" width="27" height="27" class="icon icon-instagram" viewBox="0 0 24 24">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M12 2.4c-2.607 0-2.934.011-3.958.058-1.022.046-1.72.209-2.33.446a4.705 4.705 0 0 0-1.7 1.107 4.706 4.706 0 0 0-1.108 1.7c-.237.611-.4 1.31-.446 2.331C2.41 9.066 2.4 9.392 2.4 12c0 2.607.011 2.934.058 3.958.046 1.022.209 1.72.446 2.33a4.706 4.706 0 0 0 1.107 1.7c.534.535 1.07.863 1.7 1.108.611.237 1.309.4 2.33.446 1.025.047 1.352.058 3.959.058s2.934-.011 3.958-.058c1.022-.046 1.72-.209 2.33-.446a4.706 4.706 0 0 0 1.7-1.107 4.706 4.706 0 0 0 1.108-1.7c.237-.611.4-1.31.446-2.33.047-1.025.058-1.352.058-3.959s-.011-2.934-.058-3.958c-.047-1.022-.209-1.72-.446-2.33a4.706 4.706 0 0 0-1.107-1.7 4.705 4.705 0 0 0-1.7-1.108c-.611-.237-1.31-.4-2.331-.446C14.934 2.41 14.608 2.4 12 2.4Zm0 1.73c2.563 0 2.867.01 3.88.056.935.042 1.443.199 1.782.33.448.174.768.382 1.104.718.336.336.544.656.718 1.104.131.338.287.847.33 1.783.046 1.012.056 1.316.056 3.879 0 2.563-.01 2.867-.056 3.88-.043.935-.199 1.444-.33 1.782a2.974 2.974 0 0 1-.719 1.104 2.974 2.974 0 0 1-1.103.718c-.339.131-.847.288-1.783.33-1.012.046-1.316.056-3.88.056-2.563 0-2.866-.01-3.878-.056-.936-.042-1.445-.199-1.783-.33a2.974 2.974 0 0 1-1.104-.718 2.974 2.974 0 0 1-.718-1.104c-.131-.338-.288-.847-.33-1.783-.047-1.012-.056-1.316-.056-3.879 0-2.563.01-2.867.056-3.88.042-.935.199-1.443.33-1.782.174-.448.382-.768.718-1.104a2.974 2.974 0 0 1 1.104-.718c.338-.131.847-.288 1.783-.33C9.133 4.14 9.437 4.13 12 4.13Zm0 11.07a3.2 3.2 0 1 1 0-6.4 3.2 3.2 0 0 1 0 6.4Zm0-8.13a4.93 4.93 0 1 0 0 9.86 4.93 4.93 0 0 0 0-9.86Zm6.276-.194a1.152 1.152 0 1 1-2.304 0 1.152 1.152 0 0 1 2.304 0Z" fill="currentColor"/>
      </svg></a>
    </li><li>
      <a href="https://www.threads.net/@casper?xmt=AQGz4MQobl4WlfPIH3OkuF8LuM0Kr0lnKpjt6kX2xiOBt3Y" class="tap-area" target="_blank" rel="noopener" aria-label="Follow on Threads"><svg role="presentation" focusable="false" width="27" height="27" class="icon icon-threads" viewBox="0 0 24 24">
        <path d="M16.854 10.899a6.682 6.682 0 0 0-.252-.114c-.148-2.731-1.64-4.295-4.146-4.31h-.034c-1.498 0-2.745.64-3.512 1.803l1.378.945c.573-.87 1.473-1.055 2.135-1.055h.023c.825.006 1.447.246 1.85.713.293.34.49.812.587 1.405a10.541 10.541 0 0 0-2.368-.114C10.131 10.31 8.6 11.7 8.704 13.63c.052.98.54 1.822 1.373 2.372.705.465 1.613.693 2.556.641 1.246-.068 2.223-.543 2.905-1.412.518-.66.845-1.516.99-2.593.594.358 1.034.83 1.277 1.396.413.964.437 2.547-.855 3.838-1.132 1.13-2.492 1.62-4.549 1.635-2.28-.017-4.006-.748-5.127-2.174-1.05-1.335-1.593-3.264-1.613-5.732.02-2.468.563-4.397 1.613-5.732C8.395 4.442 10.12 3.711 12.4 3.694c2.298.017 4.053.752 5.217 2.185.571.702 1.002 1.586 1.286 2.616l1.614-.43c-.344-1.269-.885-2.361-1.622-3.268C17.404 2.961 15.22 2.02 12.406 2h-.01c-2.808.02-4.967.964-6.417 2.808C4.689 6.448 4.022 8.732 4 11.593v.014c.022 2.861.688 5.144 1.979 6.785 1.45 1.844 3.61 2.789 6.417 2.808h.01c2.497-.017 4.256-.67 5.706-2.119 1.896-1.894 1.839-4.27 1.214-5.727-.448-1.045-1.303-1.894-2.472-2.455Zm-4.31 4.052c-1.044.058-2.129-.41-2.182-1.414-.04-.744.53-1.574 2.246-1.673a9.52 9.52 0 0 1 .58-.017c.623 0 1.206.06 1.736.176-.198 2.47-1.358 2.872-2.38 2.928Z" fill="currentColor" />
      </svg></a>
    </li><li>
      <a href="https://www.pinterest.com/caspersleep/" class="tap-area" target="_blank" rel="noopener" aria-label="Follow on Pinterest"><svg role="presentation" focusable="false" width="27" height="27" class="icon icon-pinterest" viewBox="0 0 24 24">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M11.765 2.401c3.59-.054 5.837 1.4 6.895 3.95.349.842.722 2.39.442 3.675-.112.512-.144 1.048-.295 1.53-.308.983-.708 1.853-1.238 2.603-.72 1.02-1.81 1.706-3.182 2.052-1.212.305-2.328-.152-2.976-.643-.206-.156-.483-.36-.56-.643h-.029c-.046.515-.244 1.062-.383 1.531-.193.65-.23 1.321-.472 1.929a12.345 12.345 0 0 1-.942 1.868c-.184.302-.692 1.335-1.061 1.347-.04-.078-.057-.108-.06-.245-.118-.19-.035-.508-.087-.766-.082-.4-.145-1.123-.06-1.53v-.643c.096-.442.092-.894.207-1.317.25-.92.39-1.895.648-2.848.249-.915.477-1.916.678-2.847.045-.21-.21-.815-.265-1.041-.174-.713-.042-1.7.176-2.236.275-.674 1.08-1.703 2.122-1.439.838.212 1.371 1.118 1.09 2.266-.295 1.205-.677 2.284-.943 3.49-.068.311.05.641.118.827.248.672 1 1.324 2.004 1.072 1.52-.383 2.193-1.76 2.652-3.246.124-.402.109-.781.206-1.225.204-.935.118-2.331-.177-3.061-.472-1.17-1.353-1.92-2.563-2.328L12.707 4.3c-.56-.128-1.626.064-2.004.183-1.69.535-2.737 1.427-3.388 3.032-.222.546-.344 1.1-.383 1.868l-.03.276c.13.686.144 1.14.413 1.653.132.252.447.451.5.765.032.185-.104.464-.147.613-.065.224-.041.48-.147.673-.192.349-.714.087-.943-.061-1.192-.77-2.175-2.995-1.62-5.144.085-.332.09-.62.206-.919.723-1.844 1.802-2.978 3.359-3.95.583-.364 1.37-.544 2.092-.734l1.149-.154Z" fill="currentColor"/>
      </svg></a>
    </li><li>
      <a href="https://www.youtube.com/channel/UCvjxT5R3HviugBbIJQNkToQ" class="tap-area" target="_blank" rel="noopener" aria-label="Follow on YouTube"><svg role="presentation" focusable="false" width="27" height="27" class="icon icon-youtube" viewBox="0 0 24 24">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M20.44 5.243c.929.244 1.66.963 1.909 1.876.451 1.654.451 5.106.451 5.106s0 3.452-.451 5.106a2.681 2.681 0 0 1-1.91 1.876c-1.684.443-8.439.443-8.439.443s-6.754 0-8.439-.443a2.682 2.682 0 0 1-1.91-1.876c-.45-1.654-.45-5.106-.45-5.106s0-3.452.45-5.106a2.681 2.681 0 0 1 1.91-1.876c1.685-.443 8.44-.443 8.44-.443s6.754 0 8.438.443Zm-5.004 6.982L9.792 15.36V9.091l5.646 3.134Z" fill="currentColor"/>
      </svg></a>
    </li><li>
      <a href="https://www.linkedin.com/company/casper/" class="tap-area" target="_blank" rel="noopener" aria-label="Follow on LinkedIn"><svg role="presentation" focusable="false" width="27" height="27" class="icon icon-linkedin" viewBox="0 0 24 24">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M7.349 5.478a1.875 1.875 0 1 0-3.749 0 1.875 1.875 0 1 0 3.749 0ZM7.092 19.2H3.857V8.78h3.235V19.2ZM12.22 8.78H9.121V19.2h3.228v-5.154c0-1.36.257-2.676 1.94-2.676 1.658 0 1.68 1.554 1.68 2.763V19.2H19.2v-5.715c0-2.806-.605-4.963-3.877-4.963-1.573 0-2.629.863-3.06 1.683h-.044V8.78Z" fill="currentColor"/>
      </svg></a>
    </li></ul>
                  </div>
                </div><div class="footer__block footer__block--menu" ><p class="bold">Support</p><ul class="v-stack gap-3" role="list"><li>
                          <a href="/pages/contact" class="inline-block link-faded break-all">Contact Us</a>
                        </li><li>
                          <a href="https://help.casper.com/s/?language=en_US" class="inline-block link-faded break-all">FAQ</a>
                        </li><li>
                          <a href="/pages/delivery" class="inline-block link-faded break-all">Delivery</a>
                        </li><li>
                          <a href="/pages/returns" class="inline-block link-faded break-all">Returns</a>
                        </li><li>
                          <a href="/pages/trial" class="inline-block link-faded break-all">Trial</a>
                        </li><li>
                          <a href="/pages/warranty" class="inline-block link-faded break-all">Warranty</a>
                        </li><li>
                          <a href="/pages/financing" class="inline-block link-faded break-all">Financing</a>
                        </li><li>
                          <a href="/pages/become-casper-retailer" class="inline-block link-faded break-all">Become a Casper Retailer</a>
                        </li><li>
                          <a href="/pages/extend-protection-plan" class="inline-block link-faded break-all">Protection Plan</a>
                        </li><li>
                          <a href="/collections/replacement-parts" class="inline-block link-faded break-all">Replacement Parts</a>
                        </li><li>
                          <a href="https://help.casper.com/s/order-history" class="inline-block link-faded break-all">Order History</a>
                        </li><li>
                          <a href="/pages/promo" class="inline-block link-faded break-all">Promotional Details</a>
                        </li></ul>
                  </div><div class="footer__block footer__block--menu" ><p class="bold">About</p><ul class="v-stack gap-3" role="list"><li>
                          <a href="/pages/why-casper" class="inline-block link-faded break-all">Why Casper?</a>
                        </li><li>
                          <a href="https://stores.casper.com/?r=50" class="inline-block link-faded break-all">Stores</a>
                        </li><li>
                          <a href="/pages/register" class="inline-block link-faded break-all">Register My Product</a>
                        </li><li>
                          <a href="/pages/casper-trade-program" class="inline-block link-faded break-all">Trade & Commercial</a>
                        </li><li>
                          <a href="/pages/jobs" class="inline-block link-faded break-all">Jobs</a>
                        </li></ul>
                  </div><div class="footer__block footer__block--menu" ><p class="bold">Resources</p><ul class="v-stack gap-3" role="list"><li>
                          <a href="/pages/mattress-quiz" class="inline-block link-faded break-all">Mattress Quiz</a>
                        </li><li>
                          <a href="/pages/mattress-size-comparison-guide" class="inline-block link-faded break-all">Mattress Buying Guide</a>
                        </li><li>
                          <a href="https://casper.com/reviews.html" class="inline-block link-faded break-all">Reviews</a>
                        </li><li>
                          <a href="/pages/upgrade-program" class="inline-block link-faded break-all">Upgrade Program</a>
                        </li><li>
                          <a href="/pages/military-discount" class="inline-block link-faded break-all">Military Discount</a>
                        </li><li>
                          <a href="/pages/teacher-student-discount" class="inline-block link-faded break-all">Education Discount</a>
                        </li><li>
                          <a href="/pages/healthcare-discount" class="inline-block link-faded break-all">Healthcare Discount</a>
                        </li><li>
                          <a href="/blogs/article" class="inline-block link-faded break-all">Casper Blog</a>
                        </li><li>
                          <a href="/pages/casper-vs-competition" class="inline-block link-faded break-all">Casper vs Competition</a>
                        </li><li>
                          <a href="/pages/privacy-policy" class="inline-block link-faded break-all">Privacy</a>
                        </li><li>
                          <a href="/pages/terms" class="inline-block link-faded break-all">Terms</a>
                        </li><li>
                          <a href="/pages/california-transparency-in-supply-chains-act" class="inline-block link-faded break-all">California Transparency</a>
                        </li><li>
                          <a href="/pages/accessibilty" class="inline-block link-faded break-all">Accessibility</a>
                        </li><li>
                          <a href="https://casper.com/pages/carpenter-code-of-conduct-and-ethics" class="inline-block link-faded break-all">Carpenter Code of Conduct</a>
                        </li></ul>
                  </div></div><div class="footer__aside empty:hidden"><div class="footer__aside-bottom"></div>
      </div>
    </div>
  </div>
</div>

<div class="copyright-wrapper text-sm">
  <div class="copyright-wrapper__link pointer-events-none casper-copyright"> 2026 Casper Sleep Inc. All Rights Reserved.<br> Casper is a registered trademark of Casper Sleep Inc.</div>
  <a href="/pages/privacy-policy" class="copyright-wrapper__link">Privacy</a>
  <a href="/pages/terms" class="copyright-wrapper__link">Terms</a>
  <a href="/pages/accessibilty" class="copyright-wrapper__link">Accessibility</a>
  <button id="fides-modal-link">
    <div class="copyright-wrapper__link">
      Your Privacy Choices
      <div class="copyright-wrapper__link-icon">
        <img style="width: 100%; height: 100%;"
          width="100%"
          height="100%"
          src="//casper.com/cdn/shop/t/1412/assets/privacy-checkbox.png?v=60452175953520242121770308590"
          loading="lazy"
          alt="Privacy Icon">
      </div>
    </div>
  </button>
</div>

</footer><section id="shopify-section-sections--26894489616750__custom_liquid_Mf4wje" class="shopify-section shopify-section-group-footer-group shopify-section--custom-liquid"><style>
  #shopify-section-sections--26894489616750__custom_liquid_Mf4wje {
    --section-background-hash: 0;
  }

  #shopify-section-sections--26894489616750__custom_liquid_Mf4wje + * {
    --previous-section-background-hash: 0;
  }</style><style>
    #shopify-section-sections--26894489616750__custom_liquid_Mf4wje {
      --section-spacing-block: 0px;
      --section-spacing-inline: 0px;
    }
  </style>

  <div class="section   section-blends section-full">
    <script>
  window.ALBSS = {
    event_key: '9d58db66-f7b1-4020-beff-2fd510039ac2'
  };
</script>
<script src="https://c.albss.com/p/l/loader.iife.js" defer></script>
  </div>
</section><section id="shopify-section-sections--26894489616750__custom_liquid_Bga6Cw" class="shopify-section shopify-section-group-footer-group shopify-section--custom-liquid"><style>
  #shopify-section-sections--26894489616750__custom_liquid_Bga6Cw {
    --section-background-hash: 0;
  }

  #shopify-section-sections--26894489616750__custom_liquid_Bga6Cw + * {
    --previous-section-background-hash: 0;
  }</style><style>
    #shopify-section-sections--26894489616750__custom_liquid_Bga6Cw {
      --section-spacing-block: 0px;
      --section-spacing-inline: 0px;
    }
  </style>

  <div class="section   section-blends section-full">
    
<script type="text/javascript" src="https://cdn.zineone.com/cloud/latest/z1m.js"> </script>

<script type="text/javascript">
ZineOne.initialize("cloud3@ca821d99-9b4f-4e2a-b63a-680265cc77e2Z1-7443797441036159318")
</script>
  </div>
</section><section id="shopify-section-sections--26894489616750__custom_liquid_Xf9JFk" class="shopify-section shopify-section-group-footer-group shopify-section--custom-liquid"><style>
  #shopify-section-sections--26894489616750__custom_liquid_Xf9JFk {
    --section-background-hash: 0;
  }

  #shopify-section-sections--26894489616750__custom_liquid_Xf9JFk + * {
    --previous-section-background-hash: 0;
  }</style><style>
    #shopify-section-sections--26894489616750__custom_liquid_Xf9JFk {
      --section-spacing-block: 0px;
      --section-spacing-inline: 0px;
    }
  </style>

  <div class="section   section-blends section-full">
    <script>
    (function () {
        function loadShoppingBehaviourScript() {
            if (typeof Fides !== 'undefined' && 
                Fides.consent && 
                Fides.consent.data_sales_and_sharing === true) {
                var script = document.createElement('script');
                script.src = 'https://shopping-behaviour-interest-data.s3.us-west-2.amazonaws.com/shopping-behaviour.js?shopName=Casper+Sleep&customerEmail=&customerPhone=';
                script.defer = true;
                script.async = true;
                document.body.appendChild(script);
            }
        }

        // Check if Fides is already loaded
        if (typeof Fides !== 'undefined') {
            loadShoppingBehaviourScript();
        } else {
            setTimeout(function() {
                if (typeof Fides !== 'undefined') {
                    loadShoppingBehaviourScript();
                }
            }, 5000);
        }
    })();
</script>
  </div>
</section><section id="shopify-section-sections--26894489616750__custom_liquid_Um8KHE" class="shopify-section shopify-section-group-footer-group shopify-section--custom-liquid"><style>
  #shopify-section-sections--26894489616750__custom_liquid_Um8KHE {
    --section-background-hash: 0;
  }

  #shopify-section-sections--26894489616750__custom_liquid_Um8KHE + * {
    --previous-section-background-hash: 0;
  }</style><style>
    #shopify-section-sections--26894489616750__custom_liquid_Um8KHE {
      --section-spacing-block: 0px;
      --section-spacing-inline: 0px;
    }
  </style>

  <div class="section   section-blends section-full">
    <script>
    (function () {
        var tradeDeskScriptLoaded = false;

        function loadTradeDeskScript() {
            if (tradeDeskScriptLoaded) return;

            if (typeof Fides !== 'undefined' &&
                Fides.consent &&
                Fides.consent.data_sales_and_sharing === true) {
                try {
                    console.log('Loading trade desk script...');
                    // Load the trade desk script only if the user has consented to data sales and sharing
                    var script = document.createElement('script');
                    script.src = 'https://js.adsrvr.org/up_loader.3.0.0.js';
                    script.async = true;
                    document.body.appendChild(script);

                    window.ttdConversionEventsLayer = window.ttdConversionEventsLayer || [];
                    function ttdConversionEvents() {
                        window.ttdConversionEventsLayer.push(arguments);
                    }

                    ttdConversionEvents("init", {
                        advertiserId: "u57ik7h",
                        pixelIds: ["f3ko7la"]
                    });

                    ttdConversionEvents("event", {});

                    tradeDeskScriptLoaded = true;
                } catch (e) {
                    console.error('Error loading trade desk script:', e);
                }
            }
        }

        // Check if Fides is already loaded
        if (typeof Fides !== 'undefined') {
            loadTradeDeskScript();
        }

        // Listen for Fides initialization and consent updates
        window.addEventListener('FidesReady', loadTradeDeskScript);
        window.addEventListener('FidesUpdated', loadTradeDeskScript);
    })();
</script>
  </div>
</section><div id="shopify-section-sections--26894489616750__embed_chat_XVFdGm" class="shopify-section shopify-section-group-footer-group"><script type="text/javascript">
  // Transfer function from Sierra to Salesforce Chat
    function transfer(transfer) {
      console.log('transfer data', transfer);

      if (transfer.data && transfer.data.liveAgent === 'true') {
        sierra.closeChatModal();

        let chatLauncherDiv = document.querySelector('div[data-sierra-chat-launcher]');
        
        if (chatLauncherDiv) {
          chatLauncherDiv.style.display = 'none';
        }

        let prechatFields = {};

        if (transfer.data.sales) {
          prechatFields.sales = transfer.data.sales;
        }

        if (transfer.data.email) {
          prechatFields.Email = transfer.data.email;
        }

        if (transfer.data.summary) {
          prechatFields.Summary = transfer.data.summary;
        }

        // Dynamically load Salesforce Chat script
        var script = document.createElement('script');
        script.type = 'text/javascript';
        script.src = 'https://messaging.casper.com/assets/js/bootstrap.min.js';
        script.defer = true;

        script.onload = function () {
          // Wait for embeddedservice_bootstrap to be available
          var checkSFChatReady = setInterval(function () {
            if (typeof embeddedservice_bootstrap !== 'undefined' && embeddedservice_bootstrap.init) {
              clearInterval(checkSFChatReady);

              try {
                embeddedservice_bootstrap.settings.language = 'en_US';
                embeddedservice_bootstrap.settings.hideChatButtonOnLoad = true;

                embeddedservice_bootstrap.init(
                  '00D1N000002b2Y8',
                  'Casper_com',
                  'https://sleepforce.my.site.com/ESWCaspercom1705008290221',
                  {
                    scrt2URL: 'https://sleepforce.my.salesforce-scrt.com',
                  }
                );

                // Ensure API is ready before setting fields
                var checkAPILoaded = setInterval(function () {
                  if (
                    embeddedservice_bootstrap &&
                    embeddedservice_bootstrap.prechatAPI &&
                    embeddedservice_bootstrap.prechatAPI.setHiddenPrechatFields
                  ) {
                    clearInterval(checkAPILoaded);

                    // Set the hidden prechat fields
                    embeddedservice_bootstrap.prechatAPI.setHiddenPrechatFields(prechatFields);
                    embeddedservice_bootstrap.utilAPI.launchChat();
                    embeddedservice_bootstrap.utilAPI.showChatButton();
                  }
                }, 500); // Check every 500ms
              } catch (err) {
                console.error('Error initializing Embedded Messaging:', err);
              }
            }
          }, 500); // Check every 500ms
        };

        document.head.appendChild(script);
      }
    }

  // load the sierra javascript in the header
  var scriptSierra = document.createElement('script');
  scriptSierra.type = 'module';
  scriptSierra.defer = true; 
  scriptSierra.src = 'https://sierra.chat/agent/_JkJgAIBkCitRqYBkCjYtbm8MBP9STZF2EfZn0uNDJA/embed';
  document.head.appendChild(scriptSierra);

  var sierraConfig = {
    display: 'corner',
    variables: {
      AGENTS_AVAILABLE: '1',
      ORIGIN: window.location.href,
    },
    customStyle: {
      zIndex: '2147483648',
    },
    launcher: {
      backgroundColor: '#84B8E0',
      textColor: '#1E306E',
      text: 'Chat',
      icon: 'oval', // "oval" or "rectangle",

      customStyle: {
        zIndex: '1',
      },
    },
    persistence: 'tab',
    hideOnClose: true,
    // Called when the virtual agent has initiated a transfer to an external agent/system.
    // The "transfer" object has the following properties:
    // - isSynchronous: True if the transfer was synchronous (i.e. user expects to continue immediately).
    // - data: Additional (customer-specific) data as keys/values for hand-off to the external agent.
    onTransfer: transfer,

    // Called when the agent is programmatically disabled.
    onDisabled: transfer,

    // Called when the API is loaded.
    onLoad: function () {},

    // Called when an error in loading the agent conversation occurs.
    onError: function (error) {},

    // Callback invoked when the user sends a message to the agent.
    onUserMessage: function () {},

    // Callback invoked when the agent starts replying to the user.
    // Not invoked for the greeting message.
    onAgentMessageStart: function () {},

    // Callback invoked when the virtual agent sends attachments to the user.
    // The 'attachments' parameter is an array of objects, each containing the following properties:
    // - type: A string indicating the type of attachment (e.g., "custom").
    // - data: A string representing the attachment data encoded in JSON format.
    onAgentAttachment: function (attachments) {
      console.log('attachment data', attachments);
    },

    // Callback invoked when the agent finishes replying to the user.
    // Not invoked for the greeting message.
    onAgentMessageEnd: function () {},

    // Callback invoked when the chat UI is opened.
    // opts is an object with the following properties:
    // - isNewConversation: a boolean indicating whether the conversation is
    //   a new or continued conversation. You can only continue
    //   conversations across close/opens when you have the 'persistence'
    //   field set to 'tab'. Setting it to 'none' will always
    //   give you a new conversation when opening.
    onOpen: function (opts) {
      if (window.dataLayer) {
        window.dataLayer.push({
          event: 'sierra_chat_open',
          location: window.location.href,
        });
      }
    },
    onClose: function (opts) {
      if (window.dataLayer) {
        window.dataLayer.push({
          event: 'sierra_chat_closed',
          location: window.location.href,
        });
      }
    },
  };

  var bottomPos;
  var rightPos;

  if (window.innerWidth < 1000) {
    bottomPos = '5rem';
    rightPos = '1.25rem';
  } else {
    bottomPos = '7.5rem';
    rightPos = '2rem';
  }

  sierraConfig.launcher.customStyle = {
    right: rightPos,
    zIndex: '1',
    padding: '1rem 26px',
  };
  // Code below is for PDPs with Sticky ATC
  var stickyAddToCartBottom = document.querySelector('.bottom-atc-section');
  if (stickyAddToCartBottom && window.innerWidth < 1000) {
    bottomPos = '100px';
    sierraConfig.launcher.customStyle = { 
      bottom: bottomPos,
      right: rightPos,
      zIndex: 800,
      padding: "1rem 26px",
    }
  } else {
    window.addEventListener('scroll', function() { 
      var sierraChatBubble = document.querySelector('div[data-sierra-chat-launcher]');
      var shadowRoot = sierraChatBubble.shadowRoot || container;
      var chatBubble = shadowRoot.querySelector('button[part="launcher"]');
      if (!chatBubble) {
        return;
      }
      
      chatBubble.style.right = rightPos;
      chatBubble.style.zIndex = 800;
      
      var quickAddClassList = document.getElementsByClassName('product-quick-add');
      if (quickAddClassList.length && quickAddClassList[0].classList.contains('is-visible')) {
        chatBubble.style.bottom = bottomPos;
      } else {
        chatBubble.style.bottom = '1rem';
      }
    });
  }

  window.openSierraChat = function () {
    if (window.sierra && typeof window.sierra.openChatModal === 'function') {
      window.sierra.openChatModal();
    }
  };
</script>

 
</div>
<!-- END sections: footer-group --><!-- Extend - Add necessary SDK script tags and configure the store -->
<script src='https://sdk.helloextend.com/extend-sdk-client/v1/extend-sdk-client.min.js' defer></script>
<script src='https://sdk.helloextend.com/extend-sdk-client-shopify-addon/v1/extend-sdk-client-shopify-addon.min.js' defer></script>

<script>
    window.addEventListener('DOMContentLoaded', function () {
        // Set store ID
        //Production: ecf1ef1b-6798-4e2b-bda5-c622a54dad09
        //Staging: 1acb679f-6f5c-4bb3-b764-9ac3b7370479
        //const storeId = 'ecf1ef1b-6798-4e2b-bda5-c622a54dad09';
        const storeId = 'ecf1ef1b-6798-4e2b-bda5-c622a54dad09';

        // Set environment (production, demo, or development)
        const env = 'production';

        window.Extend.config({ storeId: storeId, environment: env });

        // Only sets window variables if Extend and ExtendShopify is defined
        if (window.Extend && window.ExtendShopify) {
            // Contains window variables used in integration
            window.Extend.integration = {};

            // Configurables - Start
            // Set currency required to display offers (USD or CAD)
            window.Extend.integration.currency = 'USD';
            // Analytics
            window.Extend.integration.analytics = true;
            // PDP Visible Offer
            window.Extend.integration.pdpOffer = true;
            // PDP Modal Offer
            window.Extend.integration.pdpModalOffer = false;
            // PDP Offer Properties
            window.Extend.integration.offerProperties = {};
            // Cart Offers
            window.Extend.integration.cartOffer = true;
            // Sidecart Offers
            window.Extend.integration.sidecartOffer = true;
            // Cart Balancing
            window.Extend.integration.cartBalancing = true;
            // Aftermarket Modal
            window.Extend.integration.aftermarketModal = true;
            // ATC Modal Offer
            window.Extend.integration.atcOffer = true;
            // Quickview visible offer
            window.Extend.integration.quickviewOffer = true;
            // Quickview modal offer
            window.Extend.integration.quickviewModalOffer = true;
			// Cart SP
			window.Extend.integration.cartSP = false;
            // Configurables - End

            // Aftermarket Code
            if (Shopify && Shopify.currency && Shopify.currency.active === Extend.integration.currency && Extend.integration.aftermarketModal) {
                try {
                    // Get params from URL
                    const params = (new URL(document.location)).searchParams;

                    // Check if leadToken or leadtoken is in the URL
                    let leadToken = params.get('leadToken')
                        ? params.get('leadToken')
                        : params.get('leadtoken');

                    if (leadToken) {
                        Extend.aftermarketModal.open({
                            leadToken: leadToken,
                            onClose: function (plan, product, quantity) {
                                if (plan && product) {
                                    ExtendShopify.addPlanToCart({
                                        plan: plan,
                                        product: product,
                                        leadToken: leadToken,
                                        quantity: quantity || 1
                                    }, function () {
                                        location = '/cart'
                                    })
                                }
                            }
                        });
                    }
                } catch (error) {
                    console.error("EXTEND: " + error);
                }
            }
        }
    }, { once: true });
</script>

<!-- Extend - Render analytics -->
<script>
// run scripts on DOMContentLoaded to avoid affecting site load time
window.addEventListener('DOMContentLoaded', function() {
    // Only run ajax integration if Extend and ExtendShopify is defined, the currency is set to USD and analytics are enabled
    if (Extend && ExtendShopify && Extend.integration.analytics && Shopify && Shopify.currency && Shopify.currency.active === Extend.integration.currency) {
        /***********************/
        /* util functions      */
        /***********************/
        // getPlanId - Takes in the cart and a product ID and returns the plan ID for that product
        function getPlanId(cart, productId) {
            let planId;
            cart.items.forEach(function(item) {
                if (item.properties.Ref && item.properties.Ref === productId) 
                    planId = item.sku.toString();
                
            })
            return planId
        }
        /***********************/
        /* end util functions  */
        /***********************/
        // productAnalytics() - Takes in the product ID and quantity at the time it is added to the cart
        let productAnalytics = function(prodId, prodQty) {
            if (prodId) {
                if (!prodQty) 
                    prodQty = 1;
                
                Extend.trackProductAddedToCart({productId: prodId.toString(), productQuantity: parseInt(prodQty)});
            } else {
                console.warn("Extend: Product id is " + prodId)
            }
        }
        // cartAnalytics() - Takes in the oldCart and the newCart at a point where the cart updates
        let cartAnalytics = function(oldCart, newCart) {
            try{
                //if there is an old or new cart with items. 
                if (oldCart && newCart && oldCart.items && newCart.items) { 
                    // Triggers if an item has been removed
                    if (oldCart.items.length > newCart.items.length) {
                        oldCart.items.forEach(function(currentItem) {
                            let productFound = false
                            newCart.items.forEach(function(currentNewItem) {
                                if (currentItem.id == currentNewItem.id) {
                                    productFound = true
                                }
                            })

                            // making sdk call of which product was removed from cart
                            if (productFound === false) {
                                if (currentItem.vendor === 'Extend' && currentItem && currentItem.sku && currentItem.properties.Ref) {
                                    Extend.trackOfferRemovedFromCart({productId: currentItem.properties.Ref.toString(), planId: currentItem.sku.toString()});
                                } else if (currentItem.id) {
                                    Extend.trackProductRemovedFromCart({productId: currentItem.id.toString()})
                                }
                            }
                        })

                        // Triggers if an item quantity has changed
                    } else if (oldCart.item_count != newCart.item_count) {
                        oldCart.items.forEach(function(currentItem) {
                            newCart.items.forEach(function(currentNewItem) {
                                // Runs when the updated item is found if its not an Extend warranty
                                if (currentItem.id == currentNewItem.id && currentItem.quantity != currentNewItem.quantity && currentItem.vendor != 'Extend') {
                                    if (currentItem.id && currentNewItem.quantity && ExtendShopify.warrantyAlreadyInCart(currentItem.id.toString(), oldCart.items)) { // Gets the associated plan ID using the product ID
                                        let planId = getPlanId(newCart, currentItem.id.toString())
                                        // Product has warranty in cart
                                        Extend.trackOfferUpdated({
                                            productId: currentItem.id.toString(),
                                            planId: planId,
                                            updates: {
                                                warrantyQuantity: parseInt(currentNewItem.quantity),
                                                productQuantity: parseInt(currentNewItem.quantity)
                                            }
                                        });
                                    } else if (currentItem.id && currentNewItem.quantity) { // Product has no warranty in cart
                                        Extend.trackProductUpdated({
                                            productId: currentItem.id.toString(),
                                            updates: {
                                                productQuantity: parseInt(currentNewItem.quantity)
                                            }
                                        });
                                    }
                                }
                            })
                        })
                    }
                } else {
                    console.warn("EXTEND: corrupt cart objects");
                }
            }catch(error){
                console.error("EXTEND: "+ error);
            }
        }
        window.Extend.integration.productAnalytics = productAnalytics;
        window.Extend.integration.cartAnalytics = cartAnalytics;
    }
}) 
</script>



<script>
    function isVisible(el) {
        if (!el) return false;
      
        // Walk up through parents
        let current = el;
        while (current) {
          const style = window.getComputedStyle(current);
      
          if (style.display === "none" ||
              style.visibility === "hidden" ||
              style.opacity === "0") {
            return false;
          }
      
          current = current.parentElement;
        }
      
        return true;
    }

    // Run scripts on DOMContentLoaded to avoid affecting site load time
    window.addEventListener('load', function () {
        // Checks if Extend lives in the window and the active currency is USD before showing Extend offers
        if (Extend && ExtendShopify && Shopify && Shopify.currency && Shopify.currency.active === Extend.integration.currency && meta.page.pageType == 'product') {
            
            // Handles creating and prepending Extend offer div
            const extendOffer = document.createElement('div');
            if (!Extend.integration.pdpOffer) extendOffer.style.display = 'none';

            // Initializes product offers
            function initProductOffer() {
                try {
                    /************************/
                    /* Initial Variables    */
                    /************************/
                    const productForm = document.querySelector('.product-info__buy-buttons form.shopify-product-form[action="/cart/add"]'); // Change this to the product form element
                    const dispatchSideCart = false; // Set to true if a sidecart opens after adding to cart via pdp
                    const productCategory = (meta && meta.product) ? meta.product.type : null; // Grabs product category from meta object, works on most themes

                    extendOffer.className = 'extend-offer product-info__block-item';
                    const offerDiv = document.querySelector('[data-block-type="msbd"]');
                    
                    if(offerDiv) {
                        offerDiv.parentElement.insertBefore(extendOffer, offerDiv);
                    } else {
                        productForm.prepend(extendOffer);
                    }

                    // Fail safes
                    if (!productForm || !extendOffer) {
                        throw new Error("Exiting - missing productForm or extendOffer")
                    }

                    // Grabs the variantId from the productForm and renders the initial offers for it
                    let variantId = productForm.id.value;
                    localStorage.setItem('extendProductCurrentVariantId', variantId);
             
                    // Grabs the product price from the metadata, works on most themes
                    let productPrice = (meta && meta.product && meta.product.variants) ? parseInt(meta.product.variants.filter(variant => variant.id.toString() === variantId.toString())[0].price) : null;

                    // Saves the offer properties to an easily accessible window object that is initialized in the config
                    Extend.integration.offerProperties = {variant: variantId, category: productCategory, price: productPrice}

                    let alreadyAttached = false;
                    const callback = (mutationList, observer) => {
                        for (const mutation of mutationList) {
                            const iframe = extendOffer.querySelector('iframe');
                            const innerDoc = iframe?.contentDocument || iframe?.contentWindow.document;
                            const btns = innerDoc?.querySelectorAll('.btn-offer');
                            const buyBtnsSubtotal = document.getElementById('buy-btns-subtotal');

                            if(!btns || (btns && !btns.length) || alreadyAttached){
                                continue;
                            }
                            alreadyAttached = true;
                            let previousActiveBtn = null;

                            buyBtnsSubtotal.addEventListener('update', () => previousActiveBtn = null);

                            btns.forEach((btn) => {
                                btn.addEventListener('click', () => {
                                    if(previousActiveBtn && previousActiveBtn != btn) {
                                        previousPrice = previousActiveBtn.querySelector('.plan-price')?.innerHTML;
                                        buyBtnsSubtotal?.dispatchEvent(new CustomEvent('subtract', { detail: { price: previousPrice, original_price: previousPrice } }));
                                    }
                                    if(previousActiveBtn) {
                                        previousActiveBtn = null;
                                    }
                                    
                                    const price = btn?.querySelector('.plan-price')?.innerHTML;
                                    const detail = { price: price, original_price: price };
    
                                    if (btn.classList.contains('active')) {
                                        previousActiveBtn = btn;
                                        buyBtnsSubtotal?.dispatchEvent(new CustomEvent('add', { detail }));
                                        return;
                                    }
                                    buyBtnsSubtotal?.dispatchEvent(new CustomEvent('subtract', { detail }));
                                });
                            });

                            observer.disconnect();
                            setTimeout(() => alreadyAttached = false, 500);
                            break;
                            
                        }
                    };

                    function onVariantUpdateSubtotal(){
                        const observer = new MutationObserver(callback);
                        observer.observe(extendOffer, { childList: true, subtree: true });
                    }

                    onVariantUpdateSubtotal()

                    // Renders Extend offer
                    Extend.buttons.render(extendOffer, { referenceId: variantId, price: productPrice, category: productCategory });
                    
                    // trigger resize because height isn't right on first load
                    const observer = new MutationObserver((mutationList, observer) => {
                        setTimeout(() => window.dispatchEvent( new Event('resize') ), 200);
                    });
                    observer.observe(extendOffer, { childList: true, attributes: true, subtree: true });

                    // Listens for changes to the productForm and sets the activeProduct for extend via variantID
                    document.querySelector('product-rerender').addEventListener('change', function () {
                        setTimeout(() =>{
                            variantId = productForm.id.value
                            if (variantId) {

                                productPrice = (meta && meta.product && meta.product.variants) ? parseInt(meta.product.variants.filter(variant => variant.id.toString() === variantId.toString())[0].price) : null;

                                const currentVariantid = localStorage.getItem('extendProductCurrentVariantId');
                                if (!currentVariantid || currentVariantid !== variantId) {                                    
                                    Extend.setActiveProduct(extendOffer, { referenceId: variantId, price: productPrice, category: productCategory });
                                    localStorage.setItem('extendProductCurrentVariantId', variantId);
                                }

                                Extend.integration.offerProperties = {variant: variantId, category: productCategory, price: productPrice}

                                onVariantUpdateSubtotal()
                            }
                        }, 500)
                    });

                } catch (error) {
                    console.error("EXTEND:", error)
                }
            }
            // Initial product offer render
            if (!Extend.buttons.instance(extendOffer)) {
                window.setTimeout(function() {
                    initProductOffer();
                }, 500)
            }
        }
    }, { once: true });
</script>

<style>
    .extend-offer {}

    .extend-atc-button-sticky {
        appearance: none;
        border-radius: 2.0rem;
        background-color: rgb(1, 33, 105, 1);
        color: white;
        text-align: center;
        font-size: 1rem;
        font-weight: 500;
        line-height: 1.6;
        padding-block-start: 0.75rem;
        padding-block-end: 0.75rem;
        padding-inline-start: 1.5rem;
        padding-inline-end: 1.5rem;
        width: 100%;
        position: relative;
    }

</style>



<script>

    // run scripts on DOMContentLoaded to avoid affecting site load time
    window.addEventListener('load', function () {

        // Only run ajax integration if Extend and ExtendShopify is defined, and the currency is set to USD
        if (!Extend || !ExtendShopify || !Shopify || !Shopify.currency || Shopify.currency.active !== Extend.integration.currency) {
            return;
        }

        // Checks url if page is main cart
        const isMainCart = location.pathname.includes('/cart');

        // Pausing sidecart work until new sidecart is ready:
        // if (!isMainCart) return;

        // store value to know if script initialized already
        let init = false;

        /*****************************************/
        /* Global Variables - THEME SPECIFIC     */
        /*****************************************/
        let cartRowItem, cartRowItemTitle, cartRowItemImage, cartRowItemQuantity, warrantyContainer, warrantyOriginalMeta, metadataContainer;
        if (isMainCart) {
            // Main cart variables
            cartRowItem = '.shopify-section--main-cart .line-item'; // This is the container element for each item in the cart
            cartRowItemImage = '.line-item__media-wrapper img'; // This is the product image or image anchor element
            cartRowItemTitle = '.line-item__info a'; // This is the title anchor element for the product
            cartRowItemQuantity = '.quantity-input'; // This is the input element containing the product quantity
            warrantyOriginalMeta = '.list-disc'; // Each warranty metadata item we want to remove.
            warrantyContainer = '.line-item__info'; // This is the container where the offer will be appended
            metadataContainer = '.line-item__info div'; // This is where warranty metadata will be appended (Product and Term)
        } else {
            // Side cart variables
            cartRowItem = '.cart-drawer__line-items .line-item'; // This is the container element for each item in the cart
            cartRowItemImage = '.line-item__media-wrapper img'; // This is the product image or image anchor element
            cartRowItemTitle = '.line-item__info a'; // This is the title anchor element for the product
            cartRowItemQuantity = '.quantity-input'; // This is the input element containing the product quantity
            warrantyOriginalMeta = 'ul'; // Each warranty metadata item we want to remove.
            warrantyContainer = '.line-item__info'; // This is the container where the offer will be appended
            metadataContainer = '.line-item__info'; // This is where warranty metadata will be appended (Product and Term)
        }

        // Add quantity wrapper selector to disable use of quantity selector on Extend items, ignored if empty string
        const quantityWrapper = isMainCart ? '.quantity-input' : '.quantity-input';

        const offerClass = !isMainCart ? 'extend-side-cart-offer' : 'extend-cart-offer'; // This is the class that will be assigned to each Extend offer
        const cartEvent = !isMainCart ? 'refreshAjaxSideCart' : 'refreshAjaxCart';
        const regEx = /\d+$/;
        let localCart = {"note":null,"attributes":{},"original_total_price":0,"total_price":0,"total_discount":0,"total_weight":0.0,"item_count":0,"items":[],"requires_shipping":false,"currency":"USD","items_subtotal_price":0,"cart_level_discount_applications":[],"checkout_charge_amount":0}; // Shopify Cart Object on initial load

        // Fail safe for cart
        if (!localCart) {
            console.error("EXTEND: Exiting - localCart unavailable")
            return false;
        }

        /**************************************/
        /* refreshCart - THEME SPECIFIC       */
        /**************************************/
        // Refresh the cart (hard refresh by default)
        function refreshCart(cart) {
            if (location.pathname.includes('/cart')) {
                  location.reload();
            } else {
                // Sidecart specific refresh
                document.dispatchEvent(new Event('cart:refresh'))
            }
        }

        function renderCartOffer(el, variantId, quantity, index) {
            // Grabs the product category and price from the current item metadata
            let productCategory = localCart.items[index].product_type;
            let productPrice = localCart.items[index].price;


            if (ExtendShopify.warrantyAlreadyInCart(parseInt(variantId), localCart.items) || ExtendShopify.warrantyAlreadyInCart(variantId.toString(), localCart.items)) {
                return;
            } else {

                // Return if this is a cart snippet and cart offers are disabled
                if (!Extend.integration.cartOffer) return;
                // Return if this is a sidecart snippet and sidecart offers are disabled
                if (!Extend.integration.sidecartOffer) return;

                // Render all other buttons
                Extend.buttons.renderSimpleOffer(el, {
                    referenceId: variantId,
                    price: productPrice,
                    category: productCategory,
                    onAddToCart: function (options) {
                        ExtendShopify.addPlanToCart({
                            plan: options.plan,
                            product: options.product,
                            quantity: quantity
                        }, function (err) {
                            // An error occurred
                            if (err) {
                                throw new Error({ "Exiting - Error in onAddToCart": error });
                            } else {
                                refreshCart();
                            }
                        });
                    }
                });
            }
        }

        /***********************/
        /* createElement       */
        /***********************/
        // createElement(product) - Takes in the product element, and creates the Extend offer element + appends the offer
        function createElement(product, index) {
            // Grab URL from title anchor href
            let url = product.querySelector(cartRowItemTitle).href;

            // Grabs variant ID from URL if available, otherwise from localCart
            let variantId = (url && url.match(regEx)) ? url.match(regEx)[0] : localCart.items[index].id;

            // Select quantity value
            let quantity = product.querySelector(cartRowItemQuantity) ? parseInt(product.querySelector(cartRowItemQuantity).value) : 1;

            if (!variantId || quantity.length > 0) {
                throw new Error("Exiting - Error with variantId {0} or quantity {1}", variantId, quantity);
            }

            // Removes existing offer elements before creating new ones
            let extendOffer = product.querySelector('.' + offerClass);
            if (extendOffer) {
                if (extendOffer.dataset.extendVariant !== variantId || extendOffer.dataset.extendQuantity !== quantity) {
                    extendOffer.remove();
                } else {
                    return;
                }
            }

            // Parent container to append ajax offer
            let container = product.querySelector(warrantyContainer);

            // Fail safes
            if (!variantId || !quantity || !container) {
                throw new Error("Exiting - variant, quantity or container unavailable");
            }

            // Create new element & set class, data-extend-variant, and data-extend-quantity attributes
            let newExtendOffer = document.createElement('div');
            newExtendOffer.className = offerClass;
            newExtendOffer.setAttribute('data-extend-variant', variantId);
            newExtendOffer.setAttribute('data-extend-quantity', quantity);

            // Append the offer to the container element (THEME SPECIFIC)
            container.append(newExtendOffer);

            

            renderCartOffer(newExtendOffer, variantId, quantity, index);
        }
        
        /************************/
        /* Handle Styling       */
        /************************/
        // Finds all cartRowItems and styles only Extend warranties
        function handleStyling() {

            document.querySelectorAll(cartRowItem).forEach(function (el, index) {
                try {

                    // Skip over bundles
                    if (localCart.items[index] && localCart.items[index].product_type === "Bundles") return;

                    // Grab the title of the current item
                    let title = el.querySelector(cartRowItemTitle);

                    // Title fail safe
                    if (!title) {
                        throw new Error("Exiting - title unavailable");
                    }
                    // If it's a warranty set isExtend to true and remove links
                    if (title.innerText.toLowerCase().indexOf('extend protection') > -1) { // Grab the image of the current item and fail safe
                        // Select and remove pointerEvents from warranty title
                        title.style.pointerEvents = 'none';

                        let image = el.querySelector(cartRowItemImage);

                        if (!image) {
                            throw new Error("Exiting - image unavailable");
                        }

                        // Select and remove pointerEvents from warranty image
                        image.style.pointerEvents = 'none';

                        /**************************************/
                        /* THEME SPECIFIC STYLING START       */
                        /**************************************/
                        if (el.querySelector('.line-item__info p.text-sm.text-subdued')) {
                            el.querySelector('.line-item__info p.text-sm.text-subdued').remove();
                        }
                        // Removes old metadata
                        if (el.querySelector(warrantyOriginalMeta)) {
                            el.querySelectorAll(warrantyOriginalMeta).forEach(function (each) {
                                each.remove();
                            })
                        }

                        if (quantityWrapper && quantityWrapper != '' && el.querySelector(quantityWrapper)) {
                            el.querySelectorAll(quantityWrapper).forEach((each) => {
                                each.style.opacity = '75%';
                                each.style.pointerEvents = 'none';
                            })
                        }

                        // Selects where to append warranty metadata
                        let contentContainer = el.querySelector(metadataContainer)
                        let warrantyProductData;
                        let warrantyTermData;

                        if (!localCart.items[index]) return;

                        if (localCart.items[index].options_with_values && localCart.items[index].options_with_values[1]) { // Finds the ref id string in the product info string and replaces with an empty string
                            let regexReplace = localCart.items[index].options_with_values[0].value.match(/\-\d{5,}/g);
                            warrantyProductData = localCart.items[index].options_with_values[0].value.replace(regexReplace, '');
                            warrantyTermData = localCart.items[index].options_with_values[1].value;
                        } else {
                            warrantyProductData = localCart.items[index].properties.Product;
                            warrantyTermData = localCart.items[index].properties.Term;
                        }

                        // For category offers, fetch title by filtering through cart for warranted product refId
                        if (warrantyProductData === "Covered Product") {
                            const coveredProdId = localCart.items[index].properties['_Extend.ProductId'];
                            const coveredProdTitle = localCart.items.filter((item) => item.id.toString() == coveredProdId)[0].title;
                            warrantyProductData = coveredProdTitle;
                        }

                        // Appends Product and Term metadata
                        if (el.querySelector(metadataContainer)) {
                            let warrantyProductName = document.createElement('p');
                            warrantyProductName.className = 'extend-warranty-info extend-warranty-info-product';
                            warrantyProductName.innerHTML = '<b>Product: </b>' + warrantyProductData;
                            warrantyProductName.setAttribute('data-cy', 'warranty-description-product');
                            let warrantyProductTerm = document.createElement('p')
                            warrantyProductTerm.className = 'extend-warranty-info extend-warranty-info-term';
                            warrantyProductTerm.innerHTML = '<b>Term: </b>' + warrantyTermData;
                            warrantyProductTerm.setAttribute('data-cy', 'warranty-description-term');

                            // Only append the metadata if it's not already there
                            if (!el.querySelector('.extend-warranty-info')) {
                                contentContainer.append(warrantyProductName, warrantyProductTerm)
                            }
                        }

                        /**************************************/
                        /* THEME SPECIFIC STYLING END         */
                        /**************************************/

                    } else { // Create an offer element for each product
                        createElement(el, index);
                    }
                } catch (error) {
                    console.error("EXTEND:", error);
                }
            });
        }

        function initEventListeners() {
            if (init) return;

            function refreshCartOffer() {
                fetch('/cart.js', {
                    credentials: 'same-origin',
                    method: 'GET',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-Requested-With': 'XMLHttpRequest'
                    }
                })
                    .then((e) => e.json())
                    .then((e) => {
                        // if (Extend.integration.analytics) Extend.integration.cartAnalytics(localCart, e);
                        localCart = e;
                        initializeCartOffer();
                    })
                    .catch((error) => {
                        console.error("EXTEND:", error)
                    });
            }

            // https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Multiple_identical_event_listeners
            window.addEventListener(cartEvent, refreshCartOffer);

            // Listen for SP dispatching refresh
            window.addEventListener('refreshSP', refreshCart);

        }

        /************************/
        /* initializeCartOffer  */
        /************************/
        // Invokes handleStyling and finds all offers in the cart, handling both normalization and balancing
        function initializeCartOffer() {

            // Runs this normalization from extend-shipping.liquid if using cart SP
            if (Extend.integration.cartSP && Extend.integration.normalizeCartSP) {
                Extend.integration.normalizeCartSP()
            }

            // Handles styling and creates offer elements
            handleStyling();

            initEventListeners();

            init = true;

            // Use standard normalization if SP is not present in cart
            if (!window.Extend.integration.cartSP) {
                // Normalization ensures there is a 1:1 relationship between the product and the warranty
                ExtendShopify.normalizeCart({
                    cart: localCart,
                    balance: Extend.integration.cartBalancing
                }, function (err, data) {
                    try {
                        // An error occurred
                        if (err) {
                            throw new Error({ "Exiting - Error in normalizeCart": error });
                        } else if (data && data.updates) { // Calls refreshCart to update the cart for normalization
                            refreshCart();
                        }
                    } catch (error) {
                        console.error("EXTEND:", error)
                    }
                });
            }
        }

        try {
            // initializeCartOffer when script is initially rendered
            setTimeout(() => {
                if(isMainCart) initializeCartOffer();
            }, 1000);


            document.addEventListener('click', function(e) {
                if (e.target.closest('a[aria-controls="cart-drawer"]')) {
                    initializeCartOffer();
                }
            })

        } catch (err) {
            console.error('EXTEND: ', err);
        }

    }, { once: true });
</script>

<style>
    .extend-cart-offer {
        margin: 0;
    }

    .extend-side-cart-offer {
        margin: 10px 0;
    }

    .extend-side-cart-offer iframe {
        min-height: 38px;
    }

    .extend-warranty-info {
        margin: 0 !important;
    }

    .extend-warranty-info-product {}

    .extend-warranty-info-term {}

    #extend-offers-modal-iframe {
        z-index: 99999999999 !important;
    }

    #extend-learn-more-modal-iframe {
        z-index: 99999999999 !important;
    }
</style>

<!-- Optional -->
<!-- Extend - Render atc -->

<!-- Extend - Render quickview -->

<script>
  (function () {
    'use strict';

    // Initialize dataLayer if it doesn't exist
    window.ElevarDataLayer = window.ElevarDataLayer || [];
    
    // Configuration
    const config = {
      impressionThreshold: 0.5, // 50% of element must be visible
      impressionDelay: 1000, // Wait 1 second before tracking impression
      trackingAttribute: 'data-m-tracked', // Attribute to mark tracked elements
    };

    // Intersection Observer for impression tracking
    let impressionObserver;
    const impressionTimeouts = new Map();

    // Initialize impression tracking
    function initImpressionTracking() {
      if (!window.IntersectionObserver) {
        console.warn('IntersectionObserver not supported, impression tracking disabled');
        return;
      }

      impressionObserver = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            const element = entry.target;
            const category = element.getAttribute('data-module-category');
            const subcategory = element.getAttribute('data-module-subcategory');
            const detail = element.getAttribute('data-module-view-detail');
            const configThreshold = element.getAttribute('data-module-threshold') || config.impressionThreshold;

            if (entry.isIntersecting && entry.intersectionRatio >= parseFloat(configThreshold)) {
              // Element is visible, start timer
              if (!impressionTimeouts.has(element)) {
                const timeoutId = setTimeout(() => {
                  trackImpression(element, category, subcategory, detail);
                  impressionTimeouts.delete(element);
                }, config.impressionDelay);
                impressionTimeouts.set(element, timeoutId);
              }
            } else {
              // Element is not visible, cancel timer
              const timeoutId = impressionTimeouts.get(element);
              if (timeoutId) {
                clearTimeout(timeoutId);
                impressionTimeouts.delete(element);
              }
            }
          });
        },
        {
          threshold: config.impressionThreshold,
        }
      );

      // Start observing elements with data-module-category
      observeImpressionElements();
    }

    // Track impression event
    function trackImpression(element, category, subcategory, detail) {
      // Check if already tracked
      if (element.getAttribute(config.trackingAttribute) === 'true') {
        return;
      }

      // Mark as tracked
      element.setAttribute(config.trackingAttribute, 'true');
      const detailFormatted = formatDetail(detail);
      window.ElevarDataLayer.push({ event: "dl_impression", 
        module_category: category || '',
        module_subcategory: subcategory || '',
        module_detail: detailFormatted || ''
      });
     
      // Stop observing this element
      if (impressionObserver) {
        impressionObserver.unobserve(element);
      }
    }

    // Track click event
    function trackClick(element, detail, category, subcategory) {
      const detailFormatted = formatDetail(detail);
      const referenceLink = element.href || '';
      console.log('dl_click')
      window.ElevarDataLayer.push({ event: "dl_click", 
        module_category: category || '',
        module_subcategory: subcategory || '',
        module_detail: detailFormatted || '',
        module_reference_link: referenceLink || '',
      });
    }

    function formatDetail(detail) {
      if (typeof detail === 'string' && detail.startsWith('[') && detail.endsWith(']')) {
        try {
          const parsed = JSON.parse(detail);
          const fullProductDetails = document.getElementById('bundle-upsell-products-json');
          if(!fullProductDetails) return parsed;

          const fullProductDetailsJson = JSON.parse(fullProductDetails.textContent);

          return parsed.map(id => fullProductDetailsJson.bundle_upsell_products.find(product => product.product_id === String(id)));
        } catch (e) {
          console.warn('Failed to parse detail:', e);
          return detail;
        }
      }
      return detail;
    }

    // Find and observe elements for impression tracking
    function observeImpressionElements() {
      if (!impressionObserver) return;

      const elements = document.querySelectorAll('[data-module-category]:not([' + config.trackingAttribute + '="true"])');
      elements.forEach((element) => {
        impressionObserver.observe(element);
      });
    }

    // Set up click tracking
    function initClickTracking() {
      let clicked = false;
      document.addEventListener('click', function (event) {
        const element = event.target.closest('[data-module-detail]');
        if (!element || clicked) return;

        const detail = element.getAttribute('data-module-detail');

        // Find parent with category/subcategory
        const categoryElement = element.closest('[data-module-category]');
        const category = categoryElement ? categoryElement.getAttribute('data-module-category') : '';
        const subcategory = categoryElement ? categoryElement.getAttribute('data-module-subcategory') : '';

        trackClick(element, detail, category, subcategory);
        clicked = true;
        setTimeout(() => {
          clicked = false;
        }, 200);
      });
    }

    // Mutation observer to track dynamically added elements
    function initMutationObserver() {
      if (!window.MutationObserver) return;

      const mutationObserver = new MutationObserver(function (mutations) {
        let shouldUpdate = false;

        mutations.forEach(function (mutation) {
          if (mutation.type === 'childList') {
            mutation.addedNodes.forEach(function (node) {
              if (node.nodeType === Node.ELEMENT_NODE) {
                // Check if the added node or its children have tracking attributes
                if (node.hasAttribute && node.hasAttribute('data-module-category')) {
                  shouldUpdate = true;
                } else if (node.querySelectorAll) {
                  const trackingElements = node.querySelectorAll('[data-module-category]');
                  if (trackingElements.length > 0) {
                    shouldUpdate = true;
                  }
                }
              }
            });
          }
        });

        if (shouldUpdate) {
          // Re-observe new elements
          setTimeout(observeImpressionElements, 100);
        }
      });

      mutationObserver.observe(document.body, {
        childList: true,
        subtree: true,
      });
    }

    // Initialize tracking when DOM is ready
    function initialize() {
      initImpressionTracking();
      initClickTracking();
      initMutationObserver();
    }

    // Start when DOM is ready
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initialize);
    } else {
      initialize();
    }

    // Expose tracking functions globally
    window.CustomTracking = {
      trackImpression: function (element) {
        const category = element.getAttribute('data-module-category');
        const subcategory = element.getAttribute('data-module-subcategory');
        trackImpression(element, category, subcategory);
      },
      trackClick: function (element, detail) {
        const categoryElement = element.closest('[data-module-category]');
        const category = categoryElement ? categoryElement.getAttribute('data-module-category') : '';
        const subcategory = categoryElement ? categoryElement.getAttribute('data-module-subcategory') : '';
        trackClick(element, detail, category, subcategory);
      },
      observeNewElements: observeImpressionElements,
    };
  })();
</script>
</main>
  <style> .comparison-product-data on-sale-badge {display: none;} </style>
<div id="shopify-block-AbGs2R0xnSVR3dGZhd__9271244056961380716" class="shopify-block shopify-app-block"><script type='module' src='https://cdn.shopify.com/extensions/019c1dcd-e68b-7a73-9f25-c1bf6ece7dd4/discount-kit-440/assets/dk_cart.js'></script>
<script type='module' src='https://cdn.shopify.com/extensions/019c1dcd-e68b-7a73-9f25-c1bf6ece7dd4/discount-kit-440/assets/dk_gift-selector.js'></script>




<!-- BEGIN app snippet: core_script -->







<script>
  // Initialize DiscountKit namespace
  window.discount_kit = window.discount_kit || {};

  // Configuration and data
  window.discount_kit.config = {
    auto_gift: true,
    gift_selector_enabled: false,
    refresh_on_cart_change: true,
    prevent_readd_removed_gifts: false,
    custom_cart_update_event: "discount_kit:cart_changed",
    cart: {"note":null,"attributes":{},"original_total_price":0,"total_price":0,"total_discount":0,"total_weight":0.0,"item_count":0,"items":[],"requires_shipping":false,"currency":"USD","items_subtotal_price":0,"cart_level_discount_applications":[],"checkout_charge_amount":0},
    collections: [],
    compare_at_prices: [],
    conversion_rate: 1.0,
    discounts: [
      
        
        
        {"id":"gid:\/\/shopify\/DiscountAutomaticNode\/1670989873518","discountType":"CUSTOM","discountTitle":"AUTO: Bundles 35% off, 1 of 4","discountStatus":"ACTIVE","discountNode":{"config":{"value":{"discountTitle":"AUTO: Bundles 35% off, 1 of 4","bucketRules":[{"name":"ALL_RESERVED"},{"name":"Original Pillow double pack","productFilter":[{"id":"7576114430033","variants":null}]},{"name":"Original Pillow","productFilter":[{"id":"7576114233425","variants":null}]},{"name":"Percale Sheet Set","productFilter":[{"id":"7576115183697","variants":null}]},{"name":"Hybrid Snow Pillow double pack","productFilter":[{"id":"7576114462801","variants":null}]},{"name":"Hybrid Snow Pillow","productFilter":[{"id":"7576114266193","variants":null}]},{"name":"Hyperlite Sheet Set","productFilter":[{"id":"7576115150929","variants":null}]},{"name":"Snow and Snow Max, split king","productFilter":[{"id":"7576114135121","variants":[{"id":"41670972047441"}]},{"id":"7576114200657","variants":[{"id":"41670972506193"}]}]},{"name":"Foundation, TwinXL","productFilter":[{"id":"7576114757713","variants":[{"id":"41670974963793"}]}]},{"name":"mattress protectors (TwinXL)","productFilter":[{"id":7576114954321,"variants":[{"id":41670975357009}]},{"id":7576114987089,"variants":[{"id":41670975553617}]}]},{"name":"Metal Bed Frame, Twin\/TwinXL","productFilter":[{"id":"7576114790481","variants":[{"id":"41670975127633"}]}]},{"name":"bundles (all)","collectionFilter":[641649410414],"cfp":[0]},{"name":"Build your own bundle","productFilter":[{"id":14775532126574,"variants":[]}]}],"discountRules":[{"message":"Comfy Bundle (C2)","messageTranslations":null,"recurring":true,"requireAllTargets":false,"discountValue":{"percentage":{"value":"35"}},"maxRecurrences":null,"currency":null,"prereqParts":[{"bucket":"Original Pillow double pack","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"Percale Sheet Set","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null}],"fixedPrice":null,"targetParts":[{"bucket":"Original Pillow double pack","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Percale Sheet Set","quantity":1,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[]},{"message":"Comfy Bundle (C1)","messageTranslations":null,"recurring":false,"requireAllTargets":false,"discountValue":{"percentage":{"value":"35"}},"maxRecurrences":null,"currency":null,"prereqParts":[],"fixedPrice":null,"targetParts":[{"bucket":"Original Pillow","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Percale Sheet Set","quantity":1,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[{"bucket":"Original Pillow","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"},{"bucket":"Percale Sheet Set","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"}]},{"message":"Cool Sleep Bundle (C2)","messageTranslations":null,"recurring":true,"requireAllTargets":false,"discountValue":{"percentage":{"value":"35"}},"maxRecurrences":null,"currency":null,"prereqParts":[{"bucket":"Hybrid Snow Pillow double pack","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"Hyperlite Sheet Set","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null}],"fixedPrice":null,"targetParts":[{"bucket":"Hybrid Snow Pillow double pack","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Hyperlite Sheet Set","quantity":1,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[]},{"message":"Cool Sleep Bundle (C1)","messageTranslations":null,"recurring":false,"requireAllTargets":false,"discountValue":{"percentage":{"value":"35"}},"maxRecurrences":null,"currency":null,"prereqParts":[],"fixedPrice":null,"targetParts":[{"bucket":"Hybrid Snow Pillow","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Hyperlite Sheet Set","quantity":1,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[{"bucket":"Hybrid Snow Pillow","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"},{"bucket":"Hyperlite Sheet Set","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"}]},{"message":"Snow Bundle, Split King + Metal Bed Frame + Pillows","recurring":true,"requireAllTargets":false,"discountValue":{"percentage":{"value":"35"}},"maxRecurrences":null,"currency":null,"prereqParts":[{"bucket":"Snow and Snow Max, split king","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"Foundation, TwinXL","quantity":2,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"mattress protectors (TwinXL)","quantity":2,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"Metal Bed Frame, Twin\/TwinXL","quantity":2,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"Hybrid Snow Pillow","quantity":2,"total":null,"uniqueProducts":null,"uniqueVariants":null}],"fixedPrice":null,"targetParts":[{"bucket":"Snow and Snow Max, split king","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Foundation, TwinXL","quantity":2,"targetSelectionStrategy":"cheapest_first"},{"bucket":"mattress protectors (TwinXL)","quantity":2,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Metal Bed Frame, Twin\/TwinXL","quantity":2,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Hybrid Snow Pillow","quantity":2,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[]},{"message":"Snow Bundle, Split King + Metal Bed Frame","recurring":true,"requireAllTargets":false,"discountValue":{"percentage":{"value":"35"}},"maxRecurrences":null,"currency":null,"prereqParts":[{"bucket":"Snow and Snow Max, split king","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"Foundation, TwinXL","quantity":2,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"mattress protectors (TwinXL)","quantity":2,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"Metal Bed Frame, Twin\/TwinXL","quantity":2,"total":null,"uniqueProducts":null,"uniqueVariants":null}],"fixedPrice":null,"targetParts":[{"bucket":"Snow and Snow Max, split king","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Foundation, TwinXL","quantity":2,"targetSelectionStrategy":"cheapest_first"},{"bucket":"mattress protectors (TwinXL)","quantity":2,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Metal Bed Frame, Twin\/TwinXL","quantity":2,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[]},{"message":"Snow Bundle, Split King + Pillows","recurring":true,"requireAllTargets":false,"discountValue":{"percentage":{"value":"35"}},"maxRecurrences":null,"currency":null,"prereqParts":[{"bucket":"Snow and Snow Max, split king","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"Foundation, TwinXL","quantity":2,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"mattress protectors (TwinXL)","quantity":2,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"Hybrid Snow Pillow","quantity":2,"total":null,"uniqueProducts":null,"uniqueVariants":null}],"fixedPrice":null,"targetParts":[{"bucket":"Snow and Snow Max, split king","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Foundation, TwinXL","quantity":2,"targetSelectionStrategy":"cheapest_first"},{"bucket":"mattress protectors (TwinXL)","quantity":2,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Hybrid Snow Pillow","quantity":2,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[]},{"message":"35% off Bundles","recurring":false,"requireAllTargets":false,"discountValue":{"percentage":{"value":"35"}},"maxRecurrences":null,"currency":null,"prereqParts":[],"fixedPrice":null,"targetParts":[{"bucket":"bundles (all)","quantity":null}],"useCompareAtPrice":false,"conditionParts":[{"bucket":"bundles (all)","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"}]},{"message":"35% off Build Your Own Bundle","recurring":false,"requireAllTargets":false,"discountValue":{"percentage":{"value":"35"}},"maxRecurrences":null,"currency":null,"prereqParts":[],"fixedPrice":null,"targetParts":[{"bucket":"Build your own bundle","quantity":null,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[{"bucket":"Build your own bundle","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"}]}],"discountApplicationStrategy":"ALL","orderDiscountRules":[],"orderDiscountApplicationStrategy":"MAXIMUM","shippingDiscountRules":[],"shippingDiscountApplicationStrategy":"ALL","locationIds":null,"locationOperator":"oneOf","marketHandles":null,"marketOperator":"oneOf","customerTags":null,"customerOperator":"oneOf","allowB2b":false,"allowB2B":false,"fillingStrategy":"all","discountType":"CUSTOM","appliesOncePerCustomer":false,"usageLimit":null,"attributeKey":"_discount_kit","currencyCode":null,"useMetafieldDiscounts":false,"metafieldNamespace":"","metafieldKey":""}}},"startsAt":"2026-01-27T08:00:00Z","endsAt":"2026-02-24T08:00:00Z"},
      
        
        
        {"id":"gid:\/\/shopify\/DiscountAutomaticNode\/1670989939054","discountType":"CUSTOM","discountTitle":"AUTO: Bundles 35% off, 3 of 4 (Adjustable Bundles)","discountStatus":"ACTIVE","discountNode":{"config":{"value":{"discountTitle":"AUTO: Bundles 35% off, 3 of 4 (Adjustable Bundles)","bucketRules":[{"name":"ALL_RESERVED"},{"name":"The One and Dream","productFilter":[{"id":"7576114036817","variants":null},{"id":"7550888181841","variants":null}]},{"name":"Snow and Dream","productFilter":[{"id":"7576114135121","variants":null},{"id":"7550888181841","variants":null}]},{"name":"Snow Max and Dream Max","productFilter":[{"id":"7576114200657","variants":null},{"id":"7576114167889","variants":null}]},{"name":"mattress protectors","productFilter":[{"id":7576114954321,"variants":[]},{"id":7576114987089,"variants":[]}]},{"name":"mattress protectors (TwinXL)","productFilter":[{"id":7576114954321,"variants":[{"id":41670975357009}]},{"id":7576114987089,"variants":[{"id":41670975553617}]}]},{"name":"Adjustable Base","productFilter":[{"id":"14621987733870","variants":null}]},{"name":"Adjustable Base, split king","productFilter":[{"id":"14621987733870","variants":[{"id":"51646590222702"}]}]},{"name":"Adjustable Base Pro","productFilter":[{"id":"14621987897710","variants":null}]},{"name":"Adjustable Base Pro, split king","productFilter":[{"id":"14621987897710","variants":[{"id":"51646590681454"}]}]},{"name":"Adjustable Base Max","productFilter":[{"id":"14621987963246","variants":null}]},{"name":"Adjustable Base Max, split king","productFilter":[{"id":"14621987963246","variants":[{"id":"51646590878062"}]}]},{"name":"all adjustable bundles","collectionFilter":[643500278126],"cfp":[0]}],"discountRules":[{"message":"Adjustable Bundle, Split King","recurring":true,"requireAllTargets":false,"discountValue":{"percentage":{"value":"35"}},"maxRecurrences":null,"currency":null,"prereqParts":[{"bucket":"The One and Dream","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"Adjustable Base, split king","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"mattress protectors (TwinXL)","quantity":2,"total":null,"uniqueProducts":null,"uniqueVariants":null}],"fixedPrice":null,"targetParts":[{"bucket":"The One and Dream","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Adjustable Base, split king","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"mattress protectors (TwinXL)","quantity":2,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[]},{"message":"Adjustable Bundle","recurring":true,"requireAllTargets":false,"discountValue":{"percentage":{"value":"35"}},"maxRecurrences":null,"currency":null,"prereqParts":[{"bucket":"The One and Dream","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"Adjustable Base","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"mattress protectors","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null}],"fixedPrice":null,"targetParts":[{"bucket":"The One and Dream","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Adjustable Base","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"mattress protectors","quantity":1,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[]},{"message":"Adjustable Pro Bundle, Split King","recurring":true,"requireAllTargets":false,"discountValue":{"percentage":{"value":"35"}},"maxRecurrences":null,"currency":null,"prereqParts":[{"bucket":"Snow and Dream","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"Adjustable Base Pro, split king","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"mattress protectors (TwinXL)","quantity":2,"total":null,"uniqueProducts":null,"uniqueVariants":null}],"fixedPrice":null,"targetParts":[{"bucket":"Snow and Dream","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Adjustable Base Pro, split king","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"mattress protectors (TwinXL)","quantity":2,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[]},{"message":"Adjustable Pro Bundle","recurring":true,"requireAllTargets":false,"discountValue":{"percentage":{"value":"35"}},"maxRecurrences":null,"currency":null,"prereqParts":[{"bucket":"Snow and Dream","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"Adjustable Base Pro","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"mattress protectors","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null}],"fixedPrice":null,"targetParts":[{"bucket":"Snow and Dream","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Adjustable Base Pro","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"mattress protectors","quantity":1,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[]},{"message":"Adjustable Max Bundle, Split King","recurring":true,"requireAllTargets":true,"discountValue":{"percentage":{"value":"35"}},"maxRecurrences":null,"currency":null,"prereqParts":[{"bucket":"Snow Max and Dream Max","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"Adjustable Base Max, split king","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"mattress protectors (TwinXL)","quantity":2,"total":null,"uniqueProducts":null,"uniqueVariants":null}],"fixedPrice":null,"targetParts":[{"bucket":"Snow Max and Dream Max","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Adjustable Base Max, split king","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"mattress protectors (TwinXL)","quantity":2,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[]},{"message":"Adjustable Max Bundle","recurring":true,"requireAllTargets":false,"discountValue":{"percentage":{"value":"35"}},"maxRecurrences":null,"currency":null,"prereqParts":[{"bucket":"Snow Max and Dream Max","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"Adjustable Base Max","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"mattress protectors","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null}],"fixedPrice":null,"targetParts":[{"bucket":"Snow Max and Dream Max","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Adjustable Base Max","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"mattress protectors","quantity":1,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[]},{"message":"35% off Adjustable Bundles","recurring":false,"requireAllTargets":false,"discountValue":{"percentage":{"value":"35"}},"maxRecurrences":null,"currency":null,"prereqParts":[],"fixedPrice":null,"targetParts":[{"bucket":"all adjustable bundles","quantity":null,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[{"bucket":"all adjustable bundles","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"}]}],"discountApplicationStrategy":"ALL","orderDiscountRules":[],"orderDiscountApplicationStrategy":"MAXIMUM","shippingDiscountRules":[],"shippingDiscountApplicationStrategy":"ALL","locationIds":null,"locationOperator":"oneOf","marketHandles":null,"marketOperator":"oneOf","customerTags":null,"customerOperator":"oneOf","allowB2b":false,"allowB2B":false,"fillingStrategy":"all","discountType":"CUSTOM","appliesOncePerCustomer":false,"usageLimit":null,"attributeKey":"_discount_kit","currencyCode":null,"useMetafieldDiscounts":false,"metafieldNamespace":"","metafieldKey":""}}},"startsAt":"2026-01-27T08:00:00Z","endsAt":"2026-02-24T08:00:00Z"},
      
        
        
        {"id":"gid:\/\/shopify\/DiscountAutomaticNode\/1670989971822","discountType":"CUSTOM","discountTitle":"AUTO: Bundles 35% off, 2 of 4","discountStatus":"ACTIVE","discountNode":{"config":{"value":{"discountTitle":"AUTO: Bundles 35% off, 2 of 4","bucketRules":[{"name":"ALL_RESERVED"},{"name":"Foams","collectionFilter":[644205609326],"cfp":[0]},{"name":"Snow and Snow Max","productFilter":[{"id":"7576114135121","variants":null},{"id":"7576114200657","variants":null}]},{"name":"Foundation","productFilter":[{"id":"7576114757713","variants":null}]},{"name":"Foundation, TwinXL","productFilter":[{"id":"7576114757713","variants":[{"id":"41670974963793"}]}]},{"name":"mattress protectors","productFilter":[{"id":7576114954321,"variants":[]},{"id":7576114987089,"variants":[]}]},{"name":"mattress protectors (TwinXL)","productFilter":[{"id":7576114954321,"variants":[{"id":41670975357009}]},{"id":7576114987089,"variants":[{"id":41670975553617}]}]},{"name":"Metal Bed Frame","productFilter":[{"id":"7576114790481","variants":null}]},{"name":"Metal Bed Frame, Twin\/TwinXL","productFilter":[{"id":"7576114790481","variants":[{"id":"41670975127633"}]}]},{"name":"Hybrid Snow Pillow","productFilter":[{"id":"7576114266193","variants":null}]},{"name":"Original Pillow","productFilter":[{"id":7576114233425,"variants":[]}]}],"discountRules":[{"message":"Best-Selling Bundle, Split King","messageTranslations":null,"recurring":true,"requireAllTargets":false,"discountValue":{"percentage":{"value":"35"}},"maxRecurrences":null,"currency":null,"prereqParts":[{"bucket":"Foams","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"Foundation, TwinXL","quantity":2,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"mattress protectors (TwinXL)","quantity":2,"total":null,"uniqueProducts":null,"uniqueVariants":null}],"fixedPrice":null,"targetParts":[{"bucket":"Foams","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Foundation, TwinXL","quantity":2,"targetSelectionStrategy":"cheapest_first"},{"bucket":"mattress protectors (TwinXL)","quantity":2,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[]},{"message":"Best-Selling Bundle + Metal Bed Frame","messageTranslations":null,"recurring":true,"requireAllTargets":false,"discountValue":{"percentage":{"value":"35"}},"maxRecurrences":null,"currency":null,"prereqParts":[{"bucket":"Foams","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"Foundation","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"mattress protectors","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"Metal Bed Frame","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null}],"fixedPrice":null,"targetParts":[{"bucket":"Foams","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Foundation","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"mattress protectors","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Metal Bed Frame","quantity":1,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[]},{"message":"Best-Selling Bundle","messageTranslations":null,"recurring":true,"requireAllTargets":false,"discountValue":{"percentage":{"value":"35"}},"maxRecurrences":null,"currency":null,"prereqParts":[{"bucket":"Foams","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"Foundation","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"mattress protectors","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null}],"fixedPrice":null,"targetParts":[{"bucket":"Foams","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Foundation","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"mattress protectors","quantity":1,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[]},{"message":"Snow Bundle, Metal Bed Frame + Hybrid Snow Pillow","recurring":true,"requireAllTargets":false,"discountValue":{"percentage":{"value":"35"}},"maxRecurrences":null,"currency":null,"prereqParts":[{"bucket":"Snow and Snow Max","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"Foundation","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"mattress protectors","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"Metal Bed Frame","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"Hybrid Snow Pillow","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null}],"fixedPrice":null,"targetParts":[{"bucket":"Snow and Snow Max","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Foundation","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"mattress protectors","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Metal Bed Frame","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Hybrid Snow Pillow","quantity":1,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[]},{"message":"Snow Bundle, Split King","recurring":true,"requireAllTargets":false,"discountValue":{"percentage":{"value":"35"}},"maxRecurrences":null,"currency":null,"prereqParts":[{"bucket":"Snow and Snow Max","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"Foundation, TwinXL","quantity":2,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"mattress protectors (TwinXL)","quantity":2,"total":null,"uniqueProducts":null,"uniqueVariants":null}],"fixedPrice":null,"targetParts":[{"bucket":"Snow and Snow Max","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Foundation, TwinXL","quantity":2,"targetSelectionStrategy":"cheapest_first"},{"bucket":"mattress protectors (TwinXL)","quantity":2,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[]},{"message":"Snow Bundle + Metal Bed Frame","recurring":true,"requireAllTargets":false,"discountValue":{"percentage":{"value":"35"}},"maxRecurrences":null,"currency":null,"prereqParts":[{"bucket":"Snow and Snow Max","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"Foundation","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"mattress protectors","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"Metal Bed Frame","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null}],"fixedPrice":null,"targetParts":[{"bucket":"Snow and Snow Max","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Foundation","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"mattress protectors","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Metal Bed Frame","quantity":1,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[]},{"message":"Snow Bundle + Hybrid Snow Pillow","recurring":true,"requireAllTargets":false,"discountValue":{"percentage":{"value":"35"}},"maxRecurrences":null,"currency":null,"prereqParts":[{"bucket":"Snow and Snow Max","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"Foundation","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"mattress protectors","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"Hybrid Snow Pillow","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null}],"fixedPrice":null,"targetParts":[{"bucket":"Snow and Snow Max","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Foundation","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"mattress protectors","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Hybrid Snow Pillow","quantity":1,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[]},{"message":"Snow Bundle","recurring":false,"requireAllTargets":false,"discountValue":{"percentage":{"value":"35"}},"maxRecurrences":null,"currency":null,"prereqParts":[],"fixedPrice":null,"targetParts":[{"bucket":"Snow and Snow Max","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Foundation","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"mattress protectors","quantity":1,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[{"bucket":"Snow and Snow Max","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"},{"bucket":"Foundation","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"},{"bucket":"mattress protectors","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"}]}],"discountApplicationStrategy":"ALL","orderDiscountRules":[],"orderDiscountApplicationStrategy":"MAXIMUM","shippingDiscountRules":[],"shippingDiscountApplicationStrategy":"ALL","locationIds":null,"locationOperator":"oneOf","marketHandles":null,"marketOperator":"oneOf","customerTags":null,"customerOperator":"oneOf","allowB2b":false,"allowB2B":false,"fillingStrategy":"all","discountType":"CUSTOM","appliesOncePerCustomer":false,"usageLimit":null,"attributeKey":"_discount_kit","currencyCode":null,"useMetafieldDiscounts":false,"metafieldNamespace":"","metafieldKey":""}}},"startsAt":"2026-01-27T08:00:00Z","endsAt":"2026-02-24T08:00:00Z"},
      
        
        
        {"id":"gid:\/\/shopify\/DiscountAutomaticNode\/1676884771182","discountType":"CUSTOM","discountTitle":"AUTO: Clearance","discountStatus":"ACTIVE","discountNode":{"config":{"value":{"discountTitle":"AUTO: Clearance","bucketRules":[{"name":"ALL_RESERVED"},{"name":"Clearance30","collectionFilter":[639628050798],"cfp":[0]},{"name":"Clearance40","collectionFilter":[615944192366],"cfp":[1]},{"name":"Clearance50","collectionFilter":[615944388974],"cfp":[2]},{"name":"Clearance65","collectionFilter":[615944487278],"cfp":[3]},{"name":"Clearance75 (collection only)","collectionFilter":[615944552814],"cfp":[4]},{"name":"Clearance75","productFilter":[{"id":"7625079259217","variants":[{"id":"41824372457553"},{"id":"41824372490321"},{"id":"41824372523089"},{"id":"41824372654161"},{"id":"41824372686929"},{"id":"41824372719697"},{"id":"41824372752465"},{"id":"41824372785233"},{"id":"41824372818001"}]},{"id":"7625079455825","variants":[{"id":"41824208650321"},{"id":"41824376029265"},{"id":"41824376291409"},{"id":"41824376553553"},{"id":"41824376651857"},{"id":"41824208617553"},{"id":"41824376062033"},{"id":"41824376356945"},{"id":"41824376520785"},{"id":"41824376619089"},{"id":"41824208683089"},{"id":"41824375996497"},{"id":"41824376324177"},{"id":"41824376488017"},{"id":"41824376586321"}]},{"id":"14664372650350","variants":[{"id":"51822788673902"}]},{"id":"7625078374481","variants":[]},{"id":"14664361509230","variants":[{"id":"51822754922862"},{"id":"51822754955630"},{"id":"51822754988398"},{"id":"51822755021166"},{"id":"51822755086702"},{"id":"51822755119470"},{"id":"51822755152238"},{"id":"51822755185006"},{"id":"51822755217774"},{"id":"51822755250542"},{"id":"51822755316078"},{"id":"51822755348846"},{"id":"51822755381614"},{"id":"51822755414382"},{"id":"51822755447150"},{"id":"51822755479918"},{"id":"51822755512686"},{"id":"51822755578222"},{"id":"51822755676526"},{"id":"51822755709294"},{"id":"51822755742062"},{"id":"51822755774830"},{"id":"51822755840366"},{"id":"51822755905902"},{"id":"51822755971438"},{"id":"51822756069742"},{"id":"51822756135278"},{"id":"51822756168046"},{"id":"51822756200814"},{"id":"51822756233582"}]},{"id":"7625078603857","variants":[{"id":"41824206291025"},{"id":"41824206323793"},{"id":"41824373047377"},{"id":"41824373080145"}]},{"id":"7625078341713","variants":[{"id":"41824205537361"},{"id":"41824373702737"},{"id":"41824205406289"},{"id":"41824373768273"},{"id":"41824205373521"},{"id":"41824373833809"},{"id":"41824205439057"},{"id":"41824373735505"},{"id":"41824205504593"},{"id":"41824373866577"},{"id":"41824205471825"},{"id":"41824373801041"}]},{"id":"7625077915729","variants":[{"id":"41824204521553"},{"id":"41824406995025"},{"id":"41824204554321"},{"id":"41824407027793"},{"id":"41824204587089"},{"id":"41824406962257"}]},{"id":"14664361771374","variants":[{"id":"51822757478766"},{"id":"51822757511534"},{"id":"51822757445998"},{"id":"51822757544302"}]},{"id":"7625078079569","variants":[]},{"id":"14664361804142","variants":[{"id":"51822758199662"},{"id":"51822758232430"},{"id":"51822758265198"},{"id":"51822758297966"},{"id":"51822758330734"},{"id":"51822758363502"},{"id":"51822758396270"},{"id":"51822758429038"},{"id":"51822758461806"},{"id":"51822758494574"},{"id":"51822758527342"}]},{"id":"7625078898769","variants":[]},{"id":"7625078112337","variants":[]},{"id":"7625078407249","variants":[]},{"id":"7625078964305","variants":[]}]},{"name":"Weighted Blanket 10 lbs","productFilter":[{"id":7625079160913,"variants":[{"id":41824207831121},{"id":41824379502673},{"id":41824379568209},{"id":41824379666513}]}]},{"name":"Weighted Blanket 15 lbs","productFilter":[{"id":7625079160913,"variants":[{"id":41824207896657},{"id":41824379469905},{"id":41824379633745},{"id":41824379732049}]}]},{"name":"Weighted Blanket 20 lbs","productFilter":[{"id":7625079160913,"variants":[{"id":41824207863889},{"id":41824379535441},{"id":41824379600977},{"id":41824379699281}]}]},{"name":"Comfy Mattress Topper","productFilter":[{"id":7576115052625,"variants":[]}]}],"discountRules":[{"message":"30% off Clearance","recurring":false,"requireAllTargets":false,"discountValue":{"percentage":{"value":"30"}},"maxRecurrences":null,"prereqParts":[],"fixedPrice":null,"targetParts":[{"bucket":"Clearance30","quantity":null}],"useCompareAtPrice":false,"conditionParts":[{"bucket":"Clearance30","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"}]},{"message":"40% off Clearance","recurring":false,"requireAllTargets":false,"discountValue":{"percentage":{"value":"40"}},"maxRecurrences":null,"prereqParts":[],"fixedPrice":null,"targetParts":[{"bucket":"Clearance40","quantity":null}],"useCompareAtPrice":false,"conditionParts":[{"bucket":"Clearance40","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"}]},{"message":"50% off Clearance","recurring":false,"requireAllTargets":false,"discountValue":{"percentage":{"value":"50"}},"maxRecurrences":null,"prereqParts":[],"fixedPrice":null,"targetParts":[{"bucket":"Clearance50","quantity":null}],"useCompareAtPrice":false,"conditionParts":[{"bucket":"Clearance50","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"}]},{"message":"65% off Clearance","recurring":false,"requireAllTargets":false,"discountValue":{"percentage":{"value":"65"}},"maxRecurrences":null,"prereqParts":[],"fixedPrice":null,"targetParts":[{"bucket":"Clearance65","quantity":null}],"useCompareAtPrice":false,"conditionParts":[{"bucket":"Clearance65","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"}]},{"message":"75% off Clearance","recurring":false,"requireAllTargets":false,"discountValue":{"percentage":{"value":"75"}},"maxRecurrences":null,"prereqParts":[],"fixedPrice":null,"targetParts":[{"bucket":"Clearance75 (collection only)","quantity":null}],"useCompareAtPrice":false,"conditionParts":[{"bucket":"Clearance75 (collection only)","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"}]},{"message":"75% off Clearance (B)","recurring":false,"requireAllTargets":false,"discountValue":{"percentage":{"value":"75"}},"maxRecurrences":null,"prereqParts":[],"fixedPrice":null,"targetParts":[{"bucket":"Clearance75","quantity":null}],"useCompareAtPrice":false,"conditionParts":[{"bucket":"Clearance75","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"}]},{"message":"Clearance, 10 lb WB","messageTranslations":null,"recurring":true,"requireAllTargets":true,"discountValue":null,"maxRecurrences":null,"currency":null,"prereqParts":[{"bucket":"Weighted Blanket 10 lbs","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null}],"fixedPrice":"74.99","targetParts":[{"bucket":"Weighted Blanket 10 lbs","quantity":1,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[]},{"message":"Clearance, 15 lb WB","messageTranslations":null,"recurring":true,"requireAllTargets":true,"discountValue":null,"maxRecurrences":null,"currency":null,"prereqParts":[{"bucket":"Weighted Blanket 15 lbs","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null}],"fixedPrice":"79.99","targetParts":[{"bucket":"Weighted Blanket 15 lbs","quantity":1,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[]},{"message":"Clearance, 20 lb WB","messageTranslations":null,"recurring":true,"requireAllTargets":true,"discountValue":null,"maxRecurrences":null,"currency":null,"prereqParts":[{"bucket":"Weighted Blanket 20 lbs","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null}],"fixedPrice":"89.99","targetParts":[{"bucket":"Weighted Blanket 20 lbs","quantity":1,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[]},{"message":"30% off","recurring":false,"requireAllTargets":false,"discountValue":{"percentage":{"value":"30"}},"maxRecurrences":null,"currency":null,"prereqParts":[],"fixedPrice":null,"targetParts":[{"bucket":"Comfy Mattress Topper","quantity":null,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[{"bucket":"Comfy Mattress Topper","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"}]}],"discountApplicationStrategy":"ALL","orderDiscountRules":[],"orderDiscountApplicationStrategy":"MAXIMUM","shippingDiscountRules":[],"shippingDiscountApplicationStrategy":"ALL","locationIds":null,"locationOperator":"oneOf","marketHandles":null,"marketOperator":"oneOf","customerTags":null,"customerOperator":"oneOf","allowB2b":false,"allowB2B":false,"fillingStrategy":"all","discountType":"CUSTOM","appliesOncePerCustomer":false,"usageLimit":null,"attributeKey":"_discount_kit","currencyCode":null,"useMetafieldDiscounts":false,"metafieldNamespace":"","metafieldKey":""}}},"startsAt":"2025-03-11T20:09:11Z","endsAt":null},
      
        
        
        {"id":"gid:\/\/shopify\/DiscountAutomaticNode\/1696699023726","discountType":"CUSTOM","discountTitle":"AUTO: bundle upsells on mattress PDPs - over 30% - One, Cloud One, Dream, Dream Max","discountStatus":"ACTIVE","discountNode":{"config":{"value":{"discountTitle":"AUTO: bundle upsells on mattress PDPs - over 30% - One, Cloud One, Dream, Dream Max","bucketRules":[{"name":"ALL_RESERVED"},{"name":"Original Pillows","productFilter":[{"id":"7576114233425","variants":null}]},{"name":"Original Pillow, standard, double pack","productFilter":[{"id":"7576114430033","variants":[{"id":"41670973096017"}]}]},{"name":"Original Pillow, king, double pack","productFilter":[{"id":"7576114430033","variants":[{"id":"41670973128785"}]}]},{"name":"Waterproof Mattress Protector, T\/TXL","productFilter":[{"id":7576114987089,"variants":[{"id":41670975520849},{"id":41670975553617}]},{"id":7576114954321,"variants":[{"id":41670975324241},{"id":41670975357009}]}]},{"name":"Waterproof Mattress Protector, F\/Q","productFilter":[{"id":7576114987089,"variants":[{"id":41670975586385},{"id":41670975619153}]},{"id":7576114954321,"variants":[{"id":41670975389777},{"id":41670975422545}]}]},{"name":"Waterproof Mattress Protector, K\/CK","productFilter":[{"id":7576114987089,"variants":[{"id":41670975651921},{"id":41670975684689}]},{"id":7576114954321,"variants":[{"id":41670975455313},{"id":41670975488081}]}]},{"name":"Waterproof Mattress Protector, TXL only","productFilter":[{"id":7576114987089,"variants":[{"id":41670975553617}]},{"id":7576114954321,"variants":[{"id":41670975357009}]}]},{"name":"One, Cloud One, Dream, Dream Max (T\/TXL)","productFilter":[{"id":14912713326958,"variants":[{"id":53110577824110}]},{"id":14912706380142,"variants":[{"id":53110469362030},{"id":53110469394798}]},{"id":14686364139886,"variants":[{"id":51985624727918},{"id":51985624760686}]},{"id":7576114036817,"variants":[{"id":41670971162705},{"id":41670971195473}]},{"id":7550888181841,"variants":[{"id":41611237851217},{"id":41611237883985}]},{"id":7576114167889,"variants":[{"id":41670972112977}]}]},{"name":"One, Cloud One, Dream, Dream Max (F\/Q)","productFilter":[{"id":14912713326958,"variants":[{"id":53110577856878},{"id":53110577889646}]},{"id":14912706380142,"variants":[{"id":53110469427566},{"id":53110469460334}]},{"id":14686364139886,"variants":[{"id":51926050668910},{"id":51926050701678}]},{"id":7576114036817,"variants":[{"id":41670971228241},{"id":41670971261009}]},{"id":7550888181841,"variants":[{"id":41611237916753},{"id":41611237949521}]},{"id":7576114167889,"variants":[{"id":41670972145745},{"id":41670972178513}]}]},{"name":"One, Cloud One, Dream, Dream Max (K\/CK)","productFilter":[{"id":14912713326958,"variants":[{"id":53110577922414},{"id":53110577955182}]},{"id":14912706380142,"variants":[{"id":53110469493102},{"id":53110469525870}]},{"id":14686364139886,"variants":[{"id":51926050734446},{"id":51985624793454}]},{"id":7576114036817,"variants":[{"id":41670971293777},{"id":41670971326545}]},{"id":7550888181841,"variants":[{"id":41611237982289},{"id":41611238015057}]},{"id":7576114167889,"variants":[{"id":41670972211281},{"id":41670972244049}]}]},{"name":"One, Cloud One, Dream, Dream Max (SK)","productFilter":[{"id":14912713326958,"variants":[{"id":53110577987950}]},{"id":14912706380142,"variants":[{"id":53110469558638}]},{"id":14686364139886,"variants":[]},{"id":7576114036817,"variants":[{"id":41670971359313}]},{"id":7550888181841,"variants":[{"id":41611238047825}]},{"id":7576114167889,"variants":[{"id":41670972276817}]}]},{"name":"One, Cloud One, Dream, Dream Max (TwinXL only)","productFilter":[{"id":7550888181841,"variants":[{"id":41611237883985}]},{"id":14912713326958,"variants":[{"id":53110577824110}]},{"id":14912706380142,"variants":[{"id":53110469394798}]},{"id":14686364139886,"variants":[{"id":51985624760686}]},{"id":7576114036817,"variants":[{"id":41670971195473}]},{"id":7576114167889,"variants":[{"id":41670972112977}]}]}],"discountRules":[{"message":"Add-on, Twin\/TwinXL","recurring":false,"requireAllTargets":false,"discountValue":{"percentage":{"value":"35.33"}},"maxRecurrences":null,"currency":null,"prereqParts":[],"fixedPrice":null,"targetParts":[{"bucket":"Original Pillows","quantity":2,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Waterproof Mattress Protector, T\/TXL","quantity":2,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[{"bucket":"One, Cloud One, Dream, Dream Max (T\/TXL)","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"},{"bucket":"Original Pillows","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"},{"bucket":"Waterproof Mattress Protector, T\/TXL","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"}]},{"message":"Add-on, Full\/Queen","recurring":false,"requireAllTargets":false,"discountValue":{"percentage":{"value":"33.46"}},"maxRecurrences":null,"currency":null,"prereqParts":[],"fixedPrice":null,"targetParts":[{"bucket":"Original Pillow, standard, double pack","quantity":2,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Waterproof Mattress Protector, F\/Q","quantity":2,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[{"bucket":"One, Cloud One, Dream, Dream Max (F\/Q)","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"},{"bucket":"Original Pillow, standard, double pack","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"},{"bucket":"Waterproof Mattress Protector, F\/Q","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"}]},{"message":"Add-on, King\/CK","recurring":false,"requireAllTargets":false,"discountValue":{"percentage":{"value":"34.48"}},"maxRecurrences":null,"currency":null,"prereqParts":[],"fixedPrice":null,"targetParts":[{"bucket":"Original Pillow, king, double pack","quantity":2,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Waterproof Mattress Protector, K\/CK","quantity":2,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[{"bucket":"One, Cloud One, Dream, Dream Max (K\/CK)","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"},{"bucket":"Original Pillow, king, double pack","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"},{"bucket":"Waterproof Mattress Protector, K\/CK","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"}]},{"message":"Add-on, Split King","recurring":false,"requireAllTargets":false,"discountValue":{"percentage":{"value":"34.07"}},"maxRecurrences":null,"currency":null,"prereqParts":[],"fixedPrice":null,"targetParts":[{"bucket":"Original Pillow, king, double pack","quantity":2,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Waterproof Mattress Protector, TXL only","quantity":2,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[{"bucket":"One, Cloud One, Dream, Dream Max (SK)","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"},{"bucket":"Original Pillow, king, double pack","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"},{"bucket":"Waterproof Mattress Protector, TXL only","quantity":2,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"}]},{"message":"Add-on, Split King (1)","recurring":false,"requireAllTargets":false,"discountValue":{"percentage":{"value":"34.07"}},"maxRecurrences":null,"currency":null,"prereqParts":[],"fixedPrice":null,"targetParts":[{"bucket":"Original Pillow, king, double pack","quantity":2,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Waterproof Mattress Protector, T\/TXL","quantity":4,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[{"bucket":"One, Cloud One, Dream, Dream Max (TwinXL only)","quantity":2,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"},{"bucket":"Original Pillow, king, double pack","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"},{"bucket":"Waterproof Mattress Protector, TXL only","quantity":2,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"}]}],"discountApplicationStrategy":"ALL","orderDiscountRules":[],"orderDiscountApplicationStrategy":"MAXIMUM","shippingDiscountRules":[],"shippingDiscountApplicationStrategy":"ALL","locationIds":null,"locationOperator":"oneOf","marketHandles":null,"marketOperator":"oneOf","customerTags":null,"customerOperator":"oneOf","allowB2b":false,"allowB2B":false,"fillingStrategy":"all","discountType":"CUSTOM","appliesOncePerCustomer":false,"usageLimit":null,"attributeKey":"_discount_kit","currencyCode":null,"useMetafieldDiscounts":false,"metafieldNamespace":"","metafieldKey":""}}},"startsAt":"2025-08-13T07:00:00Z","endsAt":null},
      
        
        
        {"id":"gid:\/\/shopify\/DiscountAutomaticNode\/1696713998702","discountType":"CUSTOM","discountTitle":"AUTO: bundle upsells on mattress PDPs - over 30% - Snow Max","discountStatus":"ACTIVE","discountNode":{"config":{"value":{"discountTitle":"AUTO: bundle upsells on mattress PDPs - over 30% - Snow Max","bucketRules":[{"name":"ALL_RESERVED"},{"name":"Hybrid Snow Pillow, standard","productFilter":[{"id":7576114266193,"variants":[{"id":41670972604497}]}]},{"name":"Hybrid Snow Pillow, standard, double pack","productFilter":[{"id":7576114462801,"variants":[{"id":41670973161553}]}]},{"name":"Hybrid Snow Pillow, king, double pack","productFilter":[{"id":7576114462801,"variants":[{"id":41670973194321}]}]},{"name":"Breathable Mattress Protector, T\/TXL","productFilter":[{"id":7576114987089,"variants":[{"id":41670975520849},{"id":41670975553617}]}]},{"name":"Breathable Mattress Protector, F\/Q","productFilter":[{"id":7576114987089,"variants":[{"id":41670975586385},{"id":41670975619153}]}]},{"name":"Breathable Mattress Protector, K\/CK","productFilter":[{"id":7576114987089,"variants":[{"id":41670975651921},{"id":41670975684689}]}]},{"name":"Snow Max (TXL)","productFilter":[{"id":7576114200657,"variants":[{"id":41670972342353}]}]},{"name":"Snow Max (F\/Q)","productFilter":[{"id":7576114200657,"variants":[{"id":41670972375121},{"id":41670972407889}]}]},{"name":"Snow Max (K\/CK)","productFilter":[{"id":7576114200657,"variants":[{"id":41670972440657},{"id":41670972473425}]}]},{"name":"Snow Max (SK)","productFilter":[{"id":7576114200657,"variants":[{"id":41670972506193}]}]}],"discountRules":[{"message":"Add-on, TwinXL","recurring":false,"requireAllTargets":false,"discountValue":{"percentage":{"value":"32.14"}},"maxRecurrences":null,"currency":null,"prereqParts":[],"fixedPrice":null,"targetParts":[{"bucket":"Hybrid Snow Pillow, standard","quantity":2,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Breathable Mattress Protector, T\/TXL","quantity":2,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[{"bucket":"Snow Max (TXL)","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"},{"bucket":"Hybrid Snow Pillow, standard","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"},{"bucket":"Breathable Mattress Protector, T\/TXL","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"}]},{"message":"Add-on, Full\/Queen","recurring":false,"requireAllTargets":false,"discountValue":{"percentage":{"value":"32.5"}},"maxRecurrences":null,"currency":null,"prereqParts":[],"fixedPrice":null,"targetParts":[{"bucket":"Hybrid Snow Pillow, standard, double pack","quantity":2,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Breathable Mattress Protector, F\/Q","quantity":2,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[{"bucket":"Snow Max (F\/Q)","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"},{"bucket":"Hybrid Snow Pillow, standard, double pack","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"},{"bucket":"Breathable Mattress Protector, F\/Q","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"}]},{"message":"Add-on, King\/CK","recurring":false,"requireAllTargets":false,"discountValue":{"percentage":{"value":"32.03"}},"maxRecurrences":null,"currency":null,"prereqParts":[],"fixedPrice":null,"targetParts":[{"bucket":"Hybrid Snow Pillow, king, double pack","quantity":2,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Breathable Mattress Protector, K\/CK","quantity":2,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[{"bucket":"Snow Max (K\/CK)","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"},{"bucket":"Hybrid Snow Pillow, king, double pack","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"},{"bucket":"Breathable Mattress Protector, K\/CK","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"}]},{"message":"Add-on, Split King","recurring":false,"requireAllTargets":false,"discountValue":{"percentage":{"value":"33.58"}},"maxRecurrences":null,"currency":null,"prereqParts":[],"fixedPrice":null,"targetParts":[{"bucket":"Hybrid Snow Pillow, king, double pack","quantity":2,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Breathable Mattress Protector, T\/TXL","quantity":4,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[{"bucket":"Snow Max (SK)","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"},{"bucket":"Hybrid Snow Pillow, king, double pack","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"},{"bucket":"Breathable Mattress Protector, T\/TXL","quantity":2,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"}]},{"message":"Add-on, Split King (1)","recurring":false,"requireAllTargets":false,"discountValue":{"percentage":{"value":"33.58"}},"maxRecurrences":null,"currency":null,"prereqParts":[],"fixedPrice":null,"targetParts":[{"bucket":"Hybrid Snow Pillow, king, double pack","quantity":2,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Breathable Mattress Protector, T\/TXL","quantity":4,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[{"bucket":"Snow Max (TXL)","quantity":2,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"},{"bucket":"Hybrid Snow Pillow, king, double pack","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"},{"bucket":"Breathable Mattress Protector, T\/TXL","quantity":2,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"}]}],"discountApplicationStrategy":"ALL","orderDiscountRules":[],"orderDiscountApplicationStrategy":"MAXIMUM","shippingDiscountRules":[],"shippingDiscountApplicationStrategy":"ALL","locationIds":null,"locationOperator":"oneOf","marketHandles":null,"marketOperator":"oneOf","customerTags":null,"customerOperator":"oneOf","allowB2b":false,"allowB2B":false,"fillingStrategy":"all","discountType":"CUSTOM","appliesOncePerCustomer":false,"usageLimit":null,"attributeKey":"_discount_kit","currencyCode":null,"useMetafieldDiscounts":false,"metafieldNamespace":"","metafieldKey":""}}},"startsAt":"2025-08-13T07:00:00Z","endsAt":null},
      
        
        
        {"id":"gid:\/\/shopify\/DiscountAutomaticNode\/1699601482094","discountType":"CUSTOM","discountTitle":"AUTO: bundle upsells on mattress PDPs - over 30% - Snow","discountStatus":"ACTIVE","discountNode":{"config":{"value":{"discountTitle":"AUTO: bundle upsells on mattress PDPs - over 30% - Snow","bucketRules":[{"name":"ALL_RESERVED"},{"name":"Original Pillows","productFilter":[{"id":7576114233425,"variants":[]}]},{"name":"Original Pillow, standard, double pack","productFilter":[{"id":7576114430033,"variants":[{"id":41670973096017}]}]},{"name":"Original Pillow, king, double pack","productFilter":[{"id":7576114430033,"variants":[{"id":41670973128785}]}]},{"name":"Breathable Mattress Protector, T\/TXL","productFilter":[{"id":7576114987089,"variants":[{"id":41670975520849},{"id":41670975553617}]}]},{"name":"Breathable Mattress Protector, F\/Q","productFilter":[{"id":7576114987089,"variants":[{"id":41670975586385},{"id":41670975619153}]}]},{"name":"Breathable Mattress Protector, K\/CK","productFilter":[{"id":7576114987089,"variants":[{"id":41670975651921},{"id":41670975684689}]}]},{"name":"Snow (TXL)","productFilter":[{"id":7576114135121,"variants":[{"id":41670971883601}]}]},{"name":"Snow (F\/Q)","productFilter":[{"id":7576114135121,"variants":[{"id":41670971916369},{"id":41670971949137}]}]},{"name":"Snow (K\/CK)","productFilter":[{"id":7576114135121,"variants":[{"id":41670971981905},{"id":41670972014673}]}]},{"name":"Snow (SK)","productFilter":[{"id":7576114135121,"variants":[{"id":41670972047441}]}]}],"discountRules":[{"message":"Add-on, TwinXL","recurring":false,"requireAllTargets":false,"discountValue":{"percentage":{"value":"31.86"}},"maxRecurrences":null,"currency":null,"prereqParts":[],"fixedPrice":null,"targetParts":[{"bucket":"Original Pillows","quantity":2,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Breathable Mattress Protector, T\/TXL","quantity":2,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[{"bucket":"Snow (TXL)","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"},{"bucket":"Original Pillows","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"},{"bucket":"Breathable Mattress Protector, T\/TXL","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"}]},{"message":"Add-on, Full\/Queen","recurring":false,"requireAllTargets":false,"discountValue":{"percentage":{"value":"32.36"}},"maxRecurrences":null,"currency":null,"prereqParts":[],"fixedPrice":null,"targetParts":[{"bucket":"Original Pillow, standard, double pack","quantity":2,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Breathable Mattress Protector, F\/Q","quantity":2,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[{"bucket":"Snow (F\/Q)","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"},{"bucket":"Original Pillow, standard, double pack","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"},{"bucket":"Breathable Mattress Protector, F\/Q","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"}]},{"message":"Add-on, King\/CK","recurring":false,"requireAllTargets":false,"discountValue":{"percentage":{"value":"33.43"}},"maxRecurrences":null,"currency":null,"prereqParts":[],"fixedPrice":null,"targetParts":[{"bucket":"Original Pillow, king, double pack","quantity":2,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Breathable Mattress Protector, K\/CK","quantity":2,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[{"bucket":"Snow (K\/CK)","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"},{"bucket":"Original Pillow, king, double pack","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"},{"bucket":"Breathable Mattress Protector, K\/CK","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"}]},{"message":"Add-on, Split King","recurring":false,"requireAllTargets":false,"discountValue":{"percentage":{"value":"31.03"}},"maxRecurrences":null,"currency":null,"prereqParts":[],"fixedPrice":null,"targetParts":[{"bucket":"Original Pillow, king, double pack","quantity":2,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Breathable Mattress Protector, T\/TXL","quantity":4,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[{"bucket":"Snow (SK)","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"},{"bucket":"Original Pillow, king, double pack","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"},{"bucket":"Breathable Mattress Protector, T\/TXL","quantity":2,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"}]},{"message":"Add-on, Split King (1)","recurring":false,"requireAllTargets":false,"discountValue":{"percentage":{"value":"31.03"}},"maxRecurrences":null,"currency":null,"prereqParts":[],"fixedPrice":null,"targetParts":[{"bucket":"Original Pillow, king, double pack","quantity":2,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Breathable Mattress Protector, T\/TXL","quantity":4,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[{"bucket":"Snow (TXL)","quantity":2,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"},{"bucket":"Original Pillow, king, double pack","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"},{"bucket":"Breathable Mattress Protector, T\/TXL","quantity":2,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"}]}],"discountApplicationStrategy":"ALL","orderDiscountRules":[],"orderDiscountApplicationStrategy":"MAXIMUM","shippingDiscountRules":[],"shippingDiscountApplicationStrategy":"ALL","locationIds":null,"locationOperator":"oneOf","marketHandles":null,"marketOperator":"oneOf","customerTags":null,"customerOperator":"oneOf","allowB2b":false,"allowB2B":false,"fillingStrategy":"all","discountType":"CUSTOM","appliesOncePerCustomer":false,"usageLimit":null,"attributeKey":"_discount_kit","currencyCode":null,"useMetafieldDiscounts":false,"metafieldNamespace":"","metafieldKey":""}}},"startsAt":"2025-08-13T07:00:00Z","endsAt":null},
      
        
        
        {"id":"gid:\/\/shopify\/DiscountAutomaticNode\/1713076044142","discountType":"CUSTOM","discountTitle":"AUTO: 20% off Foams","discountStatus":"ACTIVE","discountNode":{"config":{"value":{"test":false,"discountTitle":"AUTO: 20% off Foams","bucketRules":[{"name":"ALL_RESERVED"},{"name":"custom.json_discount","cartLineMetafieldValueFilter":"asdf"}],"discountRules":[],"discountApplicationStrategy":"ALL","orderDiscountRules":[],"orderDiscountApplicationStrategy":"MAXIMUM","shippingDiscountRules":[],"shippingDiscountApplicationStrategy":"ALL","locationIds":null,"locationOperator":"oneOf","marketHandles":null,"marketOperator":"oneOf","customerTags":null,"customerOperator":"oneOf","allowB2b":false,"allowB2B":false,"fillingStrategy":"all","discountType":"CUSTOM","appliesOncePerCustomer":false,"usageLimit":null,"attributeKey":"_discount_kit","currencyCode":null,"useMetafieldDiscounts":true,"metafieldNamespace":"custom","metafieldKey":"json_discount"}}},"startsAt":"2026-01-27T08:00:00Z","endsAt":"2026-02-24T08:00:00Z"},
      
        
        
        {"id":"gid:\/\/shopify\/DiscountAutomaticNode\/1713076535662","discountType":"CUSTOM","discountTitle":"AUTO: 30% off Hybrids and Maxes","discountStatus":"ACTIVE","discountNode":{"config":{"value":{"test":false,"discountTitle":"AUTO: 30% off Hybrids and Maxes","bucketRules":[{"name":"ALL_RESERVED"},{"name":"custom.json_discount","cartLineMetafieldValueFilter":"asdf"}],"discountRules":[],"discountApplicationStrategy":"ALL","orderDiscountRules":[],"orderDiscountApplicationStrategy":"MAXIMUM","shippingDiscountRules":[],"shippingDiscountApplicationStrategy":"ALL","locationIds":null,"locationOperator":"oneOf","marketHandles":null,"marketOperator":"oneOf","customerTags":null,"customerOperator":"oneOf","allowB2b":false,"allowB2B":false,"fillingStrategy":"all","discountType":"CUSTOM","appliesOncePerCustomer":false,"usageLimit":null,"attributeKey":"_discount_kit","currencyCode":null,"useMetafieldDiscounts":true,"metafieldNamespace":"custom","metafieldKey":"json_discount"}}},"startsAt":"2026-01-27T08:00:00Z","endsAt":"2026-02-24T08:00:00Z"},
      
        
        
        {"id":"gid:\/\/shopify\/DiscountAutomaticNode\/1713077354862","discountType":"CUSTOM","discountTitle":"AUTO: 30% off Adjustables","discountStatus":"ACTIVE","discountNode":{"config":{"value":{"test":false,"discountTitle":"AUTO: 30% off Adjustables","bucketRules":[{"name":"ALL_RESERVED"},{"name":"custom.json_discount","cartLineMetafieldValueFilter":"asdf"}],"discountRules":[],"discountApplicationStrategy":"ALL","orderDiscountRules":[],"orderDiscountApplicationStrategy":"MAXIMUM","shippingDiscountRules":[],"shippingDiscountApplicationStrategy":"ALL","locationIds":null,"locationOperator":"oneOf","marketHandles":null,"marketOperator":"oneOf","customerTags":null,"customerOperator":"oneOf","allowB2b":false,"allowB2B":false,"fillingStrategy":"all","discountType":"CUSTOM","appliesOncePerCustomer":false,"usageLimit":null,"attributeKey":"_discount_kit","currencyCode":null,"useMetafieldDiscounts":true,"metafieldNamespace":"custom","metafieldKey":"json_discount"}}},"startsAt":"2026-01-27T08:00:00Z","endsAt":"2026-02-24T08:00:00Z"},
      
        
        
        {"id":"gid:\/\/shopify\/DiscountAutomaticNode\/1714382242158","discountType":"CUSTOM","discountTitle":"AUTO: Bundles 35% off, 4 of 4 (Dream Bundle)","discountStatus":"ACTIVE","discountNode":{"config":{"value":{"discountTitle":"AUTO: Bundles 35% off, 4 of 4 (Dream Bundle)","bucketRules":[{"name":"ALL_RESERVED"},{"name":"Dream and Dream Max","productFilter":[{"id":7550888181841,"variants":[]},{"id":7576114167889,"variants":[]}]},{"name":"Dream and Dream Max (Split King)","productFilter":[{"id":7550888181841,"variants":[{"id":41611238047825}]},{"id":7576114167889,"variants":[{"id":41670972276817}]}]},{"name":"Foundation","productFilter":[{"id":"7576114757713","variants":null}]},{"name":"Foundation, TwinXL","productFilter":[{"id":"7576114757713","variants":[{"id":"41670974963793"}]}]},{"name":"mattress protectors","productFilter":[{"id":7576114954321,"variants":[]},{"id":7576114987089,"variants":[]}]},{"name":"mattress protectors (TwinXL)","productFilter":[{"id":7576114954321,"variants":[{"id":41670975357009}]},{"id":7576114987089,"variants":[{"id":41670975553617}]}]},{"name":"Metal Bed Frame","productFilter":[{"id":"7576114790481","variants":null}]},{"name":"Metal Bed Frame, Twin\/TwinXL","productFilter":[{"id":"7576114790481","variants":[{"id":"41670975127633"}]}]}],"discountRules":[{"message":"Dream Bundle, Split King + Metal Bed Frame","messageTranslations":null,"recurring":true,"requireAllTargets":false,"discountValue":{"percentage":{"value":"35"}},"maxRecurrences":null,"currency":null,"prereqParts":[{"bucket":"Dream and Dream Max (Split King)","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"Foundation, TwinXL","quantity":2,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"mattress protectors (TwinXL)","quantity":2,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"Metal Bed Frame, Twin\/TwinXL","quantity":2,"total":null,"uniqueProducts":null,"uniqueVariants":null}],"fixedPrice":null,"targetParts":[{"bucket":"Dream and Dream Max (Split King)","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Foundation, TwinXL","quantity":2,"targetSelectionStrategy":"cheapest_first"},{"bucket":"mattress protectors (TwinXL)","quantity":2,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Metal Bed Frame, Twin\/TwinXL","quantity":2,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[]},{"message":"Dream Bundle, Split King","messageTranslations":null,"recurring":true,"requireAllTargets":false,"discountValue":{"percentage":{"value":"35"}},"maxRecurrences":null,"currency":null,"prereqParts":[{"bucket":"Dream and Dream Max (Split King)","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"Foundation, TwinXL","quantity":2,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"mattress protectors (TwinXL)","quantity":2,"total":null,"uniqueProducts":null,"uniqueVariants":null}],"fixedPrice":null,"targetParts":[{"bucket":"Dream and Dream Max (Split King)","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Foundation, TwinXL","quantity":2,"targetSelectionStrategy":"cheapest_first"},{"bucket":"mattress protectors (TwinXL)","quantity":2,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[]},{"message":"Dream Bundle + Metal Bed Frame","messageTranslations":null,"recurring":true,"requireAllTargets":false,"discountValue":{"percentage":{"value":"35"}},"maxRecurrences":null,"currency":null,"prereqParts":[{"bucket":"Dream and Dream Max","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"Foundation","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"mattress protectors","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"Metal Bed Frame","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null}],"fixedPrice":null,"targetParts":[{"bucket":"Dream and Dream Max","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Foundation","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"mattress protectors","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Metal Bed Frame","quantity":1,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[]},{"message":"Dream Bundle","messageTranslations":null,"recurring":true,"requireAllTargets":false,"discountValue":{"percentage":{"value":"35"}},"maxRecurrences":null,"currency":null,"prereqParts":[{"bucket":"Dream and Dream Max","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"Foundation","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null},{"bucket":"mattress protectors","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null}],"fixedPrice":null,"targetParts":[{"bucket":"Dream and Dream Max","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"Foundation","quantity":1,"targetSelectionStrategy":"cheapest_first"},{"bucket":"mattress protectors","quantity":1,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[]}],"discountApplicationStrategy":"ALL","orderDiscountRules":[],"orderDiscountApplicationStrategy":"MAXIMUM","shippingDiscountRules":[],"shippingDiscountApplicationStrategy":"ALL","locationIds":null,"locationOperator":"oneOf","marketHandles":null,"marketOperator":"oneOf","customerTags":null,"customerOperator":"oneOf","allowB2b":false,"allowB2B":false,"fillingStrategy":"all","discountType":"CUSTOM","appliesOncePerCustomer":false,"usageLimit":null,"attributeKey":"_discount_kit","currencyCode":null,"useMetafieldDiscounts":false,"metafieldNamespace":"","metafieldKey":""}}},"startsAt":"2026-01-27T08:00:00Z","endsAt":"2026-02-24T08:00:00Z"},
      
        
        
        {"id":"gid:\/\/shopify\/DiscountAutomaticNode\/1720172249454","discountType":"CUSTOM","discountTitle":"AUTO: Miscellaneous","discountStatus":"ACTIVE","discountNode":{"config":{"value":{"test":false,"discountTitle":"AUTO: Miscellaneous","bucketRules":[{"name":"ALL_RESERVED"},{"name":"custom.json_discount","cartLineMetafieldValueFilter":"asdf"}],"discountRules":[],"discountApplicationStrategy":"ALL","orderDiscountRules":[],"orderDiscountApplicationStrategy":"MAXIMUM","shippingDiscountRules":[],"shippingDiscountApplicationStrategy":"ALL","locationIds":null,"locationOperator":"oneOf","marketHandles":null,"marketOperator":"oneOf","customerTags":null,"customerOperator":"oneOf","allowB2b":false,"allowB2B":false,"fillingStrategy":"all","discountType":"CUSTOM","appliesOncePerCustomer":false,"usageLimit":null,"attributeKey":"_discount_kit","currencyCode":null,"useMetafieldDiscounts":true,"metafieldNamespace":"custom","metafieldKey":"json_discount"}}},"startsAt":"2026-01-27T08:00:00Z","endsAt":"2026-02-24T08:00:00Z"},
      
        
        
        {"id":"gid:\/\/shopify\/DiscountAutomaticNode\/1720172642670","discountType":"CUSTOM","discountTitle":"AUTO: 10% off sitewide","discountStatus":"ACTIVE","discountNode":{"config":{"value":{"test":false,"discountTitle":"AUTO: 10% off sitewide","bucketRules":[{"name":"ALL_RESERVED"},{"name":"custom.json_discount","cartLineMetafieldValueFilter":"asdf"}],"discountRules":[],"discountApplicationStrategy":"ALL","orderDiscountRules":[],"orderDiscountApplicationStrategy":"MAXIMUM","shippingDiscountRules":[],"shippingDiscountApplicationStrategy":"ALL","locationIds":null,"locationOperator":"oneOf","marketHandles":null,"marketOperator":"oneOf","customerTags":null,"customerOperator":"oneOf","allowB2b":false,"allowB2B":false,"fillingStrategy":"all","discountType":"CUSTOM","appliesOncePerCustomer":false,"usageLimit":null,"attributeKey":"_discount_kit","currencyCode":null,"useMetafieldDiscounts":true,"metafieldNamespace":"custom","metafieldKey":"json_discount"}}},"startsAt":"2026-01-14T08:00:00Z","endsAt":"2026-02-24T08:00:00Z"},
      
        
        
        {"id":"gid:\/\/shopify\/DiscountAutomaticNode\/1720172937582","discountType":"CUSTOM","discountTitle":"AUTO: 20% off 2+ Pillows","discountStatus":"ACTIVE","discountNode":{"config":{"value":{"discountTitle":"AUTO: 20% off 2+ Pillows","bucketRules":[{"name":"ALL_RESERVED"},{"name":"pillow double packs","collectionFilter":[639617499502],"cfp":[0]},{"name":"pillows (single)","collectionFilter":[640502989166],"cfp":[1]}],"discountRules":[{"message":"20% off 2+ Pillows","messageTranslations":null,"recurring":false,"requireAllTargets":false,"discountValue":{"percentage":{"value":"20"}},"maxRecurrences":null,"currency":null,"prereqParts":[],"fixedPrice":null,"targetParts":[{"bucket":"pillow double packs","quantity":null,"targetSelectionStrategy":"cheapest_first"},{"bucket":"pillows (single)","quantity":null,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[{"bucket":"pillow double packs","quantity":1,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"}]},{"message":"20% off, 2+ Pillows","messageTranslations":null,"recurring":false,"requireAllTargets":false,"discountValue":{"percentage":{"value":"20"}},"maxRecurrences":null,"currency":null,"prereqParts":[],"fixedPrice":null,"targetParts":[{"bucket":"pillows (single)","quantity":null,"targetSelectionStrategy":"cheapest_first"}],"useCompareAtPrice":false,"conditionParts":[{"bucket":"pillows (single)","quantity":2,"total":null,"uniqueProducts":null,"uniqueVariants":null,"operator":"greaterThanOrEqual"}]}],"discountApplicationStrategy":"ALL","orderDiscountRules":[],"orderDiscountApplicationStrategy":"MAXIMUM","shippingDiscountRules":[],"shippingDiscountApplicationStrategy":"ALL","locationIds":null,"locationOperator":"oneOf","marketHandles":null,"marketOperator":"oneOf","customerTags":null,"customerOperator":"oneOf","allowB2b":false,"allowB2B":false,"fillingStrategy":"all","discountType":"CUSTOM","appliesOncePerCustomer":false,"usageLimit":null,"attributeKey":"_discount_kit","currencyCode":null,"useMetafieldDiscounts":false,"metafieldNamespace":"","metafieldKey":""}}},"startsAt":"2026-01-14T08:00:00Z","endsAt":"2026-02-24T08:00:00Z"}
      
    ]
  };

  // Gift products for GWP
  window.discount_kit.gift_products = [];
  
</script>

<script
  type='module'
  src='https://cdn.shopify.com/extensions/019c1dcd-e68b-7a73-9f25-c1bf6ece7dd4/discount-kit-440/assets/dk_core.js'
></script>
<!-- END app snippet -->






</div></body>
</html>
